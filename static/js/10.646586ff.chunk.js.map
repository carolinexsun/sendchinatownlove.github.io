{"version":3,"sources":["utilities/api/endpoints.ts","utilities/api/interactionManager.ts","utilities/api/index.ts","utilities/index.ts","components/ModalPayment/ModalBuyMeal/styles.module.scss","utilities/general/responsive.tsx","components/MerchantsPage/images/gam_icon_step1.svg","components/MerchantsPage/images/gam_icon_step2.svg","components/MerchantsPage/images/gam_icon_step3.svg","components/MerchantsPage/images/gam_icon_step4.svg","components/ModalPayment/ModalConfirmation/chinatown-logo.png","components/ModalPayment/styles.tsx","components/ModalPayment/ModalAmount/LanternForm.tsx","components/ModalPayment/ModalAmount/ModalAmount.tsx","components/ModalPayment/ModalBuyMeal/CamapignInstructions.tsx","components/ModalPayment/ModalBuyMeal/ModalBuyMealPool.tsx","components/ModalPayment/ModalCardDetails/SquareCardForm.tsx","components/ModalPayment/ModalCardDetails/SubmissionButton.tsx","components/ModalPayment/ModalCardDetails/ModalCardDetails.tsx","components/ModalPayment/ModalConfirmation/ModalConfirmation.tsx","components/ModalPayment/Modal.tsx","components/MerchantsPage/gam/styles.module.scss","components/MerchantsPage/images/illustrated_flatlay_hero.png","components/MerchantsPage/images/campaign_default.png","../node_modules/fast-deep-equal/index.js","../node_modules/youtube-player/dist/index.js","../node_modules/sister/src/sister.js","../node_modules/youtube-player/dist/loadYouTubeIframeApi.js","../node_modules/load-script/index.js","../node_modules/youtube-player/dist/YouTubePlayer.js","../node_modules/debug/src/browser.js","../node_modules/debug/src/debug.js","../node_modules/debug/node_modules/ms/index.js","../node_modules/youtube-player/dist/functionNames.js","../node_modules/youtube-player/dist/eventNames.js","../node_modules/youtube-player/dist/FunctionStateMap.js","../node_modules/youtube-player/dist/constants/PlayerStates.js","components/MerchantsPage/gam/CampaignInstructions.tsx","components/MerchantsPage/gam/ProgressBar.tsx","components/MerchantsPage/gam/CampaignProgressBar.tsx","components/MerchantsPage/gam/CampaignListItem.tsx","components/MerchantsPage/gam/MegaGamListItem/MegaGamProgressBar.tsx","components/MerchantsPage/gam/MegaGamListItem/SellerDistributorPair.tsx","components/MerchantsPage/gam/MegaGamListItem/MegaGamListItem.tsx","components/MerchantsPage/gam/NoCampaignsBox.tsx","../node_modules/react-youtube/dist/index.esm.js","components/MerchantsPage/gam/VideoComponent.tsx","components/MerchantsPage/gam/GiftAMealPage.tsx"],"names":["baseUrl","process","sellers","charges","vouchers","passportVouchers","contacts","sponsorSellers","getSellers","lang","a","axios","get","params","locale","localeFromLanguage","getSeller","id","getSellerHours","getSellerDeliveryOptions","makeSquarePayment","nonce","sellerId","payment","buyer","isDistribution","campaignId","projectId","metadata","email","name","idempotencyKey","idempotency_key","isSubscribed","is_subscribed","post","is_square","line_items","seller_id","project_id","is_distribution","campaign_id","headers","then","res","catch","err","getVoucher","updateVoucher","amount","put","getMerchantGiftCards","secret","filterGAM","filterGAMString","language","getCampaigns","getCampaignsForMerchant","getDistributor","getFiscalSponsor","getAllParticipatingSellers","getParticipatingMerchant","getParticipatingMerchantTickets","tickets_secret","page","items","printed","associated","getPassportEmailId","getContactInfo","passportId","createPassportEmailId","instagram","updatePassportInstagram","checkForValidTicket","ticket_id","updateTicketContactId","contact_id","getPassportTickets","getParticipatingSeller","getGiveawayTicketsForContact","contactId","sendRedeemTicketsEmail","getLocationById","locationId","getAllSponsors","getOneSponsor","rewardId","redeemReward","auth_token","tickets","createLyftReward","getLyftReward","redeemToken","token","getProject","light_up_chinatown_id","module","exports","phoneScreens","smallScreens","tabletScreens","Subheader","styled","div","RowFormat","props","width","mobileWidth","LabelText","label","InputText","input","LanternForm","t","useTranslation","useModalPaymentState","lucData","dispatch","useModalPaymentDispatch","React","useState","showAddress","setShowAddress","subHeader","LIGHT_UP_CHINATOWN_TIER_3_MIN","subText","limit","LIGHT_UP_CHINATOWN_TIER_2_MIN","handleOnChange","e","preventDefault","type","ModalPaymentConstants","SET_LUC_DATA","payload","key","target","value","toString","handleAddress","shouldShowAddress","CLEAR_ADDRESS","AmountContainer","SingleRowFormat","htmlFor","className","onChange","placeholder","firstName","middleInitial","lastName","TextTrigger","onClick","address","NameRow","fullName","city","StateZipRow","state","zipCode","button","Modal","modalView","isCustomAmount","setIsCustomAmount","selected","setSelected","handleAmount","customAmount","text","SET_AMOUNT","buttonAmounts","ModalPaymentTypes","modalPages","light_up_chinatown","map","x","ContentContainer","data-testid","Header","purchaseType","sellerName","donation","seller","gift_card","getHeaderText","SelectAmtContainer","CustomAmountContainer","CustomAmountInput","onFocus","onKeyDown","evt","min","max","Number","ErrorMessage","NextButton","ReactPixel","trackCustom","SET_MODAL_VIEW","card_details","disabled","test","form","CampaignInstructions","styles","modalBackground","modalInstructionsGrid","gam_icon_step1","gam_icon_step2","gam_icon_step3","gam_icon_step4","idx","step","icon","generateStep","modalStepGrid","src","alt","modalStepText","uppercase","bold","numberOfMeals","setNumberOfMeals","campaignDistributor","setCampaignDistributor","valueInt","parseInt","isNaN","totalMealPrice","costPerMeal","String","totalAmount","useEffect","fetchData","data","distributor_id","distrib","Distributor","href","website_url","rel","link","header","description","amountContainer","selectAmtContainer","selectAmt","classnames","customAmt","separator","total","nextBtn","SquareCardForm","SquareCardRow","SquareCardItem","SubmissionButton","canSubmit","context","useContext","Context","submittable","onCreateNonce","ModalCardDetails","applicationId","nonProfitLocationId","uuid","isTermsChecked","setTermsChecked","isSubscriptionChecked","setSubscriptionChecked","setName","setEmail","errorMessages","setErrorsMessages","setCanSubmit","buy_meal","mealText","numberOfMealsText","length","EMAIL_REGEX","purchaseTypeHeader","PaymentContainer","pattern","source","required","SquareFormContainer","sandbox","cardNonceResponseReceived","errors","times","currency","item_type","quantity","purchaseTypeToItemType","JSON","stringify","status","confirmation","response","responseErrors","message","code","detail","newErrors","error","hasKey","SquareErrors","formId","apiWrapper","errorMessage","donation_pool","setDetailsText","purchaseTypeMessage","BoldText","substring","toUpperCase","CheckboxContainer","Checkbox","inputProps","checked","Disclaimer","setDisclaimerLanguage","ButtonRow","BackButton","span","ModalConfirmation","closeModal","UPDATE_SELLER_DATA","amount_raised","CLOSE_MODAL","undefined","Container","confirmationText","ThankYouImage","confirmationPic","FinishButton","img","ModalContainer","CloseButtonContainer","CloseButton","ViewContainer","ModalAmount","renderModalPage","equal","b","constructor","i","keys","Array","isArray","RegExp","flags","valueOf","Object","prototype","hasOwnProperty","call","defineProperty","_typeof","Symbol","iterator","obj","_sister2","_interopRequireDefault","require","_loadYouTubeIframeApi2","_YouTubePlayer2","__esModule","default","youtubeIframeAPI","maybeElementId","options","arguments","strictState","emitter","events","Error","document","getElementById","proxyEvents","playerAPIReady","Promise","resolve","playVideo","Function","YT","player","Player","on","playerApi","promisifyPlayer","off","Sister","sister","handler","listener","unshift","index","indexOf","splice","trigger","listeners","_loadScript","_loadScript2","window","protocol","location","previous","onYouTubeIframeAPIReady","stdOnEnd","script","cb","onload","this","onerror","ieOnEnd","onreadystatechange","readyState","opts","head","getElementsByTagName","createElement","charset","async","attrs","attr","setAttribute","setAttributes","appendChild","_debug2","_functionNames2","_eventNames2","_FunctionStateMap2","debug","YouTubePlayer","_loop","eventName","onEventName","slice","event","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","done","return","functions","_loop2","functionName","_len","args","_key","stateInfo","playerState","getPlayerState","apply","stateChangeRequired","acceptableStates","addEventListener","onPlayerStateChange","playerStateAfterChange","timeout","setTimeout","removeEventListener","clearTimeout","_len2","_key2","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","load","r","storage","DEBUG","log","console","formatArgs","useColors","namespace","humanize","diff","c","color","lastC","replace","match","save","namespaces","removeItem","documentElement","style","WebkitAppearance","firebug","exception","table","navigator","userAgent","toLowerCase","$1","chrome","local","localStorage","localstorage","colors","formatters","j","v","enable","prevTime","createDebug","enabled","self","curr","Date","ms","prev","coerce","format","formatter","val","logFn","bind","hash","charCodeAt","Math","abs","selectColor","init","stack","disable","names","skips","split","len","push","substr","s","m","h","d","plural","n","floor","ceil","str","exec","parseFloat","parse","long","round","fmtShort","_PlayerStates","_PlayerStates2","pauseVideo","ENDED","PAUSED","PLAYING","seekTo","BUFFERING","UNSTARTED","VIDEO_CUED","background","instructionsGrid","stepGrid","stepText","SIZE_TYPE","ProgressBar","raised","size","TargetAmountBar","CurrentProgressBar","backgroundColor","current","CampaignProgressBar","isActive","numContributions","targetAmount","progressBarColor","lastContributionTime","endDate","progressPercent","timeUntilEnd","getTime","now","daysUntilEnd","timeSinceLastContribution","TimeStamp","minutesSinceLastConstribution","hoursSinceLastContribution","daysSinceLastContribution","lastContributionTimeAsPresentable","ProgressBarContainer","ProgressTextContainer","ModalBox","CampaignListItem","distributor","setDistributor","merchant","setMerchant","fiscalSponsor","setFiscalSponsor","campaign","distributorData","seller_distributor_pairs","merchantData","nonprofit_id","mealsRaised","price_per_meal","targetMeals","target_amount","campaignImageUrls","gallery_image_urls","Fragment","ColumnContainer","CampaignImageContainer","CampaignImage","campaignDefaultImage","locations","Location","Name","Description","active","last_contribution","end_date","ImagesContainer","DistributorImage","image_url","Button","setSelectedCampaignId","selectedCampaignId","non_profit_location_id","FiscalSponsorContainer","FiscalSponsorImage","logo_image_url","FiscalSponsorDivider","FiscalSponsorText","sponsorName","Border","centsToDollars","cents","toLocaleString","MegaGamProgressBar","totalRaised","totalRaisedDollars","targetAmountDollars","percentRaised","daysLeftInCampaign","moment","TotalRaised","TotalRaisedAmount","EndsAtContainer","MerchantImage","PairContent","PairText","SellerDistributorPair","sellerDistributorPair","seller_image_url","seller_name","distributor_name","distributor_image_url","height","HeroImage","heroImageUrl","Content","DonationContainer","ButtonText","SellerDistributorContent","LearnMoreText","SellerDistributorPairs","MegaGamListItem","display_name","NoActiveCampaignsBox","NoCampaignBox","TextContainer","Heading","SubHeading","open","p","_defineProperties","descriptor","enumerable","configurable","writable","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","filterResetOptions","playerVars","autoplay","start","end","YouTube","_React$Component","subClass","superClass","TypeError","create","_inherits","Derived","Constructor","protoProps","staticProps","_super","result","Super","NewTarget","_this","instance","_classCallCheck","onReady","onError","onStateChange","PlayerState","onEnd","onPlay","onPause","onPlaybackRateChange","onPlaybackQualityChange","playerOpts","videoId","internalPlayer","youTubePlayer","container","onPlayerReady","onPlayerError","onPlayerPlaybackRateChange","onPlayerPlaybackQualityChange","destroy","createPlayer","getIframe","iframe","removeAttribute","startSeconds","endSeconds","loadVideoById","cueVideoById","stopVideo","prevProps","shouldUpdatePlayer","updatePlayer","isEqual","shouldResetPlayer","resetPlayer","prevVars","vars","shouldUpdateVideo","updateVideo","containerClassName","ref","refContainer","Component","CUED","propTypes","PropTypes","string","objectOf","any","func","defaultProps","VideoComponent","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","useWindowSize","GiftAMealPage","activeCampaigns","setActiveCampaigns","pastCampaigns","setPastCampaigns","campaignResponse","activeMegaGam","past","valid","concat","reverse","display","menuOpen","illustrated_flatlay_hero","hero","headerText","fontWeight","backButton","videoContainer","videoDescription","campaignHeader"],"mappings":"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","file":"static/js/10.646586ff.chunk.js","sourcesContent":["const baseUrl = process.env.REACT_APP_API_ENDPOINT!;\n\nexport const sellers = baseUrl + 'sellers/';\nexport const charges = baseUrl + 'charges';\nexport const vouchers = baseUrl + 'gift_cards/';\nexport const campaigns = baseUrl + 'campaigns/';\nexport const distributors = baseUrl + 'distributors/';\nexport const nonprofits = baseUrl + 'nonprofits/';\nexport const passportVouchers = baseUrl + 'participating_sellers/';\nexport const contacts = baseUrl + 'contacts/';\nexport const tickets = baseUrl + 'tickets/';\nexport const participatingSellers = baseUrl + 'participating_sellers/';\nexport const sponsorSellers = baseUrl + 'sponsor_sellers/';\nexport const locations = baseUrl + 'locations/';\nexport const lyftRewards = 'lyft_rewards/';\nexport const projects = baseUrl + 'projects/';\n","import axios from 'axios';\nimport { CardElement } from '@stripe/react-stripe-js';\nimport { Buyer, PaymentParams, SquareLineItems } from './types';\nimport {\n  charges,\n  sellers,\n  vouchers,\n  campaigns,\n  distributors,\n  passportVouchers,\n  contacts,\n  tickets,\n  participatingSellers,\n  sponsorSellers,\n  locations,\n  lyftRewards,\n  nonprofits,\n  projects,\n} from './endpoints';\n\n// Fix return typing\nexport const getSellers = async (lang?: string): Promise<any> => {\n  return await axios.get(sellers, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\nexport const getSeller = async (id: string, lang?: string): Promise<any> => {\n  return await axios.get(sellers + id, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\nexport const getSellerHours = async (id: string): Promise<any> => {\n  return await axios.get(sellers + id + '/open_hour');\n};\n\nexport const getSellerDeliveryOptions = async (id: string): Promise<any> => {\n  return await axios.get(sellers + id + '/delivery_options');\n};\n\n// TODO(ArtyEmsee): add typing for stripe elements\nexport const makePayment = async (\n  stripe: any,\n  elements: any,\n  payment: PaymentParams,\n  buyer: Buyer\n) => {\n  const { email, name } = buyer;\n\n  // TODO(ArtyEmsee): abstract api call, create global object for headers\n  await axios\n    .post(\n      charges,\n      {\n        is_square: false,\n        line_items: [payment],\n        email: email,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      // TODO(ArtyEmsee): fix response to success\n      if (!stripe || !elements) return;\n      else {\n        const cardElement = elements!.getElement(CardElement);\n        const result = await stripe!.confirmCardPayment(\n          `${res.data.client_secret}`,\n          {\n            payment_method: {\n              card: cardElement!,\n              billing_details: {\n                name: name,\n                email: email,\n              },\n            },\n          }\n        );\n\n        if (result.error) {\n          console.log(result.error.message);\n        } else {\n          if (result.paymentIntent?.status === 'succeeded') {\n            console.log(\n              result.paymentIntent?.status,\n              'The payment has been processed!'\n            );\n          }\n        }\n      }\n    });\n\n  // TODO(ArtyEmsee): fix response to error\n};\n\nexport const makeSquarePayment = async (\n  nonce: string,\n  sellerId: string,\n  payment: SquareLineItems,\n  buyer: Buyer,\n  isDistribution: boolean,\n  campaignId?: string,\n  projectId?: string,\n  metadata?: string | null\n) => {\n  const { email, name } = buyer;\n  const idempotencyKey = buyer.idempotency_key;\n  const isSubscribed = buyer.is_subscribed;\n\n  return await axios\n    .post(\n      charges,\n      {\n        is_square: true,\n        nonce,\n        line_items: payment,\n        email,\n        name,\n        seller_id: sellerId,\n        project_id: projectId,\n        idempotency_key: idempotencyKey,\n        is_subscribed: isSubscribed,\n        is_distribution: isDistribution, // TODO: deprecate this in favor of campaignId\n        campaign_id: campaignId,\n        metadata: metadata,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      return res;\n    })\n    .catch((err) => {\n      throw err;\n    });\n};\n\nexport const getVoucher = async (id: string) =>\n  axios\n    .get(vouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const updateVoucher = async (id: string, amount: number) =>\n  axios\n    .put(vouchers + id, { amount })\n    .then((res) => res)\n    .catch((err) => {\n      throw err;\n    });\n\nexport const getMerchantGiftCards = async (\n  seller_id: string,\n  secret: string,\n  filterGAM: boolean = false\n) => {\n  const filterGAMString = filterGAM ? '?filterGAM=true' : ''; // if the key is present at all, filtering will happen\n  return axios\n    .get(sellers + seller_id + '/gift_cards/' + secret + filterGAMString)\n    .then((res) => res); // don't catch error, throw it up the stack\n};\n\nfunction localeFromLanguage(language?: string) {\n  switch (language) {\n    case 'cn':\n      return 'zh-CN';\n    case 'en':\n    default:\n      return 'en';\n  }\n}\n\nexport const getCampaigns = async (): Promise<any> => {\n  return await axios\n    .get(campaigns)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getCampaignsForMerchant = async (\n  seller_id: string\n): Promise<any> => {\n  return await axios\n    .get(sellers + seller_id + '/campaigns')\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getDistributor = async (id: string): Promise<any> => {\n  return await axios\n    .get(distributors + id)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getFiscalSponsor = async (id: string): Promise<any> => {\n  return await axios\n    .get(nonprofits + id)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getAllParticipatingSellers = async (): Promise<any> =>\n  axios\n    .get(passportVouchers)\n    .then((res) => res)\n    .catch((err) => err);\n\n// for passport crawl voucher print outs\nexport const getParticipatingMerchant = async (id: string) =>\n  axios\n    .get(passportVouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getParticipatingMerchantTickets = async (\n  id: string,\n  tickets_secret: string,\n  page: number | null,\n  items: number | null,\n  printed: boolean | null,\n  associated: boolean | null\n) =>\n  axios\n    .get(passportVouchers + id + '/tickets/' + tickets_secret, {\n      params: { page, items, printed, associated },\n    })\n    .then((res) => res)\n    .catch((err) => err);\n\n// validate passport email\nexport const getPassportEmailId = async (email: string) =>\n  axios\n    .get(contacts, {\n      params: { email },\n    })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getContactInfo = async (passportId: string) =>\n  axios\n    .get(contacts + passportId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const createPassportEmailId = async (\n  email: string,\n  instagram: string\n) => {\n  let params = {};\n\n  if (instagram) params = { email, instagram };\n  else params = { email };\n\n  return axios\n    .post(contacts, params)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const updatePassportInstagram = async (\n  id: string,\n  instagram: string\n) => {\n  return axios\n    .put(contacts + id, { instagram })\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const checkForValidTicket = async (ticket_id: string) =>\n  axios\n    .get(tickets + ticket_id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const updateTicketContactId = async (\n  ticket_id: string,\n  contact_id: string\n) =>\n  axios\n    .put(tickets + ticket_id, { contact_id })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getPassportTickets = async (passportId: string) =>\n  axios\n    .get(contacts + passportId + '/tickets')\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getParticipatingSeller = async (sellerId: string) =>\n  axios\n    .get(participatingSellers + sellerId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getGiveawayTicketsForContact = async (contactId: string) =>\n  axios\n    .get(contacts + contactId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const sendRedeemTicketsEmail = async (passportId: string) =>\n  axios\n    .post(contacts + passportId + '/rewards')\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getLocationById = async (locationId: number) =>\n  axios\n    .get(locations + locationId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getAllSponsors = async () =>\n  axios\n    .get(sponsorSellers)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getOneSponsor = async (rewardId: number) =>\n  axios\n    .get(sponsorSellers + rewardId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const redeemReward = async (\n  contact_id: number,\n  auth_token: string,\n  tickets: Array<any>\n) =>\n  axios\n    .put(contacts + contact_id + '/tickets/' + auth_token, { tickets })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const createLyftReward = async (contact_id: number) =>\n  axios\n    .post(contacts + contact_id + '/' + lyftRewards)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getLyftReward = async (contact_id: number) =>\n  axios\n    .get(contacts + contact_id + '/' + lyftRewards)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const redeemToken = async (contact_id: number, token: string) =>\n  axios\n    .post(contacts + contact_id + '/' + lyftRewards + token + '/redeem/')\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getProject = async (project_id: number) =>\n  axios\n    .get(projects + project_id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const light_up_chinatown_id = 1;\n","export * from './types';\nexport * from './interactionManager';\n","export * from './api';\nexport * from './hooks';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button--filled\":\"styles_button--filled__3neNl\",\"button--red-filled\":\"styles_button--red-filled__qhaeb\",\"button--outlined\":\"styles_button--outlined__C9qVy\",\"button--redfilled\":\"styles_button--redfilled__j93Vx\",\"button--red-outlined\":\"styles_button--red-outlined__BP6_R\",\"modalButton--back\":\"styles_modalButton--back__3be13\",\"modalButton--outlined\":\"styles_modalButton--outlined__1h_dc\",\"modalButton--filled\":\"styles_modalButton--filled__3zqCG\",\"modalButton--nonfunctional\":\"styles_modalButton--nonfunctional__36LqE\",\"modalButton--selected\":\"styles_modalButton--selected__2KXrT\",\"modalButton--outline\":\"styles_modalButton--outline__3LBH5\",\"closeButton--close\":\"styles_closeButton--close__tmfor\",\"modalForm--form\":\"styles_modalForm--form__3qf9o\",\"modalInput--input\":\"styles_modalInput--input__1Zp5y\",\"filterable-table-container\":\"styles_filterable-table-container__3J-A5\",\"header-row\":\"styles_header-row__1YnNs\",\"filter-container\":\"styles_filter-container__3jVY9\",\"filter-input\":\"styles_filter-input__3ZW5o\",\"clear-filter\":\"styles_clear-filter__3AS7G\",\"record-count\":\"styles_record-count__2AOeB\",\"table\":\"styles_table__pZ6Nn\",\"fa\":\"styles_fa__1Q-nI\",\"table-email-header\":\"styles_table-email-header__1TZ94\",\"table-email-container\":\"styles_table-email-container__2E_DK\",\"active\":\"styles_active__2dxvL\",\"disabled\":\"styles_disabled__2s1Q0\",\"header\":\"styles_header__137NK\",\"amountContainer\":\"styles_amountContainer__2FCb5\",\"selectAmtContainer\":\"styles_selectAmtContainer__3WiSG\",\"selectAmt\":\"styles_selectAmt__3PxQB\",\"separator\":\"styles_separator__Hitmc\",\"customAmt\":\"styles_customAmt__2HHMS\",\"costPerMeal\":\"styles_costPerMeal__2eV_J\",\"nextBtn\":\"styles_nextBtn__3CoRV\",\"total\":\"styles_total__6Az6Y\",\"illustrationsContainer\":\"styles_illustrationsContainer__FYEAx\",\"illustrationLeading\":\"styles_illustrationLeading__36-tE\",\"illustrationTrailing\":\"styles_illustrationTrailing__u6jiA\",\"explantionContainer\":\"styles_explantionContainer__3fZI-\",\"explanation\":\"styles_explanation__3HlZi\",\"donationsContainer\":\"styles_donationsContainer__36H3w\",\"bold\":\"styles_bold__sanyU\",\"uppercase\":\"styles_uppercase__TwAoB\",\"link\":\"styles_link__33np1\",\"description\":\"styles_description__1DRpU\",\"modalBackground\":\"styles_modalBackground__XwJMp\",\"modalInstructionsGrid\":\"styles_modalInstructionsGrid__LYL8Y\",\"modalStepGrid\":\"styles_modalStepGrid__18w5V\",\"modalStepText\":\"styles_modalStepText__1L8RD\"};","/*\n * Responsive screen sizes\n */\nconst phoneScreens = 'max-width: 450px';\nconst smallScreens = 'max-width: 599px';\nconst tabletScreens = 'max-width: 899px';\nconst desktopScreens = 'max-width: 1299px';\nconst bigDesktopScreens = 'min-width: 1300px';\n\nexport {\n  phoneScreens,\n  smallScreens,\n  tabletScreens,\n  desktopScreens,\n  bigDesktopScreens,\n};\n","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step1.c58f05a4.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step2.9a0ca5e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step3.ad0c5291.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step4.b9832c02.svg\";","module.exports = __webpack_public_path__ + \"static/media/chinatown-logo.f9e716ba.png\";","import 'react-square-payment-form/lib/default.css';\nimport styled from 'styled-components';\n\ntype RowProps = {\n  width?: string;\n  mobileWidth?: string;\n};\nconst Subheader = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 18px;\n  font-weight: 700;\n  margin-bottom: 18px;\n`;\nconst RowFormat = styled.div`\n  width: ${(props: RowProps) => (props.width ? props.width : '100%')};\n  min-width: 105px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  text-transform: uppercase;\n\n  @media only screen and (max-width: 800px) {\n    width: ${(props: RowProps) =>\n      props.mobileWidth ? props.mobileWidth : '100%'};\n  }\n`;\n\nconst LabelText = styled.label`\n  color: #373f4a;\n`;\n\nconst InputText = styled.input`\n  font-size: 14px;\n  color: #373f4a;\n  border: 1px solid #dedede;\n  margin: 5px 0 15px;\n  padding: 27px 15px;\n  width: ${(props) => (props.width ? props.width : '100%')};\n  border-radius: 5px;\n\n  :placeholder {\n    color: #cdcdcd;\n  }\n\n  :invalid {\n    color: #fa755a;\n  }\n`;\n\nexport { Subheader, RowFormat, LabelText, InputText };\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { RowFormat, Subheader, LabelText, InputText } from '../styles';\nimport {\n  LIGHT_UP_CHINATOWN_TIER_2_MIN,\n  LIGHT_UP_CHINATOWN_TIER_3_MIN,\n} from '../../../consts';\n\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n} from '../../../utilities/hooks/ModalPaymentContext';\n\nexport const LanternForm = (props) => {\n  const { t } = useTranslation();\n\n  const { amount, lucData } = useModalPaymentState(null);\n  const dispatch = useModalPaymentDispatch(null);\n\n  const [showAddress, setShowAddress] = React.useState(false);\n\n  const subHeader =\n    amount >= LIGHT_UP_CHINATOWN_TIER_3_MIN\n      ? 'paymentProcessing.amount.adopt_lantern_tier_3'\n      : 'paymentProcessing.amount.adopt_lantern_tier_2';\n  const subText =\n    amount >= LIGHT_UP_CHINATOWN_TIER_3_MIN\n      ? t('paymentProcessing.amount.tier_3_donation', {\n          limit: LIGHT_UP_CHINATOWN_TIER_3_MIN,\n        })\n      : t('paymentProcessing.amount.tier_2_donation', {\n          limit: LIGHT_UP_CHINATOWN_TIER_2_MIN,\n        });\n\n  const handleOnChange = (e) => {\n    e.preventDefault();\n    dispatch({\n      type: ModalPaymentConstants.SET_LUC_DATA,\n      payload: {\n        key: e.target.name,\n        value: e.target.value.toString(),\n      },\n    });\n  };\n\n  const handleAddress = (e, shouldShowAddress) => {\n    e.preventDefault();\n    setShowAddress(shouldShowAddress);\n\n    if (!shouldShowAddress) {\n      dispatch({\n        type: ModalPaymentConstants.CLEAR_ADDRESS,\n        payload: null,\n      });\n    }\n  };\n\n  return (\n    <AmountContainer>\n      <Subheader>{t(subHeader)}</Subheader>\n      <label>{t(subText)}</label>\n      <br />\n      <br />\n      <label>{t('paymentProcessing.amount.personalize')}</label>\n      <br />\n      <br />\n      <SingleRowFormat>\n        <RowFormat width=\"38%\">\n          <LabelText htmlFor=\"first_name\">\n            {t('paymentProcessing.amount.labels.first_name')}\n          </LabelText>\n          <InputText\n            name=\"firstName\"\n            type=\"text\"\n            className=\"modalInput--input\"\n            onChange={handleOnChange}\n            placeholder={t('paymentProcessing.amount.place_holder.first_name')}\n            value={lucData.firstName}\n          />\n        </RowFormat>\n        <RowFormat width=\"20%\" mobileWidth=\"30%\">\n          <LabelText htmlFor=\"middle_initial\">\n            {t('paymentProcessing.amount.labels.middle_initial')}\n          </LabelText>\n          <InputText\n            name=\"middleInitial\"\n            type=\"text\"\n            className=\"modalInput--input\"\n            onChange={handleOnChange}\n            placeholder={t(\n              'paymentProcessing.amount.place_holder.middle_initial'\n            )}\n            value={lucData.middleInitial}\n          />\n        </RowFormat>\n        <RowFormat width=\"38%\">\n          <LabelText htmlFor=\"last_name\">\n            {t('paymentProcessing.amount.labels.last_name')}\n          </LabelText>\n          <InputText\n            name=\"lastName\"\n            type=\"text\"\n            className=\"modalInput--input\"\n            onChange={handleOnChange}\n            placeholder={t('paymentProcessing.amount.place_holder.last_name')}\n            value={lucData.lastName}\n          />\n        </RowFormat>\n      </SingleRowFormat>\n\n      {amount >= LIGHT_UP_CHINATOWN_TIER_3_MIN && (\n        <>\n          <label>\n            <span>\n              {' '}\n              {t(\n                'paymentProcessing.amount.light_up_chinatown_address.disclaimer_1'\n              )}\n              <strong>\n                {' '}\n                {t(\n                  'paymentProcessing.amount.light_up_chinatown_address.address'\n                )}\n              </strong>{' '}\n              {t(\n                'paymentProcessing.amount.light_up_chinatown_address.disclaimer_2'\n              )}\n            </span>\n          </label>\n          <br />\n          <br />\n\n          <TextTrigger onClick={(e) => handleAddress(e, true)}>\n            {' '}\n            {t(\n              'paymentProcessing.amount.light_up_chinatown_address.address_button'\n            )}\n          </TextTrigger>\n          <br />\n          <br />\n\n          {(showAddress || lucData.address !== '') && (\n            <>\n              <NameRow>\n                <RowFormat width=\"65%\" mobileWidth=\"100%\">\n                  <LabelText htmlFor=\"full_name\">\n                    {t('paymentProcessing.amount.labels.full_name')}\n                  </LabelText>\n                  <InputText\n                    name=\"fullName\"\n                    type=\"text\"\n                    className=\"modalInput--input\"\n                    onChange={handleOnChange}\n                    placeholder={t(\n                      'paymentProcessing.amount.place_holder.full_name'\n                    )}\n                    value={lucData.fullName}\n                  />\n                </RowFormat>\n                <TextTrigger onClick={(e) => handleAddress(e, false)}>\n                  {' '}\n                  {t(\n                    'paymentProcessing.amount.light_up_chinatown_address.cancel_address_button'\n                  )}\n                </TextTrigger>\n              </NameRow>\n              <RowFormat width=\"100%\">\n                <LabelText htmlFor=\"address\">\n                  {t('paymentProcessing.amount.labels.address')}\n                </LabelText>\n                <InputText\n                  name=\"address\"\n                  type=\"text\"\n                  className=\"modalInput--input\"\n                  onChange={handleOnChange}\n                  placeholder={t(\n                    'paymentProcessing.amount.place_holder.address'\n                  )}\n                  value={lucData.address}\n                />\n              </RowFormat>\n              <SingleRowFormat>\n                <RowFormat width=\"47%\" mobileWidth=\"100%\">\n                  <LabelText htmlFor=\"city\">\n                    {t('paymentProcessing.amount.labels.city')}\n                  </LabelText>\n                  <InputText\n                    name=\"city\"\n                    type=\"text\"\n                    className=\"modalInput--input\"\n                    onChange={handleOnChange}\n                    placeholder={t(\n                      'paymentProcessing.amount.place_holder.city'\n                    )}\n                    value={lucData.city}\n                  />\n                </RowFormat>\n                <StateZipRow width=\"50%\" mobileWidth=\"100%\">\n                  <RowFormat width=\"47%\" mobileWidth=\"47%\">\n                    <LabelText htmlFor=\"state\">\n                      {t('paymentProcessing.amount.labels.state')}\n                    </LabelText>\n                    <InputText\n                      name=\"state\"\n                      type=\"text\"\n                      className=\"modalInput--input\"\n                      onChange={handleOnChange}\n                      placeholder={t(\n                        'paymentProcessing.amount.place_holder.state'\n                      )}\n                      value={lucData.state}\n                    />\n                  </RowFormat>\n                  <RowFormat width=\"47%\" mobileWidth=\"47%\">\n                    <LabelText htmlFor=\"zip_code\">\n                      {t('paymentProcessing.amount.labels.zip_code')}\n                    </LabelText>\n                    <InputText\n                      name=\"zipCode\"\n                      type=\"text\"\n                      className=\"modalInput--input\"\n                      onChange={handleOnChange}\n                      placeholder={t(\n                        'paymentProcessing.amount.place_holder.zip_code'\n                      )}\n                      value={lucData.zipCode}\n                    />\n                  </RowFormat>\n                </StateZipRow>\n              </SingleRowFormat>\n            </>\n          )}\n        </>\n      )}\n    </AmountContainer>\n  );\n};\n\nexport default LanternForm;\n\nconst AmountContainer = styled.div`\n  background-color: #f7f7f7;\n  padding: 25px 35px;\n  margin-top: 30px;\n`;\n\nconst SingleRowFormat = styled(RowFormat)`\n  flex-direction: row;\n  justify-content: space-between;\n\n  @media only screen and (max-width: 800px) {\n    flex-direction: column;\n  }\n`;\n\nconst TextTrigger = styled.button`\n  background: transparent;\n  border: none;\n  color: #a8192e;\n  text-decoration: underline;\n  margin: 8px auto;\n  text-align: left;\n`;\n\nconst NameRow = styled(SingleRowFormat)`\n  align-items: center;\n  button {\n    text-align: right;\n  }\n\n  @media only screen and (max-width: 800px) {\n    button {\n      width: 100%;\n    }\n    flex-direction: column-reverse;\n  }\n`;\nconst StateZipRow = styled(RowFormat)`\n  flex-direction: row !important;\n  justify-content: space-between;\n`;\n","import React, { useState } from 'react';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n  ModalPaymentTypes,\n} from '../../../utilities/hooks/ModalPaymentContext';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\nimport ReactPixel from 'react-facebook-pixel';\n\nimport { LIGHT_UP_CHINATOWN_TIER_2_MIN } from '../../../consts';\n\nimport LanternForm from './LanternForm';\n\nexport interface Props {\n  sellerId: string;\n  sellerName: string;\n}\n\nexport const Modal = (props: Props) => {\n  const { t } = useTranslation();\n\n  const { amount, modalView } = useModalPaymentState(null);\n  const dispatch = useModalPaymentDispatch(null);\n  const [isCustomAmount, setIsCustomAmount] = useState(true);\n  const [selected, setSelected] = useState('');\n  const minAmount = 5;\n  const maxAmount = 10000;\n\n  const handleAmount = (value: string, customAmount: boolean, text: string) => {\n    setSelected(text);\n    setIsCustomAmount(customAmount);\n    dispatch({ type: ModalPaymentConstants.SET_AMOUNT, payload: value });\n  };\n\n  const openModal = (e: any) => {\n    ReactPixel.trackCustom('PaymentNextButtonClick', { amount: amount });\n    e.preventDefault();\n    dispatch({\n      type: ModalPaymentConstants.SET_MODAL_VIEW,\n      payload: ModalPaymentTypes.modalPages.card_details,\n    });\n  };\n\n  const validAmount = (value: string) => {\n    const r = /^[0-9]+$/;\n    return r.test(value);\n  };\n\n  const buttonAmountsArray =\n    modalView === ModalPaymentTypes.modalPages.light_up_chinatown\n      ? [25, 45, 150, 300]\n      : [10, 25, 50, 100];\n\n  const buttonAmounts = buttonAmountsArray.map((x) => ({\n    value: x.toString(),\n    text: '$' + x.toString(),\n  }));\n\n  const getHeaderText = (purchaseType, sellerName) => {\n    switch (purchaseType) {\n      case ModalPaymentTypes.modalPages.donation:\n        return t('purchase.donation', { seller: sellerName });\n      case ModalPaymentTypes.modalPages.gift_card:\n        return t('purchase.voucher', { seller: sellerName });\n      case ModalPaymentTypes.modalPages.light_up_chinatown:\n        return t('purchase.donation_to', { seller: sellerName });\n      default:\n        return t('purchase.donation', { seller: sellerName });\n    }\n  };\n\n  return (\n    <ContentContainer id=\"donation-form\" data-testid=\"modal-amount\">\n      <Header>{getHeaderText(modalView, props.sellerName)}</Header>\n\n      {props.sellerId === 'send-chinatown-love' && (\n        <p>{t('donationPool.description2')}</p>\n      )}\n      <p>\n        {t(\n          `paymentProcessing.amount.${\n            modalView === ModalPaymentTypes.modalPages.light_up_chinatown\n              ? 'light_up_chinatown'\n              : 'header'\n          }`\n        )}\n      </p>\n\n      <AmountContainer>\n        <label htmlFor=\"select-amount\">\n          {t('paymentProcessing.amount.label1')}\n        </label>\n        <br />\n        <SelectAmtContainer>\n          {buttonAmounts.map((amount) => (\n            <button\n              key={amount.text}\n              type=\"button\"\n              className={\n                selected === amount.text\n                  ? 'modalButton--selected'\n                  : 'modalButton--outlined'\n              }\n              onClick={(e) => {\n                handleAmount(amount.value, false, amount.text);\n              }}\n            >\n              {amount.text}\n            </button>\n          ))}\n        </SelectAmtContainer>\n        <label htmlFor=\"custom-amount\">\n          {t('paymentProcessing.amount.label2')}\n        </label>\n        <br />\n        <CustomAmountContainer>\n          <CustomAmountInput\n            name=\"custom-amount\"\n            type=\"number\"\n            onFocus={(e) => handleAmount('', true, '')}\n            className={'modalInput--input'}\n            onChange={(e) => {\n              handleAmount(e.target.value, true, '');\n            }}\n            onKeyDown={(evt) =>\n              (evt.key === 'e' ||\n                evt.key === '+' ||\n                evt.key === '-' ||\n                evt.key === '.') &&\n              evt.preventDefault()\n            }\n            value={isCustomAmount ? amount : ''}\n            min=\"5\"\n            max=\"10000\"\n          />\n        </CustomAmountContainer>\n        {Number(amount) < minAmount && isCustomAmount && (\n          <ErrorMessage>\n            {t('paymentProcessing.amount.minimum')}{' '}\n            {t('paymentProcessing.amount.amount')}: $5\n          </ErrorMessage>\n        )}\n        {Number(amount) > maxAmount && isCustomAmount && (\n          <ErrorMessage>\n            {t('paymentProcessing.amount.maximum')}{' '}\n            {t('paymentProcessing.amount.amount')}: $10000\n          </ErrorMessage>\n        )}\n      </AmountContainer>\n      {modalView === ModalPaymentTypes.modalPages.light_up_chinatown &&\n        amount >= LIGHT_UP_CHINATOWN_TIER_2_MIN && <LanternForm />}\n      <NextButton\n        type=\"button\"\n        className={'modalButton--filled'}\n        onClick={openModal}\n        disabled={\n          Number(amount) < minAmount ||\n          Number(amount) > maxAmount ||\n          !validAmount(amount)\n        }\n      >\n        {t('paymentProcessing.amount.submit')}\n      </NextButton>\n    </ContentContainer>\n  );\n};\n\nexport default Modal;\n\nconst ContentContainer = styled.form`\n  height: 360px;\n`;\n\nconst AmountContainer = styled.div`\n  background-color: #f7f7f7;\n  padding: 25px 35px;\n  margin-top: 30px;\n`;\n\nconst SelectAmtContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  flex-wrap: wrap;\n  margin: 15px 0px;\n`;\n\nconst CustomAmountContainer = styled.div`\n  position: relative;\n  display: inline;\n\n  :before {\n    content: '$';\n    position: absolute;\n    top: 0;\n    left: 8px;\n    z-index: 1;\n  }\n`;\n\nconst CustomAmountInput = styled.input`\n  width: 250px;\n  border: 1px solid #121212;\n  margin-top: 8px;\n  padding-left: 2em;\n\n  :invalid {\n    border: 1px solid red;\n  }\n\n  @media (max-width: 450px) {\n    width: 100%;\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n  font-size: 13px;\n`;\n\nconst NextButton = styled.button`\n  position: relative;\n  float: right;\n  right: 0px;\n  bottom: -25px;\n`;\n\nconst Header = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 30px;\n  font-weight: 600;\n`;\n","import React from 'react';\nimport styles from './styles.module.scss';\nimport { useTranslation } from 'react-i18next';\n\nimport gam_icon_step1 from '../../MerchantsPage/images/gam_icon_step1.svg';\nimport gam_icon_step2 from '../../MerchantsPage/images/gam_icon_step2.svg';\nimport gam_icon_step3 from '../../MerchantsPage/images/gam_icon_step3.svg';\nimport gam_icon_step4 from '../../MerchantsPage/images/gam_icon_step4.svg';\n\nconst CampaignInstructions = () => {\n  const { t } = useTranslation();\n  return (\n    <div className={styles.modalBackground}>\n      <div className={styles.modalInstructionsGrid}>\n        {[\n          [\n            `${t('gamHome.subheading.step1')}`,\n            `${t('gamHome.subheading.step1Text')}`,\n            gam_icon_step1,\n          ],\n          [\n            `${t('gamHome.subheading.step2')}`,\n            `${t('gamHome.subheading.step2Text')}`,\n            gam_icon_step2,\n          ],\n          [\n            `${t('gamHome.subheading.step3')}`,\n            `${t('gamHome.subheading.step3Text')}`,\n            gam_icon_step3,\n          ],\n          [\n            `${t('gamHome.subheading.step4')}`,\n            `${t('gamHome.subheading.step4Text')}`,\n            gam_icon_step4,\n          ],\n        ].map(([step, text, icon], idx) => generateStep(step, text, icon, idx))}\n      </div>\n    </div>\n  );\n};\n\nexport default CampaignInstructions;\n\nconst generateStep = (step, text, icon, idx) => {\n  return (\n    <div className={styles.modalStepGrid} key={idx}>\n      <img src={icon} alt=\"icon\" />\n      <div className={styles.modalStepText}>\n        <p className={styles.uppercase}>{step}</p>\n        <p className={styles.bold}>{text}</p>\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport classnames from 'classnames';\nimport styles from './styles.module.scss';\nimport {\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n  ModalPaymentTypes,\n} from '../../../utilities/hooks/ModalPaymentContext';\nimport { useTranslation } from 'react-i18next';\nimport CampaignInstructions from './CamapignInstructions';\nimport ReactPixel from 'react-facebook-pixel';\nimport { getCampaignsForMerchant, getDistributor } from '../../../utilities';\n\nexport interface Props {\n  sellerId: string;\n  sellerName: string;\n  costPerMeal: number;\n}\n\nexport const Modal = (props: Props) => {\n  const { t } = useTranslation();\n  const dispatch = useModalPaymentDispatch(null);\n\n  // set initial number of meals to 1\n  const [numberOfMeals, setNumberOfMeals] = useState(1);\n\n  const [campaignDistributor, setCampaignDistributor] = useState<any>([]);\n\n  const handleAmount = (value: string, customAmount: boolean, text: string) => {\n    const valueInt = parseInt(value, 10);\n    setNumberOfMeals(isNaN(valueInt) ? 0 : valueInt);\n    const totalMealPrice = valueInt * props.costPerMeal;\n    dispatch({\n      type: ModalPaymentConstants.SET_AMOUNT,\n      payload: String(totalMealPrice),\n    });\n  };\n\n  const openModal = (e: any) => {\n    ReactPixel.trackCustom('GiftMealPaymentNextButtonClick', {\n      numberOfMeals: numberOfMeals,\n    });\n    e.preventDefault();\n    dispatch({\n      type: ModalPaymentConstants.SET_MODAL_VIEW,\n      payload: ModalPaymentTypes.modalPages.card_details,\n    });\n  };\n\n  const totalMealPrice = numberOfMeals * props.costPerMeal;\n  const totalAmount = { value: totalMealPrice, text: '$' + totalMealPrice };\n  const COST_LIMIT = 10000;\n\n  useEffect(() => {\n    dispatch({\n      type: ModalPaymentConstants.SET_AMOUNT,\n      payload: String(totalMealPrice),\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  const fetchData = async (sellerId: string) => {\n    // Note(wilsonj806) Showing the campaign that expires first\n    // will need to update this if we render multiple distributors\n    const { data } = await getCampaignsForMerchant(sellerId);\n    const { data: distrib } = await getDistributor(data[0].distributor_id);\n    setCampaignDistributor(distrib);\n  };\n\n  useEffect(() => {\n    fetchData(props.sellerId);\n  }, [props.sellerId]);\n\n  const Distributor = () => (\n    <>\n      <a\n        href={campaignDistributor.website_url}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className={styles.link}\n      >\n        {' '}\n        {campaignDistributor.name}\n      </a>{' '}\n    </>\n  );\n\n  return (\n    <form data-testid=\"ModalBuyMeal\">\n      <div>\n        <div className={styles.header}>\n          {props.sellerId\n            ? t('buyMeal.header') + props.sellerName\n            : t('buyMealPool.header')}\n        </div>\n      </div>\n      <p className={styles.description}>\n        {t('buyMealPool.description.weAre')}\n        {/* Note(wilsonj806)Only renders one single distributor*/}\n        <Distributor />\n        {t('buyMealPool.description.andRestaurants')}\n        <span className={styles.bold}>\n          {' '}\n          {t('buyMealPool.description.allItTakes')} ${props.costPerMeal}\n        </span>\n      </p>\n\n      <CampaignInstructions />\n\n      <div className={styles.amountContainer}>\n        <label htmlFor=\"select-amount\">{t('buyMeal.prompt')}</label>\n        <br />\n        <div className={styles.selectAmtContainer}>\n          <div className={styles.selectAmt}>\n            <input\n              name=\"custom-amount\"\n              type=\"number\"\n              onFocus={(e) => handleAmount('', true, '')}\n              className={classnames(styles.customAmt, 'modalInput--input')}\n              onChange={(e) => {\n                handleAmount(e.target.value, true, '');\n              }}\n              value={numberOfMeals === 0 ? '' : String(numberOfMeals)}\n              placeholder=\"# of meals\"\n              min=\"1\"\n            />\n            <span className={styles.separator}>✕</span>\n            <button\n              type=\"button\"\n              className={classnames(\n                styles.costPerMeal,\n                'modalButton--nonfunctional'\n              )}\n              disabled={true}\n            >\n              {'$' + props.costPerMeal}\n            </button>\n          </div>\n          <label className={styles.total}>\n            {t('buyMeal.totalLabel')} <b>{totalAmount.text}</b>\n          </label>\n        </div>\n        <br />\n      </div>\n\n      <button\n        type=\"button\"\n        className={classnames(styles.nextBtn, 'modalButton--filled')}\n        onClick={openModal}\n        disabled={\n          numberOfMeals < 1 || numberOfMeals > COST_LIMIT / props.costPerMeal\n        }\n      >\n        {t('paymentProcessing.amount.submit')}\n      </button>\n    </form>\n  );\n};\n\nexport default Modal;\n","import React from 'react';\nimport {\n  CreditCardNumberInput,\n  CreditCardExpirationDateInput,\n  CreditCardPostalCodeInput,\n  CreditCardCVVInput,\n} from 'react-square-payment-form';\nimport 'react-square-payment-form/lib/default.css';\nimport styled from 'styled-components';\n\ntype Props = {};\n\nconst SquareCardForm = (props: Props) => {\n  return (\n    <fieldset className=\"sq-fieldset\">\n      <CreditCardNumberInput />\n\n      <SquareCardRow>\n        <SquareCardItem>\n          <CreditCardExpirationDateInput />\n        </SquareCardItem>\n        <SquareCardItem>\n          <CreditCardCVVInput />\n        </SquareCardItem>\n        <SquareCardItem>\n          <CreditCardPostalCodeInput />\n        </SquareCardItem>\n      </SquareCardRow>\n    </fieldset>\n  );\n};\n\nexport default SquareCardForm;\n\nconst SquareCardRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100% !important;\n`;\n\nconst SquareCardItem = styled.div`\n  width: 30% !important;\n`;\n","import React, { useContext, useState } from 'react';\nimport { Context } from 'react-square-payment-form';\nimport ReactPixel from 'react-facebook-pixel';\n\ntype Props = {\n  canSubmit: boolean;\n};\n\nconst SubmissionButton = ({ canSubmit }: Props) => {\n  const context = useContext(Context);\n  var [submittable] = useState(false);\n\n  const handleSubmit = (evt: { preventDefault: () => void }) => {\n    ReactPixel.trackCustom('PaymentConfirmButtonClick', {});\n    evt.preventDefault();\n    context.onCreateNonce();\n  };\n\n  submittable = canSubmit;\n\n  return (\n    <button\n      type=\"button\"\n      className={'modalButton--filled'}\n      onClick={handleSubmit}\n      disabled={!submittable}\n    >\n      Confirm\n    </button>\n  );\n};\n\nexport default SubmissionButton;\n","import React, { useState, useEffect } from 'react';\nimport { times } from 'lodash/fp';\nimport { Checkbox } from '@material-ui/core';\nimport { SquarePaymentForm } from 'react-square-payment-form';\nimport 'react-square-payment-form/lib/default.css';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\nimport { v4 as uuid } from 'uuid';\n\nimport SquareCardForm from './SquareCardForm';\nimport SubmissionButton from './SubmissionButton';\n\nimport {\n  SquareErrors,\n  hasKey,\n  LIGHT_UP_CHINATOWN_TIER_2_MIN,\n} from '../../../consts';\nimport { modalPages } from '../../../utilities/hooks/ModalPaymentContext/types';\n\nimport {\n  makeSquarePayment,\n  SquareLineItems,\n  Buyer,\n} from '../../../utilities/api';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n  ModalPaymentTypes,\n} from '../../../utilities/hooks/ModalPaymentContext';\n\ntype Props = {\n  sellerId: string;\n  sellerName: string;\n  costPerMeal: number;\n  nonProfitLocationId?: string;\n  campaignId?: string;\n};\n\ntype ErrorMessage = {\n  code: string;\n  detail: string;\n};\n\nconst ModalCardDetails = ({\n  sellerId,\n  sellerName,\n  costPerMeal,\n  nonProfitLocationId,\n  campaignId,\n}: Props) => {\n  const idempotencyKey = uuid();\n  const { t } = useTranslation();\n  const { amount, purchaseType, lucData } = useModalPaymentState(null);\n  const dispatch = useModalPaymentDispatch(null);\n\n  const [isTermsChecked, setTermsChecked] = useState(false);\n  const [isSubscriptionChecked, setSubscriptionChecked] = useState(true);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [errorMessages, setErrorsMessages] = useState<string[]>([]);\n  const [canSubmit, setCanSubmit] = useState(false);\n\n  let applicationId, locationId, projectId;\n\n  if (\n    purchaseType === ModalPaymentTypes.modalPages.buy_meal &&\n    nonProfitLocationId === process.env.REACT_APP_THINK_CHINATOWN_LOCATION_ID\n  ) {\n    applicationId = process.env.REACT_APP_THINK_CHINATOWN_APPLICATION_ID ?? '';\n    locationId = process.env.REACT_APP_THINK_CHINATOWN_LOCATION_ID ?? '';\n  } else {\n    applicationId = process.env.REACT_APP_SQUARE_APPLICATION_ID ?? '';\n    locationId = process.env.REACT_APP_SQUARE_LOCATION_ID ?? '';\n  }\n\n  if (sellerId === 'light-up-chinatown') {\n    sellerId = '';\n    projectId = '1';\n  }\n\n  const checkTermsAgreement = () => setTermsChecked(!isTermsChecked);\n\n  const checkSubscriptionAgreement = () =>\n    setSubscriptionChecked(!isSubscriptionChecked);\n\n  const numberOfMeals = Number(amount) / costPerMeal;\n  const mealText = numberOfMeals > 1 ? 'meals' : 'meal';\n  const numberOfMealsText =\n    purchaseType === ModalPaymentTypes.modalPages.buy_meal\n      ? `(${numberOfMeals} ${mealText})`\n      : '';\n\n  const cardNonceResponseReceived = (errors: any[], nonce: string) => {\n    setErrorsMessages([]);\n    const is_distribution =\n      purchaseType === ModalPaymentTypes.modalPages.buy_meal;\n\n    if (errors && errors.length > 0 && errors[0]) {\n      setErrorsMessages(errors.map((error) => error.message));\n      return;\n    }\n\n    const purchaseTypeToItemType = (purchaseType: string) => {\n      switch (purchaseType) {\n        case modalPages.light_up_chinatown:\n          return modalPages.donation;\n        default:\n          return purchaseType;\n      }\n    };\n\n    // 'buy_meal' is still represented as a gift card when calling the API\n    const payment: SquareLineItems = is_distribution\n      ? times(\n          () => ({\n            amount: Number(costPerMeal) * 100,\n            currency: 'usd',\n            item_type: 'gift_card',\n            quantity: 1,\n          }),\n          numberOfMeals\n        )\n      : [\n          {\n            amount: Number(amount) * 100,\n            currency: 'usd',\n            item_type: purchaseTypeToItemType(purchaseType),\n            quantity: 1,\n          },\n        ];\n\n    const buyer: Buyer = {\n      name,\n      email,\n      nonce,\n      idempotency_key: idempotencyKey,\n      is_subscribed: isSubscriptionChecked,\n    };\n\n    setCanSubmit(false);\n\n    return makeSquarePayment(\n      nonce,\n      sellerId,\n      payment,\n      buyer,\n      is_distribution,\n      campaignId,\n      projectId,\n      projectId ? JSON.stringify(lucData) : null\n    )\n      .then((res) => {\n        if (res.status === 200) {\n          dispatch({\n            type: ModalPaymentConstants.SET_MODAL_VIEW,\n            payload: ModalPaymentTypes.modalPages.confirmation,\n          });\n        }\n      })\n      .catch((err) => {\n        if (err.response) {\n          let responseErrors: ErrorMessage[] = [];\n          if (err.response.data.errors)\n            responseErrors = err.response.data.errors;\n          else if (err.response.data.message)\n            responseErrors = [\n              { code: 'GENERIC_DECLINE', detail: err.response.data.message },\n            ];\n\n          const newErrors =\n            responseErrors.length > 0\n              ? responseErrors.map((error: ErrorMessage) => {\n                  if (hasKey(SquareErrors, error.code)) {\n                    return SquareErrors[error.code];\n                  } else {\n                    return error.detail;\n                  }\n                })\n              : [];\n          setErrorsMessages(newErrors);\n        }\n      });\n  };\n\n  const purchaseTypeHeader = (purchaseType) => {\n    switch (purchaseType) {\n      case ModalPaymentTypes.modalPages.donation:\n        return 'donation';\n      case ModalPaymentTypes.modalPages.light_up_chinatown:\n        return t(\n          'modalPayment.modalCardDetails.header.light_up_chinatown_donation'\n        );\n      case ModalPaymentTypes.modalPages.gift_card:\n        return `voucher purchase`;\n      case ModalPaymentTypes.modalPages.buy_meal:\n        return 'Gift a Meal purchase';\n      default:\n        return 'Donation';\n    }\n  };\n\n  const purchaseTypeMessage = (purchaseType, amount) => {\n    switch (purchaseType) {\n      case ModalPaymentTypes.modalPages.donation:\n        return t('modalPayment.modalCardDetails.message.donation');\n      case ModalPaymentTypes.modalPages.light_up_chinatown:\n        if (amount >= LIGHT_UP_CHINATOWN_TIER_2_MIN)\n          return t(\n            'modalPayment.modalCardDetails.message.light_up_chinatown_tier_2'\n          );\n        else return t('modalPayment.modalCardDetails.message.donation');\n      case ModalPaymentTypes.modalPages.gift_card:\n        return t('modalPayment.modalCardDetails.message.voucher');\n      default:\n        return t('modalPayment.modalCardDetails.message.donation');\n    }\n  };\n\n  useEffect(() => {\n    setCanSubmit(\n      isTermsChecked &&\n        name.length > 0 &&\n        email.length > 0 &&\n        ModalPaymentConstants.EMAIL_REGEX.test(email)\n    );\n  }, [isTermsChecked, name, email]);\n\n  const setDisclaimerLanguage = (\n    type: string | ModalPaymentTypes.modalPages\n  ) => {\n    if (sellerId === 'send-chinatown-love')\n      type = ModalPaymentTypes.modalPages.donation_pool;\n\n    switch (type) {\n      case ModalPaymentTypes.modalPages.donation:\n        return t(\n          'modalPayment.modalCardDetails.disclaimer.donation',\n          sellerName\n        );\n      case ModalPaymentTypes.modalPages.donation_pool:\n        return t(\n          'modalPayment.modalCardDetails.disclaimer.donation_pool',\n          sellerName\n        );\n      case ModalPaymentTypes.modalPages.gift_card:\n        return t(\n          'modalPayment.modalCardDetails.disclaimer.gift_card',\n          sellerName\n        );\n      case ModalPaymentTypes.modalPages.light_up_chinatown:\n        return t('modalPayment.modalCardDetails.disclaimer.light_up_chinatown');\n      default:\n        break;\n    }\n  };\n\n  const setDetailsText = (\n    type: ModalPaymentTypes.modalPages,\n    amount: number\n  ) => {\n    if (sellerId === 'send-chinatown-love')\n      type = ModalPaymentTypes.modalPages.donation_pool;\n\n    if (\n      type === ModalPaymentTypes.modalPages.gift_card ||\n      (type === ModalPaymentTypes.modalPages.light_up_chinatown &&\n        amount >= LIGHT_UP_CHINATOWN_TIER_2_MIN)\n    ) {\n      return t('modalPayment.modalCardDetails.details.voucher');\n    } else {\n      return t('modalPayment.modalCardDetails.details.donation');\n    }\n  };\n\n  return (\n    <div>\n      <Header>\n        {t('modalPayment.modalCardDetails.header.completeYour')}{' '}\n        {purchaseTypeHeader(purchaseType)}\n      </Header>\n      <p>{t('modalPayment.modalCardDetails.body.paymentInfo')}</p>\n\n      <PaymentContainer>\n        <Subheader>\n          {t('modalPayment.modalCardDetails.header.paymentInfo')}\n        </Subheader>\n        <RowFormat>\n          <LabelText htmlFor=\"name\">\n            {t('modalPayment.modalCardDetails.body.fullName')}\n          </LabelText>\n          <InputText\n            name=\"name\"\n            type=\"text\"\n            className=\"modalInput--input\"\n            onChange={(e) => setName(e.target.value)}\n            value={name}\n            placeholder={t('modalPayment.modalCardDetails.placeholders.name')}\n          />\n          <LabelText htmlFor=\"email\">\n            {t('modalPayment.modalCardDetails.body.email')}\n          </LabelText>\n          <InputText\n            name=\"email\"\n            type=\"email\"\n            className=\"modalInput--input\"\n            onChange={(e) => setEmail(e.target.value)}\n            value={email}\n            placeholder={t('modalPayment.modalCardDetails.placeholders.email')}\n            pattern={ModalPaymentConstants.EMAIL_REGEX.source}\n            required\n          />\n        </RowFormat>\n        <SquareFormContainer>\n          <SquarePaymentForm\n            sandbox={\n              !process.env.NODE_ENV || process.env.NODE_ENV === 'development'\n            }\n            applicationId={applicationId}\n            locationId={locationId}\n            cardNonceResponseReceived={cardNonceResponseReceived}\n            formId=\"SPF\"\n            apiWrapper=\"\"\n          >\n            <SquareCardForm />\n            <div className=\"sq-error-message\">\n              {errorMessages.map((errorMessage) => (\n                <li key={`sq-error-${errorMessage}`}>{errorMessage}</li>\n              ))}\n            </div>\n            <br />\n            <Subheader>{setDetailsText(purchaseType, amount)}</Subheader>\n\n            <span>\n              {' '}\n              {purchaseTypeMessage(purchaseType, amount)} of{' '}\n              <b>\n                ${amount} {numberOfMealsText}\n              </b>{' '}\n              to {sellerName}{' '}\n            </span>\n\n            {lucData.firstName !== '' && (\n              <span>\n                <br />\n                <br />\n                {t('modalPayment.modalCardDetails.message.luc_name')}\n                <BoldText>\n                  {`${lucData.firstName} \n                  ${\n                    lucData.middleInitial.length > 0\n                      ? lucData.middleInitial.substring(0, 1).toUpperCase() +\n                        '. '\n                      : ''\n                  } \n                  ${lucData.lastName}`}\n                </BoldText>\n              </span>\n            )}\n            {lucData.address !== '' && (\n              <span>\n                <br />\n                <br />\n                {t('modalPayment.modalCardDetails.message.luc_address')}\n                <BoldText>{`${lucData.fullName}, ${lucData.address}, ${lucData.city}, ${lucData.state} ${lucData.zipCode}`}</BoldText>\n              </span>\n            )}\n            <p />\n            <CheckboxContainer>\n              <Checkbox\n                value=\"checkedA\"\n                inputProps={{ 'aria-label': 'Checkbox A' }}\n                onClick={checkTermsAgreement}\n                checked={isTermsChecked}\n              />\n              <span>\n                I agree with the <b>Terms & Conditions</b>\n              </span>\n            </CheckboxContainer>\n            <CheckboxContainer>\n              <Checkbox\n                value=\"checkedB\"\n                inputProps={{ 'aria-label': 'Checkbox B' }}\n                onClick={checkSubscriptionAgreement}\n                checked={isSubscriptionChecked}\n              />\n              <span>\n                {t('modalPayment.modalCardDetails.body.emailUpdates')}\n              </span>\n            </CheckboxContainer>\n            <Disclaimer>{setDisclaimerLanguage(purchaseType)}</Disclaimer>\n            <ButtonRow>\n              <BackButton\n                type=\"button\"\n                className={'modalButton--back'}\n                onClick={() =>\n                  dispatch({\n                    type: ModalPaymentConstants.SET_MODAL_VIEW,\n                    payload: purchaseType,\n                  })\n                }\n              >\n                ᐸ Back\n              </BackButton>\n              <SubmissionButton canSubmit={canSubmit} />\n            </ButtonRow>\n          </SquarePaymentForm>\n        </SquareFormContainer>\n      </PaymentContainer>\n    </div>\n  );\n};\n\nexport default ModalCardDetails;\n\nconst PaymentContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 30px;\n\n  div {\n    width: 100%;\n  }\n`;\n\nexport const RowFormat = styled.div`\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  text-transform: uppercase;\n`;\n\nexport const LabelText = styled.label`\n  color: #373f4a;\n`;\n\nconst BoldText = styled.span`\n  font-weight: bold;\n`;\n\nexport const InputText = styled.input`\n  font-size: 14px;\n  color: #373f4a;\n  border: 1px solid #dedede;\n  margin: 5px 0 15px;\n  padding: 27px 15px;\n  width: 100%;\n  border-radius: 5px;\n\n  ::placeholder {\n    color: #cdcdcd;\n  }\n\n  :invalid {\n    color: #fa755a;\n  }\n`;\n\nconst CheckboxContainer = styled.label`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  align-items: center;\n  margin-bottom: 10px;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  > span {\n    padding: 9px 9px 9px 0px;\n  }\n`;\n\nconst ButtonRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  position: relative;\n  justify-content: space-between;\n  margin-bottom: 25px;\n`;\n\nconst BackButton = styled.button`\n  width: 75px;\n  font-size: 13px;\n  background-color: white;\n`;\n\nconst SquareFormContainer = styled.div`\n  h3,\n  span,\n  p {\n    font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n    font-size: 15px;\n  }\n\n  h3 {\n    font-size: 24px;\n  }\n`;\n\nconst Header = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 32px;\n  font-weight: 600;\n`;\n\nconst Subheader = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 18px;\n  font-weight: 700;\n  margin-bottom: 18px;\n`;\n\nconst Disclaimer = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 12px;\n  font-weight: 300;\n  padding: 0px 0px 0px 0px;\n  margin: 30px 0px 30px 0px;\n  opacity: 0.7;\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport ReactPixel from 'react-facebook-pixel';\n\nimport confirmationPic from './chinatown-logo.png';\n\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n  ModalPaymentTypes,\n} from '../../../utilities/hooks/ModalPaymentContext';\nimport { LIGHT_UP_CHINATOWN_TIER_2_MIN } from '../../../consts';\n\nimport { getSeller } from '../../../utilities';\n\nexport type Props = {\n  sellerId: string;\n  sellerName: string;\n};\n\nconst ModalConfirmation = (props: Props) => {\n  const { purchaseType, amount } = useModalPaymentState(null);\n  const dispatch = useModalPaymentDispatch(null);\n\n  const closeModal = async (e: any) => {\n    ReactPixel.trackCustom('ModalConfirmationButtonClick', {});\n    e.preventDefault();\n    // @TODO(wilsonj806) Replace the below with a proper fix\n    //...for differentiating between a seller and a project\n    if (props.sellerId !== 'light-up-chinatown') {\n      const { data } = props.sellerId && (await getSeller(props.sellerId));\n      dispatch({\n        type: ModalPaymentConstants.UPDATE_SELLER_DATA,\n        payload: data.amount_raised,\n      });\n    }\n    dispatch({ type: ModalPaymentConstants.CLOSE_MODAL, payload: undefined });\n  };\n\n  const confirmationText = (purchaseType, sellerName, amount) => {\n    switch (purchaseType) {\n      case ModalPaymentTypes.modalPages.donation:\n        return `We appreciate your support. We'll let you know when ${sellerName} receives your donation!`;\n      case ModalPaymentTypes.modalPages.light_up_chinatown:\n        if (amount >= LIGHT_UP_CHINATOWN_TIER_2_MIN)\n          return 'You will receive an email in the next couple weeks about our Lighting Ceremony in December.';\n        return `You will receive an email with receipt for your donation.`;\n      case ModalPaymentTypes.modalPages.gift_card:\n        return `We appreciate your support. We'll email you your voucher when ${sellerName} opens back up!`;\n      case ModalPaymentTypes.modalPages.buy_meal:\n        return `We appreciate your support for ${sellerName} and for those in need! Please check your email for your receipt.`;\n      default:\n        return `Unexpected occurrence.`;\n    }\n  };\n\n  return (\n    <Container data-testid=\"modal-confirmation\">\n      <h2>Thank you!</h2>\n      <p>{confirmationText(purchaseType, props.sellerName, amount)}</p>\n\n      <ThankYouImage src={confirmationPic} alt=\"Logo\" />\n\n      <FinishButton\n        className=\"modalButton--filled\"\n        onClick={(e) => closeModal(e)}\n      >\n        Finish\n      </FinishButton>\n    </Container>\n  );\n};\n\nexport default ModalConfirmation;\n\nconst Container = styled.div`\n  max-height: 80%;\n  margin-bottom: 25px;\n`;\n\nconst ThankYouImage = styled.img`\n  position: relative;\n  width: 100%;\n`;\n\nconst FinishButton = styled.button`\n  position: relative;\n  margin-top: 35px;\n  float: right;\n  right: 0px;\n`;\n","import React from 'react';\nimport ModalAmount from './ModalAmount';\nimport ModalBuyMeal from './ModalBuyMeal';\nimport ModalCardDetails from './ModalCardDetails';\nimport ModalConfirmation from './ModalConfirmation';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n  ModalPaymentConstants,\n  ModalPaymentTypes,\n} from '../../utilities/hooks/ModalPaymentContext';\nimport ReactPixel from 'react-facebook-pixel';\nimport styled from 'styled-components';\n\nexport interface Props {\n  sellerId: string;\n  sellerName: string;\n  costPerMeal: number;\n  nonProfitLocationId?: string;\n  campaignId?: string;\n}\n\nexport interface ModalProps {\n  modalView: number;\n}\n\nexport const Modal = (props: Props) => {\n  const { modalView } = useModalPaymentState(null);\n  const dispatch = useModalPaymentDispatch(null);\n\n  const closeModal = async (e: any) => {\n    ReactPixel.trackCustom('ModalCloseButtonClick', {});\n    e.preventDefault();\n    dispatch({ type: ModalPaymentConstants.CLOSE_MODAL, payload: undefined });\n  };\n\n  const renderModalPage = (type) => {\n    switch (type) {\n      case ModalPaymentTypes.modalPages.donation:\n      case ModalPaymentTypes.modalPages.gift_card:\n      case ModalPaymentTypes.modalPages.light_up_chinatown:\n        return <ModalAmount {...props} />;\n      case ModalPaymentTypes.modalPages.buy_meal:\n        return <ModalBuyMeal {...props} />;\n      case ModalPaymentTypes.modalPages.card_details:\n        return <ModalCardDetails {...props} />;\n      case ModalPaymentTypes.modalPages.confirmation:\n        return <ModalConfirmation {...props} />;\n      default:\n        return;\n    }\n  };\n\n  return (\n    <ModalContainer modalView={modalView}>\n      <CloseButtonContainer>\n        <CloseButton onClick={closeModal}>×</CloseButton>\n      </CloseButtonContainer>\n      <ViewContainer>{renderModalPage(modalView)}</ViewContainer>\n    </ModalContainer>\n  );\n};\n\nexport default Modal;\n\nconst ModalContainer = styled.div`\n  display: ${(props: ModalProps) => (props.modalView ? 'flex' : 'none')};\n  flex-direction: column;\n  margin: 0 auto;\n\n  background-color: white;\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 10;\n  padding-bottom: 40px;\n\n  max-height: 85vh;\n  width: 725px;\n  box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);\n  height: 65%;\n\n  @media only screen and (max-width: 799px) {\n    width: 85%;\n  }\n\n  @media only screen and (max-width: 450px) {\n    width: 100%;\n    height: 100%;\n    max-height: 100%;\n  }\n`;\nconst ViewContainer = styled.div`\n  overflow-y: scroll;\n  margin: 0 auto;\n  height: 100%;\n  width: 100%;\n  padding: 0 50px;\n\n  @media only screen and (max-width: 450px) {\n    width: 100%;\n    height: 100%;\n    overflow-x: hidden;\n  }\n`;\nconst CloseButtonContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  width: 100%;\n`;\nconst CloseButton = styled.button`\n  width: 40px;\n  font-weight: bold;\n  font-size: 30px;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  background-color: transparent;\n`;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button--filled\":\"styles_button--filled__1Q_a1\",\"button--red-filled\":\"styles_button--red-filled__30C9L\",\"button--outlined\":\"styles_button--outlined__T1S4e\",\"button--redfilled\":\"styles_button--redfilled__1aPRb\",\"button--red-outlined\":\"styles_button--red-outlined__uXeug\",\"modalButton--back\":\"styles_modalButton--back__SqQbc\",\"modalButton--outlined\":\"styles_modalButton--outlined__2rGur\",\"modalButton--filled\":\"styles_modalButton--filled__1u791\",\"modalButton--nonfunctional\":\"styles_modalButton--nonfunctional__3b7y_\",\"modalButton--selected\":\"styles_modalButton--selected__120By\",\"modalButton--outline\":\"styles_modalButton--outline__1nxQS\",\"closeButton--close\":\"styles_closeButton--close__2-Gq4\",\"modalForm--form\":\"styles_modalForm--form__1r_3v\",\"modalInput--input\":\"styles_modalInput--input__1yGue\",\"filterable-table-container\":\"styles_filterable-table-container__3yuTM\",\"header-row\":\"styles_header-row__13pcb\",\"filter-container\":\"styles_filter-container__3R7V3\",\"filter-input\":\"styles_filter-input__2pKZl\",\"clear-filter\":\"styles_clear-filter__2DOt6\",\"record-count\":\"styles_record-count__3tJgl\",\"table\":\"styles_table__CkvPy\",\"fa\":\"styles_fa__1dVUs\",\"table-email-header\":\"styles_table-email-header__178xL\",\"table-email-container\":\"styles_table-email-container__5XNtx\",\"active\":\"styles_active__ZQhyR\",\"disabled\":\"styles_disabled__yy9aR\",\"bold\":\"styles_bold__2INhr\",\"uppercase\":\"styles_uppercase__HZ5Zd\",\"container\":\"styles_container__3QdrG\",\"header\":\"styles_header__2e_gf\",\"headerText\":\"styles_headerText__2GMED\",\"hero\":\"styles_hero__30ZVS\",\"backButton\":\"styles_backButton__1XAdF\",\"campaignHeader\":\"styles_campaignHeader__trEYV\",\"videoContainer\":\"styles_videoContainer__2lfjR\",\"videoDescription\":\"styles_videoDescription__4o5jP\",\"background\":\"styles_background__2nP1I\",\"instructionsGrid\":\"styles_instructionsGrid__13657\",\"stepGrid\":\"styles_stepGrid__3ygF3\",\"stepText\":\"styles_stepText__sSzBp\"};","module.exports = __webpack_public_path__ + \"static/media/illustrated_flatlay_hero.050015e1.png\";","module.exports = __webpack_public_path__ + \"static/media/campaign_default.9ad02a20.png\";","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _sister = require('sister');\n\nvar _sister2 = _interopRequireDefault(_sister);\n\nvar _loadYouTubeIframeApi = require('./loadYouTubeIframeApi');\n\nvar _loadYouTubeIframeApi2 = _interopRequireDefault(_loadYouTubeIframeApi);\n\nvar _YouTubePlayer = require('./YouTubePlayer');\n\nvar _YouTubePlayer2 = _interopRequireDefault(_YouTubePlayer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @typedef YT.Player\n * @see https://developers.google.com/youtube/iframe_api_reference\n * */\n\n/**\n * @see https://developers.google.com/youtube/iframe_api_reference#Loading_a_Video_Player\n */\nvar youtubeIframeAPI = void 0;\n\n/**\n * A factory function used to produce an instance of YT.Player and queue function calls and proxy events of the resulting object.\n *\n * @param maybeElementId Either An existing YT.Player instance,\n * the DOM element or the id of the HTML element where the API will insert an <iframe>.\n * @param options See `options` (Ignored when using an existing YT.Player instance).\n * @param strictState A flag designating whether or not to wait for\n * an acceptable state when calling supported functions. Default: `false`.\n * See `FunctionStateMap.js` for supported functions and acceptable states.\n */\n\nexports.default = function (maybeElementId) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var strictState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var emitter = (0, _sister2.default)();\n\n  if (!youtubeIframeAPI) {\n    youtubeIframeAPI = (0, _loadYouTubeIframeApi2.default)(emitter);\n  }\n\n  if (options.events) {\n    throw new Error('Event handlers cannot be overwritten.');\n  }\n\n  if (typeof maybeElementId === 'string' && !document.getElementById(maybeElementId)) {\n    throw new Error('Element \"' + maybeElementId + '\" does not exist.');\n  }\n\n  options.events = _YouTubePlayer2.default.proxyEvents(emitter);\n\n  var playerAPIReady = new Promise(function (resolve) {\n    if ((typeof maybeElementId === 'undefined' ? 'undefined' : _typeof(maybeElementId)) === 'object' && maybeElementId.playVideo instanceof Function) {\n      var player = maybeElementId;\n\n      resolve(player);\n    } else {\n      // asume maybeElementId can be rendered inside\n      // eslint-disable-next-line promise/catch-or-return\n      youtubeIframeAPI.then(function (YT) {\n        // eslint-disable-line promise/prefer-await-to-then\n        var player = new YT.Player(maybeElementId, options);\n\n        emitter.on('ready', function () {\n          resolve(player);\n        });\n\n        return null;\n      });\n    }\n  });\n\n  var playerApi = _YouTubePlayer2.default.promisifyPlayer(playerAPIReady, strictState);\n\n  playerApi.on = emitter.on;\n  playerApi.off = emitter.off;\n\n  return playerApi;\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nvar Sister;\n\n/**\n* @link https://github.com/gajus/sister for the canonical source repository\n* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause\n*/\nSister = function () {\n    var sister = {},\n        events = {};\n\n    /**\n     * @name handler\n     * @function\n     * @param {Object} data Event data.\n     */\n\n    /**\n     * @param {String} name Event name.\n     * @param {handler} handler\n     * @return {listener}\n     */\n    sister.on = function (name, handler) {\n        var listener = {name: name, handler: handler};\n        events[name] = events[name] || [];\n        events[name].unshift(listener);\n        return listener;\n    };\n\n    /**\n     * @param {listener}\n     */\n    sister.off = function (listener) {\n        var index = events[listener.name].indexOf(listener);\n\n        if (index !== -1) {\n            events[listener.name].splice(index, 1);\n        }\n    };\n\n    /**\n     * @param {String} name Event name.\n     * @param {Object} data Event data.\n     */\n    sister.trigger = function (name, data) {\n        var listeners = events[name],\n            i;\n\n        if (listeners) {\n            i = listeners.length;\n            while (i--) {\n                listeners[i].handler(data);\n            }\n        }\n    };\n\n    return sister;\n};\n\nmodule.exports = Sister;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _loadScript = require('load-script');\n\nvar _loadScript2 = _interopRequireDefault(_loadScript);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (emitter) {\n  /**\n   * A promise that is resolved when window.onYouTubeIframeAPIReady is called.\n   * The promise is resolved with a reference to window.YT object.\n   */\n  var iframeAPIReady = new Promise(function (resolve) {\n    if (window.YT && window.YT.Player && window.YT.Player instanceof Function) {\n      resolve(window.YT);\n\n      return;\n    } else {\n      var protocol = window.location.protocol === 'http:' ? 'http:' : 'https:';\n\n      (0, _loadScript2.default)(protocol + '//www.youtube.com/iframe_api', function (error) {\n        if (error) {\n          emitter.trigger('error', error);\n        }\n      });\n    }\n\n    var previous = window.onYouTubeIframeAPIReady;\n\n    // The API will call this function when page has finished downloading\n    // the JavaScript for the player API.\n    window.onYouTubeIframeAPIReady = function () {\n      if (previous) {\n        previous();\n      }\n\n      resolve(window.YT);\n    };\n  });\n\n  return iframeAPIReady;\n};\n\nmodule.exports = exports['default'];","\nmodule.exports = function load (src, opts, cb) {\n  var head = document.head || document.getElementsByTagName('head')[0]\n  var script = document.createElement('script')\n\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n\n  opts = opts || {}\n  cb = cb || function() {}\n\n  script.type = opts.type || 'text/javascript'\n  script.charset = opts.charset || 'utf8';\n  script.async = 'async' in opts ? !!opts.async : true\n  script.src = src\n\n  if (opts.attrs) {\n    setAttributes(script, opts.attrs)\n  }\n\n  if (opts.text) {\n    script.text = '' + opts.text\n  }\n\n  var onend = 'onload' in script ? stdOnEnd : ieOnEnd\n  onend(script, cb)\n\n  // some good legacy browsers (firefox) fail the 'in' detection above\n  // so as a fallback we always set onload\n  // old IE will ignore this and new IE will set onload\n  if (!script.onload) {\n    stdOnEnd(script, cb);\n  }\n\n  head.appendChild(script)\n}\n\nfunction setAttributes(script, attrs) {\n  for (var attr in attrs) {\n    script.setAttribute(attr, attrs[attr]);\n  }\n}\n\nfunction stdOnEnd (script, cb) {\n  script.onload = function () {\n    this.onerror = this.onload = null\n    cb(null, script)\n  }\n  script.onerror = function () {\n    // this.onload = null here is necessary\n    // because even IE9 works not like others\n    this.onerror = this.onload = null\n    cb(new Error('Failed to load ' + this.src), script)\n  }\n}\n\nfunction ieOnEnd (script, cb) {\n  script.onreadystatechange = function () {\n    if (this.readyState != 'complete' && this.readyState != 'loaded') return\n    this.onreadystatechange = null\n    cb(null, script) // there is no way to catch loading errors in IE8\n  }\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _functionNames = require('./functionNames');\n\nvar _functionNames2 = _interopRequireDefault(_functionNames);\n\nvar _eventNames = require('./eventNames');\n\nvar _eventNames2 = _interopRequireDefault(_eventNames);\n\nvar _FunctionStateMap = require('./FunctionStateMap');\n\nvar _FunctionStateMap2 = _interopRequireDefault(_FunctionStateMap);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable promise/prefer-await-to-then */\n\nvar debug = (0, _debug2.default)('youtube-player');\n\nvar YouTubePlayer = {};\n\n/**\n * Construct an object that defines an event handler for all of the YouTube\n * player events. Proxy captured events through an event emitter.\n *\n * @todo Capture event parameters.\n * @see https://developers.google.com/youtube/iframe_api_reference#Events\n */\nYouTubePlayer.proxyEvents = function (emitter) {\n  var events = {};\n\n  var _loop = function _loop(eventName) {\n    var onEventName = 'on' + eventName.slice(0, 1).toUpperCase() + eventName.slice(1);\n\n    events[onEventName] = function (event) {\n      debug('event \"%s\"', onEventName, event);\n\n      emitter.trigger(eventName, event);\n    };\n  };\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = _eventNames2.default[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var eventName = _step.value;\n\n      _loop(eventName);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return events;\n};\n\n/**\n * Delays player API method execution until player state is ready.\n *\n * @todo Proxy all of the methods using Object.keys.\n * @todo See TRICKY below.\n * @param playerAPIReady Promise that resolves when player is ready.\n * @param strictState A flag designating whether or not to wait for\n * an acceptable state when calling supported functions.\n * @returns {Object}\n */\nYouTubePlayer.promisifyPlayer = function (playerAPIReady) {\n  var strictState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var functions = {};\n\n  var _loop2 = function _loop2(functionName) {\n    if (strictState && _FunctionStateMap2.default[functionName]) {\n      functions[functionName] = function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return playerAPIReady.then(function (player) {\n          var stateInfo = _FunctionStateMap2.default[functionName];\n          var playerState = player.getPlayerState();\n\n          // eslint-disable-next-line no-warning-comments\n          // TODO: Just spread the args into the function once Babel is fixed:\n          // https://github.com/babel/babel/issues/4270\n          //\n          // eslint-disable-next-line prefer-spread\n          var value = player[functionName].apply(player, args);\n\n          // TRICKY: For functions like `seekTo`, a change in state must be\n          // triggered given that the resulting state could match the initial\n          // state.\n          if (stateInfo.stateChangeRequired ||\n\n          // eslint-disable-next-line no-extra-parens\n          Array.isArray(stateInfo.acceptableStates) && stateInfo.acceptableStates.indexOf(playerState) === -1) {\n            return new Promise(function (resolve) {\n              var onPlayerStateChange = function onPlayerStateChange() {\n                var playerStateAfterChange = player.getPlayerState();\n\n                var timeout = void 0;\n\n                if (typeof stateInfo.timeout === 'number') {\n                  timeout = setTimeout(function () {\n                    player.removeEventListener('onStateChange', onPlayerStateChange);\n\n                    resolve();\n                  }, stateInfo.timeout);\n                }\n\n                if (Array.isArray(stateInfo.acceptableStates) && stateInfo.acceptableStates.indexOf(playerStateAfterChange) !== -1) {\n                  player.removeEventListener('onStateChange', onPlayerStateChange);\n\n                  clearTimeout(timeout);\n\n                  resolve();\n                }\n              };\n\n              player.addEventListener('onStateChange', onPlayerStateChange);\n            }).then(function () {\n              return value;\n            });\n          }\n\n          return value;\n        });\n      };\n    } else {\n      functions[functionName] = function () {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        return playerAPIReady.then(function (player) {\n          // eslint-disable-next-line no-warning-comments\n          // TODO: Just spread the args into the function once Babel is fixed:\n          // https://github.com/babel/babel/issues/4270\n          //\n          // eslint-disable-next-line prefer-spread\n          return player[functionName].apply(player, args);\n        });\n      };\n    }\n  };\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = _functionNames2.default[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var functionName = _step2.value;\n\n      _loop2(functionName);\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return functions;\n};\n\nexports.default = YouTubePlayer;\nmodule.exports = exports['default'];","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\n/**\n * @see https://developers.google.com/youtube/iframe_api_reference#Functions\n */\nexports.default = ['cueVideoById', 'loadVideoById', 'cueVideoByUrl', 'loadVideoByUrl', 'playVideo', 'pauseVideo', 'stopVideo', 'getVideoLoadedFraction', 'cuePlaylist', 'loadPlaylist', 'nextVideo', 'previousVideo', 'playVideoAt', 'setShuffle', 'setLoop', 'getPlaylist', 'getPlaylistIndex', 'setOption', 'mute', 'unMute', 'isMuted', 'setVolume', 'getVolume', 'seekTo', 'getPlayerState', 'getPlaybackRate', 'setPlaybackRate', 'getAvailablePlaybackRates', 'getPlaybackQuality', 'setPlaybackQuality', 'getAvailableQualityLevels', 'getCurrentTime', 'getDuration', 'removeEventListener', 'getVideoUrl', 'getVideoEmbedCode', 'getOptions', 'getOption', 'addEventListener', 'destroy', 'setSize', 'getIframe'];\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\n/**\n * @see https://developers.google.com/youtube/iframe_api_reference#Events\n * `volumeChange` is not officially supported but seems to work\n * it emits an object: `{volume: 82.6923076923077, muted: false}`\n */\nexports.default = ['ready', 'stateChange', 'playbackQualityChange', 'playbackRateChange', 'error', 'apiChange', 'volumeChange'];\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PlayerStates = require('./constants/PlayerStates');\n\nvar _PlayerStates2 = _interopRequireDefault(_PlayerStates);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  pauseVideo: {\n    acceptableStates: [_PlayerStates2.default.ENDED, _PlayerStates2.default.PAUSED],\n    stateChangeRequired: false\n  },\n  playVideo: {\n    acceptableStates: [_PlayerStates2.default.ENDED, _PlayerStates2.default.PLAYING],\n    stateChangeRequired: false\n  },\n  seekTo: {\n    acceptableStates: [_PlayerStates2.default.ENDED, _PlayerStates2.default.PLAYING, _PlayerStates2.default.PAUSED],\n    stateChangeRequired: true,\n\n    // TRICKY: `seekTo` may not cause a state change if no buffering is\n    // required.\n    timeout: 3000\n  }\n};\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  BUFFERING: 3,\n  ENDED: 0,\n  PAUSED: 2,\n  PLAYING: 1,\n  UNSTARTED: -1,\n  VIDEO_CUED: 5\n};\nmodule.exports = exports[\"default\"];","import React from 'react';\nimport styles from './styles.module.scss';\nimport { useTranslation } from 'react-i18next';\n\nimport gam_icon_step1 from '../images/gam_icon_step1.svg';\nimport gam_icon_step2 from '../images/gam_icon_step2.svg';\nimport gam_icon_step3 from '../images/gam_icon_step3.svg';\nimport gam_icon_step4 from '../images/gam_icon_step4.svg';\n\nconst CampaignInstructions = () => {\n  const { t } = useTranslation();\n  return (\n    <div className={styles.background}>\n      <div className={styles.instructionsGrid}>\n        {[\n          [\n            `${t('gamHome.subheading.step1')}`,\n            `${t('gamHome.subheading.step1Text')}`,\n            gam_icon_step1,\n          ],\n          [\n            `${t('gamHome.subheading.step2')}`,\n            `${t('gamHome.subheading.step2Text')}`,\n            gam_icon_step2,\n          ],\n          [\n            `${t('gamHome.subheading.step3')}`,\n            `${t('gamHome.subheading.step3Text')}`,\n            gam_icon_step3,\n          ],\n          [\n            `${t('gamHome.subheading.step4')}`,\n            `${t('gamHome.subheading.step4Text')}`,\n            gam_icon_step4,\n          ],\n        ].map(([step, text, icon], idx) => generateStep(step, text, icon, idx))}\n      </div>\n    </div>\n  );\n};\n\nexport default CampaignInstructions;\n\nconst generateStep = (step, text, icon, idx) => {\n  return (\n    <div className={styles.stepGrid} key={idx}>\n      <img src={icon} alt=\"icon\" />\n      <div className={styles.stepText}>\n        <p className={styles.uppercase}>{step}</p>\n        <p className={styles.bold}>{text}</p>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst calculatePercentRaised = (raised: number, target: number) => {\n  if (!raised) {\n    return 0;\n  }\n  // TODO: Confirm the % we want to show if raised > target.\n  return Math.round((raised / target) * 100);\n};\n\nexport const SIZE_TYPE = {\n  SMALL: 'SMALL',\n  LARGE: 'LARGE',\n};\ntype SizeKeys = keyof typeof SIZE_TYPE;\ntype SizeType = typeof SIZE_TYPE[SizeKeys];\n\ninterface Props {\n  amount: {\n    current: number;\n    target: number;\n  };\n  color: string;\n  size: SizeType;\n}\n\nconst ProgressBar = ({ amount, color, size }: Props) => {\n  return (\n    <TargetAmountBar className=\"progress-bar\">\n      <CurrentProgressBar\n        size={size}\n        style={{\n          backgroundColor: color,\n          width: `${Math.min(\n            calculatePercentRaised(amount.current, amount.target),\n            100\n          )}%`,\n        }}\n      />\n    </TargetAmountBar>\n  );\n};\n\nexport default ProgressBar;\n\nconst TargetAmountBar = styled.div`\n  background-color: #eaeaea;\n  border-radius: 24px;\n  overflow: hidden;\n`;\n\nconst CurrentProgressBar = styled.div`\n  height: ${({ size }: { size: SizeType }) =>\n    size === 'SMALL' ? '12px' : '24px'};\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n\nimport ProgressBar, { SIZE_TYPE } from './ProgressBar';\n\ninterface Props {\n  isActive: boolean;\n  numContributions: number;\n  targetAmount: number;\n  progressBarColor: string;\n  lastContributionTime: Date;\n  endDate: Date;\n}\n\nconst CampaignProgressBar = ({\n  isActive,\n  numContributions,\n  targetAmount,\n  progressBarColor,\n  lastContributionTime,\n  endDate,\n}: Props) => {\n  const { t } = useTranslation();\n\n  // \"73% to target (73 out of 100 meals)\"\n  const progressPercent = Math.floor((numContributions / targetAmount) * 100);\n\n  // \"Ends in 2 days\"\n  const timeUntilEnd = endDate.getTime() - Date.now();\n  const daysUntilEnd = timeUntilEnd > 0 ? timeUntilEnd / (1000 * 3600 * 24) : 0;\n\n  // \"Last contribution made 2h ago\"\n  const timeSinceLastContribution = Date.now() - lastContributionTime.getTime();\n  const lastContributionTimeAsPresentable = (\n    timeSinceLastContribution: number\n  ) => {\n    const minutesSinceLastConstribution =\n      timeSinceLastContribution / (1000 * 60);\n    if (minutesSinceLastConstribution < 60) {\n      return `${t('buyMeal.lastContributionMade')} ${Math.floor(\n        minutesSinceLastConstribution\n      )}m ${t('buyMeal.ago')}`;\n    }\n    const hoursSinceLastContribution = minutesSinceLastConstribution / 60;\n    if (hoursSinceLastContribution < 24) {\n      return `${t('buyMeal.lastContributionMade')} ${Math.floor(\n        hoursSinceLastContribution\n      )}h ${t('buyMeal.ago')}`;\n    }\n    const daysSinceLastContribution = hoursSinceLastContribution / 24;\n    return `${t('buyMeal.lastContributionMade')} ${Math.floor(\n      daysSinceLastContribution\n    )}d ${t('buyMeal.ago')}`;\n  };\n\n  return (\n    <Container>\n      <TimeStamp>\n        {lastContributionTimeAsPresentable(timeSinceLastContribution)}\n      </TimeStamp>\n      <ProgressBarContainer>\n        <ProgressBar\n          amount={{ current: numContributions, target: targetAmount }}\n          color={progressBarColor}\n          size={SIZE_TYPE.SMALL}\n        />\n      </ProgressBarContainer>\n      <div>\n        <ProgressTextContainer color={progressBarColor}>\n          {progressPercent}% {t('buyMeal.toTarget')}\n        </ProgressTextContainer>{' '}\n        ({numContributions} {t('buyMeal.outOf')} {targetAmount}{' '}\n        {t('buyMeal.meals')})\n      </div>\n      {isActive && (\n        <div>\n          {t('buyMeal.endsIn')}{' '}\n          <ProgressTextContainer color={progressBarColor}>\n            {Math.ceil(daysUntilEnd)}\n          </ProgressTextContainer>{' '}\n          {t('buyMeal.days')}\n        </div>\n      )}\n    </Container>\n  );\n};\n\nexport default CampaignProgressBar;\n\nconst Container = styled.div`\n  width: 100%;\n  padding: 15px 0;\n`;\n\nconst ProgressTextContainer = styled.span`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 22px;\n  color: ${(props) => props.color};\n`;\n\nconst ProgressBarContainer = styled.div`\n  margin-bottom: 15px;\n`;\n\nconst TimeStamp = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 18px;\n  letter-spacing: 0.02em;\n  color: #9e9e9e;\n  margin-bottom: 10px;\n`;\n","import React from 'react';\nimport CampaignProgressBar from './CampaignProgressBar';\nimport styled from 'styled-components';\nimport { tabletScreens } from '../../../utilities/general/responsive';\nimport { useTranslation } from 'react-i18next';\nimport campaignDefaultImage from '../images/campaign_default.png';\nimport { Campaign } from '../../../utilities/api/types';\nimport {\n  getDistributor,\n  getSeller,\n  getFiscalSponsor,\n} from '../../../utilities/api';\nimport { useEffect, useState } from 'react';\nimport Modal from '../../ModalPayment';\nimport {\n  ModalPaymentConstants,\n  useModalPaymentDispatch,\n  ModalPaymentTypes,\n} from '../../../utilities/hooks/ModalPaymentContext';\n\ninterface Props {\n  campaign: Campaign;\n  selectedCampaignId: null | number;\n  setSelectedCampaignId: Function;\n}\n\nconst ModalBox: any = Modal;\n\nconst CampaignListItem = (props: Props) => {\n  const { t } = useTranslation();\n  const dispatch = useModalPaymentDispatch(null); //provide null according to Bruce's new branch\n\n  const [distributor, setDistributor] = useState<any | null>();\n  const [merchant, setMerchant] = useState<any | null>();\n  const [fiscalSponsor, setFiscalSponsor] = useState<any | null>();\n  const campaign = props.campaign;\n\n  const fetchData = async () => {\n    const distributorData = await getDistributor(campaign.distributor_id);\n    const seller_id = campaign.seller_distributor_pairs[0].seller_id;\n    const merchantData = await getSeller(seller_id);\n\n    setDistributor(distributorData.data);\n    setMerchant(merchantData.data);\n    if (campaign.nonprofit_id) {\n      const fiscalSponsor = await getFiscalSponsor(campaign.nonprofit_id);\n      setFiscalSponsor(fiscalSponsor.data);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  const mealsRaised = Math.floor(\n    campaign.amount_raised / campaign.price_per_meal\n  );\n  const targetMeals = Math.floor(\n    campaign.target_amount / campaign.price_per_meal\n  );\n  const campaignImageUrls = campaign.gallery_image_urls;\n\n  const showModal = (event: any) => {\n    props.setSelectedCampaignId(campaign.id);\n    dispatch({\n      type: ModalPaymentConstants.SET_MODAL_VIEW,\n      payload: ModalPaymentTypes.modalPages.buy_meal,\n    });\n  };\n\n  return (\n    <React.Fragment>\n      <Container>\n        <ColumnContainer>\n          {campaignImageUrls && campaignImageUrls.length && (\n            <CampaignImageContainer>\n              <CampaignImage\n                src={campaignImageUrls[0] ?? campaignDefaultImage}\n                alt=\"campaign_image\"\n              />\n            </CampaignImageContainer>\n          )}\n        </ColumnContainer>\n        <ColumnContainer>\n          {merchant && merchant.locations && merchant.locations.length && (\n            <Location>{merchant.locations[0].city}</Location>\n          )}\n          {distributor && merchant && (\n            <Name>\n              {merchant.name} x {distributor.name}\n            </Name>\n          )}\n          <Description>\n            {campaign.description}{' '}\n            {distributor && (\n              <span>\n                Learn more about{' '}\n                <a\n                  href={distributor.website_url}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {distributor.name}.\n                </a>\n              </span>\n            )}\n          </Description>\n          <CampaignProgressBar\n            isActive={campaign.active}\n            numContributions={mealsRaised}\n            targetAmount={targetMeals}\n            progressBarColor={'#CF6E8A'}\n            lastContributionTime={new Date(campaign.last_contribution)}\n            endDate={new Date(campaign.end_date)}\n          />\n        </ColumnContainer>\n        <ColumnContainer>\n          <ImagesContainer>\n            {distributor && (\n              <a href={distributor.website_url}>\n                <DistributorImage\n                  src={distributor.image_url}\n                  alt=\"distributor_logo\"\n                />\n              </a>\n            )}\n          </ImagesContainer>\n          {merchant && (\n            <Button\n              className=\"button--outlined\"\n              onClick={(e) => {\n                e.preventDefault();\n                window.location.href = '/' + merchant.seller_id;\n              }}\n            >\n              {t('gamHome.listItem.viewButton')}\n            </Button>\n          )}\n          {campaign.active && (\n            <Button className={'button--filled'} onClick={showModal}>\n              {t('gamHome.listItem.giftButton')}\n            </Button>\n          )}\n        </ColumnContainer>\n\n        {campaign.active && props.selectedCampaignId === campaign.id && (\n          <ModalBox\n            sellerId={merchant.seller_id}\n            sellerName={merchant.name}\n            costPerMeal={campaign.price_per_meal / 100}\n            nonProfitLocationId={merchant.non_profit_location_id}\n            campaignId={campaign.id}\n          />\n        )}\n      </Container>\n      {fiscalSponsor && (\n        <FiscalSponsorContainer>\n          <FiscalSponsorImage\n            src={fiscalSponsor.logo_image_url}\n          ></FiscalSponsorImage>\n          <FiscalSponsorDivider></FiscalSponsorDivider>\n          <FiscalSponsorText>\n            {t('gamHome.listItem.fiscalSponsor', {\n              sponsorName: fiscalSponsor.name,\n            })}\n          </FiscalSponsorText>\n        </FiscalSponsorContainer>\n      )}\n      <Border></Border>\n    </React.Fragment>\n  );\n};\n\nexport default CampaignListItem;\n\nconst Container = styled.div`\n  display: flex;\n  max-height: 800px;\n  justify-content: space-between;\n\n  @media (${tabletScreens}) {\n    max-height: 1000px;\n    flex-direction: column;\n    margin: 0 17px;\n    position: relative;\n    padding-top: 15px;\n  }\n`;\n\nconst ColumnContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 1rem 2rem 1.5rem;\n\n  @media (${tabletScreens}) {\n    padding: 0.5rem 1rem 0.75rem;\n\n    > span {\n      margin: 2.5px 0;\n    }\n\n    > button {\n      width: 100%;\n    }\n\n    > img {\n      height: 103px;\n      object-fit: cover;\n      object-position: 0 25%;\n    }\n  }\n`;\n\nconst Location = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 15px;\n  line-height: 20px;\n  letter-spacing: 0.02em;\n  color: #1e7c9a;\n  margin-bottom: 15px;\n\n  @media (${tabletScreens}) {\n    font-size: 14px;\n    margin-bottom: 10px;\n  }\n`;\n\nconst Name = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 22px;\n  letter-spacing: 0.02em;\n  color: #000000;\n  margin-bottom: 18px;\n\n  @media (${tabletScreens}) {\n    margin-bottom: 10px;\n    width: 70%;\n  }\n`;\n\nconst Description = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 15px;\n  line-height: 20px;\n  letter-spacing: 0.02em;\n  color: #1e1e1e;\n  margin-bottom: 20px;\n\n  @media (${tabletScreens}) {\n    font-size: 14px;\n    margin-bottom: 10px;\n  }\n`;\n\nconst Button = styled.div`\n  text-align: center;\n  width: 240px;\n  letter-spacing: 0.15em;\n  cursor: pointer;\n  margin-bottom: 18px;\n  font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 700;\n  font-size: 16px;\n  letter-spacing: 0.05em;\n\n  @media (max-width: 550px) {\n    font-size: 14px;\n    width: 100%;\n    margin-bottom: 10px;\n  }\n`;\n\nconst ImagesContainer = styled.span`\n  align-self: right;\n  margin-bottom: 140px;\n  align-self: flex-end;\n\n  @media (${tabletScreens}) {\n    position: absolute;\n    top: 132px;\n    margin-bottom: 30px;\n\n    img {\n      height: 25px;\n    }\n  }\n`;\n\nconst CampaignImageContainer = styled.div`\n  height: 240px;\n  width: 240px;\n\n  @media (${tabletScreens}) {\n    height: 100px;\n    width: 100%;\n  }\n`;\n\nconst CampaignImage = styled.img`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 5px;\n`;\n\nconst DistributorImage = styled.img`\n  max-height: 70px;\n  max-width: 120px;\n  margin-right: 15px;\n  vertical-align: middle;\n`;\n\nconst FiscalSponsorContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 55px;\n  position: relative;\n\n  @media (${tabletScreens}) {\n    margin-bottom: 30px;\n  }\n`;\n\nconst FiscalSponsorImage = styled.img`\n  margin-left: 28%;\n  max-height: 35px;\n  max-width: 80px;\n\n  @media (${tabletScreens}) {\n    position: absolute;\n    top: 50%;\n    -ms-transform: translateY(-50%);\n    transform: translateY(-50%);\n    margin-left: 0%;\n  }\n`;\n\nconst FiscalSponsorDivider = styled.div`\n  margin-left: 18px;\n  width: 5px;\n  height: 37px;\n  background-color: #f5ec57;\n\n  @media (${tabletScreens}) {\n    height: 110px;\n    margin-left: 27%;\n  }\n`;\n\nconst FiscalSponsorText = styled.div`\n  margin-left: 6px;\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 18px;\n  color: #1e1e1e;\n`;\n\nconst Border = styled.div`\n  width: 100%;\n  height: 1px;\n  border-bottom: 1px solid #e5e5e5;\n`;\n","import moment from 'moment';\nimport * as React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport ProgressBar from '../ProgressBar';\n\nconst PROGRESS_BAR_COLOR = '#CF6E8A';\n\nconst centsToDollars = (cents: number) =>\n  Math.floor(cents / 100).toLocaleString();\n\ninterface Props {\n  endDate: string;\n  isActive: boolean;\n  targetAmount: number; // In cents.\n  totalRaised: number; // In cents.\n}\n\nconst MegaGamProgressBar = ({\n  endDate,\n  isActive,\n  targetAmount,\n  totalRaised,\n}: Props) => {\n  const { t } = useTranslation();\n\n  const totalRaisedDollars = centsToDollars(totalRaised);\n  const targetAmountDollars = centsToDollars(targetAmount);\n\n  // \"73% to target ($10,000)\"\n  const calculatePercentRaised = (raised: number, target: number) => {\n    if (!raised) {\n      return 0;\n    }\n    // TODO: Confirm the % we want to show if raised > target.\n    return Math.round((raised / target) * 100);\n  };\n  const percentRaised = calculatePercentRaised(totalRaised, targetAmount);\n\n  // \"Ends in 2 days\"\n  const daysLeftInCampaign = moment(endDate).diff(moment(), 'days');\n\n  return (\n    <Container>\n      <TotalRaised>\n        Total Raised:{' '}\n        <TotalRaisedAmount>${totalRaisedDollars}</TotalRaisedAmount>\n      </TotalRaised>\n      <ProgressBarContainer>\n        <ProgressBar\n          amount={{ current: totalRaised, target: targetAmount }}\n          color={PROGRESS_BAR_COLOR}\n          size=\"LARGE\"\n        />\n      </ProgressBarContainer>\n      <div>\n        <ProgressTextContainer color={PROGRESS_BAR_COLOR}>\n          {percentRaised}% {t('buyMeal.toTarget')}\n        </ProgressTextContainer>{' '}\n        (${targetAmountDollars})\n      </div>\n      {isActive && (\n        <EndsAtContainer>\n          {t('buyMeal.endsIn')}{' '}\n          <ProgressTextContainer color={PROGRESS_BAR_COLOR}>\n            {daysLeftInCampaign}\n          </ProgressTextContainer>{' '}\n          {t('buyMeal.days')}\n        </EndsAtContainer>\n      )}\n    </Container>\n  );\n};\n\nexport default MegaGamProgressBar;\n\nconst Container = styled.div`\n  flex: 1;\n  font-size: 18px;\n  margin-right: 60px;\n  padding: 16px 0;\n  width: 100%;\n`;\n\nconst TotalRaised = styled.div`\n  color: #000000;\n  letter-spacing: 0.02em;\n  margin-bottom: 12px;\n`;\n\nconst TotalRaisedAmount = styled.span`\n  font-weight: 800;\n`;\n\nconst ProgressBarContainer = styled.div`\n  margin-bottom: 12px;\n`;\n\nconst ProgressTextContainer = styled.span`\n  color: ${({ color }: { color: string }) => color};\n  font-weight: 600;\n`;\n\nconst EndsAtContainer = styled.div`\n  margin-top: 12px;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport type { SellerDistributorPair as SellerDistributorPairType } from '../../../../utilities/api/types';\n\ninterface Props {\n  sellerDistributorPair: SellerDistributorPairType;\n}\n\nconst SellerDistributorPair = ({ sellerDistributorPair }: Props) => (\n  <Container>\n    <MerchantImage>\n      <img\n        alt=\"merchant\"\n        src={sellerDistributorPair.seller_image_url}\n        style={{ width: '100%' }}\n      />\n    </MerchantImage>\n    <PairContent>\n      <PairText>\n        {sellerDistributorPair.seller_name} x{' '}\n        {sellerDistributorPair.distributor_name}\n      </PairText>\n      <DistributorImage>\n        <img\n          alt=\"distributor\"\n          src={sellerDistributorPair.distributor_image_url}\n          style={{ height: '100%' }}\n        />\n      </DistributorImage>\n    </PairContent>\n  </Container>\n);\n\nconst Container = styled.div`\n  background-color: #ffffff;\n  border-radius: 9px;\n  border: 1px #e5e5e5 solid;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  overflow: hidden;\n  width: 270px;\n`;\n\nconst MerchantImage = styled.div`\n  display: flex;\n`;\n\nconst PairContent = styled.div`\n  align-items: center;\n  display: flex;\n  margin: 12px 8px;\n`;\n\nconst PairText = styled.div`\n  margin-right: 8px;\n`;\n\nconst DistributorImage = styled.div`\n  margin-left: auto;\n  height: 28px;\n`;\n\nexport default SellerDistributorPair;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport type {\n  Campaign,\n  SellerDistributorPair as SellerDistributorPairType,\n} from '../../../../utilities/api/types';\nimport { tabletScreens } from '../../../../utilities/general/responsive';\nimport MegaGamProgressBar from './MegaGamProgressBar';\nimport SellerDistributorPair from './SellerDistributorPair';\n\ninterface Props {\n  campaign: Campaign;\n}\n\nconst MegaGamListItem = ({ campaign }: Props) => {\n  const { t } = useTranslation();\n  return (\n    <Container>\n      <HeroImage heroImageUrl={campaign.gallery_image_urls[0]} />\n      <Content>\n        {/* TODO: Figure out if this is the correct header. If so, we need to translate. */}\n        <Header>Mega-GAM</Header>\n        <Subheader>{campaign.display_name}</Subheader>\n        <Description>{campaign.description}</Description>\n        <DonationContainer>\n          <MegaGamProgressBar\n            endDate={campaign.end_date}\n            isActive={campaign.active}\n            targetAmount={campaign.target_amount}\n            totalRaised={campaign.amount_raised}\n          />\n          {campaign.active && (\n            // TODO: Open payment modal.\n            <Button className=\"button--filled\" onClick={undefined}>\n              <ButtonText>{t('gamHome.megaGamListItem.giftButton')}</ButtonText>\n            </Button>\n          )}\n        </DonationContainer>\n        <SellerDistributorContent>\n          {/* TODO: Translate. */}\n          <LearnMoreText>\n            Learn more about our participating merchants:\n          </LearnMoreText>\n          <SellerDistributorPairs>\n            {campaign.seller_distributor_pairs.map(\n              (sellerDistributorPair: SellerDistributorPairType) => (\n                <SellerDistributorPair\n                  key={`${sellerDistributorPair.distributor_id};${sellerDistributorPair.seller_id}`}\n                  sellerDistributorPair={sellerDistributorPair}\n                />\n              )\n            )}\n          </SellerDistributorPairs>\n        </SellerDistributorContent>\n      </Content>\n      {/* TODO: Add fiscal sponsor. */}\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  background-color: #f7f7f7;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 56px;\n`;\n\n// TODO: Figure out how this image should scale.\nconst HeroImage = styled.div`\n  background-image: url('${(props: { heroImageUrl: string }) =>\n    props.heroImageUrl}');\n  background-size: cover;\n  height: 252px;\n  width: 100%;\n\n  @media (${tabletScreens}) {\n    height: 106px;\n  }\n`;\n\nconst Content = styled.div`\n  padding: 44px 66px;\n\n  @media (${tabletScreens}) {\n    padding: 16px 36px;\n  }\n`;\n\nconst Header = styled.div`\n  color: #1e7c9a;\n  font-size: 20px;\n  font-weight: 600;\n  letter-spacing: 0.05em;\n  margin-bottom: 16px;\n\n  @media (${tabletScreens}) {\n    margin-bottom: 8px;\n  }\n`;\n\nconst Subheader = styled.div`\n  font-size: 24px;\n  font-weight: 600;\n  letter-spacing: 0.05em;\n  margin-bottom: 36px;\n\n  @media (${tabletScreens}) {\n    margin-bottom: 16px;\n  }\n`;\n\nconst Description = styled.div`\n  font-size: 18px;\n  margin-bottom: 24px;\n`;\n\nconst DonationContainer = styled.div`\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 60px;\n\n  @media (${tabletScreens}) {\n    flex-direction: column;\n  }\n`;\n\nconst Button = styled.div`\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  height: 56px;\n  justify-content: center;\n  margin-bottom: 18px;\n  width: 360px;\n\n  @media (${tabletScreens}) {\n    margin-top: 28px;\n    margin-bottom: 16px;\n    width: 100%;\n  }\n`;\n\nconst ButtonText = styled.div`\n  font-size: 16px;\n  font-weight: 700;\n  letter-spacing: 0.15em;\n`;\n\nconst SellerDistributorContent = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst LearnMoreText = styled.div`\n  margin-bottom: 36px;\n`;\n\nconst SellerDistributorPairs = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n\n  > :not(:last-child) {\n    margin-right: 28px;\n  }\n`;\n\nexport default MegaGamListItem;\n","import React from 'react';\nimport {\n  smallScreens,\n  tabletScreens,\n} from '../../../utilities/general/responsive';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n\nconst NoActiveCampaignsBox = () => {\n  const { t } = useTranslation();\n\n  return (\n    <NoCampaignBox>\n      <TextContainer>\n        <Heading>{t('gamHome.noCampaignsBox.CTA')}</Heading>\n        <SubHeading>{t('gamHome.noCampaignsBox.description')}</SubHeading>\n      </TextContainer>\n      <Button\n        className=\"button--filled\"\n        onClick={(e) => {\n          e.preventDefault();\n          window.open('https://www.gofundme.com/f/gift-a-meal', '_blank');\n        }}\n      >\n        {t('gamHome.giftButton')}\n      </Button>\n    </NoCampaignBox>\n  );\n};\n\nexport default NoActiveCampaignsBox;\n\nconst NoCampaignBox = styled.div`\n  align-items: center;\n  border: 1px solid #e5e5e5;\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  padding: 30px;\n  margin-bottom: 25px;\n\n  @media (${tabletScreens}) {\n    grid-template-columns: 1fr;\n    margin-bottom: 15px;\n  }\n`;\n\nconst TextContainer = styled.div`\n  @media (${tabletScreens}) {\n    margin-bottom: 20px;\n  }\n`;\n\nconst Heading = styled.p`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 24px;\n\n  @media (${smallScreens}) {\n    font-size: 14px;\n  }\n`;\n\nconst SubHeading = styled.p`\n  font-size: 15px;\n\n  @media (${smallScreens}) {\n    font-size: 12px;\n  }\n`;\n\nconst Button = styled.button`\n  text-align: center;\n  letter-spacing: 0.15em;\n  cursor: pointer;\n  margin-bottom: 18px;\n  font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 700;\n  font-size: 16px;\n  letter-spacing: 0.05em;\n\n  @media (${smallScreens}) {\n    font-size: 14px;\n    padding-right: 0;\n  }\n`;\n","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport isEqual from 'fast-deep-equal';\nimport youTubePlayer from 'youtube-player';\n/**\n * Check whether a `props` change should result in the video being updated.\n *\n * @param {Object} prevProps\n * @param {Object} props\n */\n\nfunction shouldUpdateVideo(prevProps, props) {\n  // A changing video should always trigger an update\n  if (prevProps.videoId !== props.videoId) {\n    return true;\n  } // Otherwise, a change in the start/end time playerVars also requires a player\n  // update.\n\n\n  var prevVars = prevProps.opts.playerVars || {};\n  var vars = props.opts.playerVars || {};\n  return prevVars.start !== vars.start || prevVars.end !== vars.end;\n}\n/**\n * Neutralize API options that only require a video update, leaving only options\n * that require a player reset. The results can then be compared to see if a\n * player reset is necessary.\n *\n * @param {Object} opts\n */\n\n\nfunction filterResetOptions(opts) {\n  return _objectSpread({}, opts, {\n    playerVars: _objectSpread({}, opts.playerVars, {\n      autoplay: 0,\n      start: 0,\n      end: 0\n    })\n  });\n}\n/**\n * Check whether a `props` change should result in the player being reset.\n * The player is reset when the `props.opts` change, except if the only change\n * is in the `start` and `end` playerVars, because a video update can deal with\n * those.\n *\n * @param {Object} prevProps\n * @param {Object} props\n */\n\n\nfunction shouldResetPlayer(prevProps, props) {\n  return !isEqual(filterResetOptions(prevProps.opts), filterResetOptions(props.opts));\n}\n/**\n * Check whether a props change should result in an id or className update.\n *\n * @param {Object} prevProps\n * @param {Object} props\n */\n\n\nfunction shouldUpdatePlayer(prevProps, props) {\n  return prevProps.id !== props.id || prevProps.className !== props.className;\n}\n\nvar YouTube = /*#__PURE__*/function (_React$Component) {\n  _inherits(YouTube, _React$Component);\n\n  var _super = _createSuper(YouTube);\n\n  /**\n   * Expose PlayerState constants for convenience. These constants can also be\n   * accessed through the global YT object after the YouTube IFrame API is instantiated.\n   * https://developers.google.com/youtube/iframe_api_reference#onStateChange\n   */\n  function YouTube(props) {\n    var _this;\n\n    _classCallCheck(this, YouTube);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerReady\", function (event) {\n      return _this.props.onReady(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerError\", function (event) {\n      return _this.props.onError(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerStateChange\", function (event) {\n      _this.props.onStateChange(event);\n\n      switch (event.data) {\n        case YouTube.PlayerState.ENDED:\n          _this.props.onEnd(event);\n\n          break;\n\n        case YouTube.PlayerState.PLAYING:\n          _this.props.onPlay(event);\n\n          break;\n\n        case YouTube.PlayerState.PAUSED:\n          _this.props.onPause(event);\n\n          break;\n\n        default:\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerPlaybackRateChange\", function (event) {\n      return _this.props.onPlaybackRateChange(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerPlaybackQualityChange\", function (event) {\n      return _this.props.onPlaybackQualityChange(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"createPlayer\", function () {\n      // do not attempt to create a player server-side, it won't work\n      if (typeof document === 'undefined') return; // create player\n\n      var playerOpts = _objectSpread({}, _this.props.opts, {\n        // preload the `videoId` video if one is already given\n        videoId: _this.props.videoId\n      });\n\n      _this.internalPlayer = youTubePlayer(_this.container, playerOpts); // attach event handlers\n\n      _this.internalPlayer.on('ready', _this.onPlayerReady);\n\n      _this.internalPlayer.on('error', _this.onPlayerError);\n\n      _this.internalPlayer.on('stateChange', _this.onPlayerStateChange);\n\n      _this.internalPlayer.on('playbackRateChange', _this.onPlayerPlaybackRateChange);\n\n      _this.internalPlayer.on('playbackQualityChange', _this.onPlayerPlaybackQualityChange);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetPlayer\", function () {\n      return _this.internalPlayer.destroy().then(_this.createPlayer);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePlayer\", function () {\n      _this.internalPlayer.getIframe().then(function (iframe) {\n        if (_this.props.id) iframe.setAttribute('id', _this.props.id);else iframe.removeAttribute('id');\n        if (_this.props.className) iframe.setAttribute('class', _this.props.className);else iframe.removeAttribute('class');\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateVideo\", function () {\n      if (typeof _this.props.videoId === 'undefined' || _this.props.videoId === null) {\n        _this.internalPlayer.stopVideo();\n\n        return;\n      } // set queueing options\n\n\n      var autoplay = false;\n      var opts = {\n        videoId: _this.props.videoId\n      };\n\n      if ('playerVars' in _this.props.opts) {\n        autoplay = _this.props.opts.playerVars.autoplay === 1;\n\n        if ('start' in _this.props.opts.playerVars) {\n          opts.startSeconds = _this.props.opts.playerVars.start;\n        }\n\n        if ('end' in _this.props.opts.playerVars) {\n          opts.endSeconds = _this.props.opts.playerVars.end;\n        }\n      } // if autoplay is enabled loadVideoById\n\n\n      if (autoplay) {\n        _this.internalPlayer.loadVideoById(opts);\n\n        return;\n      } // default behaviour just cues the video\n\n\n      _this.internalPlayer.cueVideoById(opts);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"refContainer\", function (container) {\n      _this.container = container;\n    });\n\n    _this.container = null;\n    _this.internalPlayer = null;\n    return _this;\n  }\n\n  _createClass(YouTube, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.createPlayer();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (shouldUpdatePlayer(prevProps, this.props)) {\n        this.updatePlayer();\n      }\n\n      if (shouldResetPlayer(prevProps, this.props)) {\n        this.resetPlayer();\n      }\n\n      if (shouldUpdateVideo(prevProps, this.props)) {\n        this.updateVideo();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      /**\n       * Note: The `youtube-player` package that is used promisifies all YouTube\n       * Player API calls, which introduces a delay of a tick before it actually\n       * gets destroyed. Since React attempts to remove the element instantly\n       * this method isn't quick enough to reset the container element.\n       */\n      this.internalPlayer.destroy();\n    }\n    /**\n     * https://developers.google.com/youtube/iframe_api_reference#onReady\n     *\n     * @param {Object} event\n     *   @param {Object} target - player object\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: this.props.containerClassName\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: this.props.id,\n        className: this.props.className,\n        ref: this.refContainer\n      }));\n    }\n  }]);\n\n  return YouTube;\n}(React.Component);\n\n_defineProperty(YouTube, \"PlayerState\", {\n  UNSTARTED: -1,\n  ENDED: 0,\n  PLAYING: 1,\n  PAUSED: 2,\n  BUFFERING: 3,\n  CUED: 5\n});\n\nYouTube.propTypes = {\n  videoId: PropTypes.string,\n  // custom ID for player element\n  id: PropTypes.string,\n  // custom class name for player element\n  className: PropTypes.string,\n  // custom class name for player container element\n  containerClassName: PropTypes.string,\n  // https://developers.google.com/youtube/iframe_api_reference#Loading_a_Video_Player\n  opts: PropTypes.objectOf(PropTypes.any),\n  // event subscriptions\n  onReady: PropTypes.func,\n  onError: PropTypes.func,\n  onPlay: PropTypes.func,\n  onPause: PropTypes.func,\n  onEnd: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onPlaybackRateChange: PropTypes.func,\n  onPlaybackQualityChange: PropTypes.func\n};\nYouTube.defaultProps = {\n  videoId: null,\n  id: null,\n  className: null,\n  opts: {},\n  containerClassName: '',\n  onReady: function onReady() {},\n  onError: function onError() {},\n  onPlay: function onPlay() {},\n  onPause: function onPause() {},\n  onEnd: function onEnd() {},\n  onStateChange: function onStateChange() {},\n  onPlaybackRateChange: function onPlaybackRateChange() {},\n  onPlaybackQualityChange: function onPlaybackQualityChange() {}\n};\nexport default YouTube;\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport YouTube from 'react-youtube';\nimport { Options } from 'react-youtube';\n\ninterface Props {\n  videoId: string;\n}\n\nconst VideoComponent = ({ videoId }: Props) => {\n  // https://usehooks.com/useWindowSize/\n  const useWindowSize = () => {\n    const [windowSize, setWindowSize] = useState({\n      width: 0,\n      height: 0,\n    });\n\n    useEffect(() => {\n      function handleResize() {\n        setWindowSize({\n          width: window.innerWidth,\n          height: window.innerHeight,\n        });\n      }\n\n      window.addEventListener('resize', handleResize);\n      handleResize();\n\n      return () => window.removeEventListener('resize', handleResize);\n    }, []);\n\n    return windowSize;\n  };\n\n  const size = useWindowSize();\n  const width = Math.min(size.width * 0.8, 1200);\n  const height = width / 2;\n  const opts: Options = {\n    height: height.toString(),\n    width: width.toString(),\n    playerVars: {\n      autoplay: 0,\n    },\n  };\n\n  return <YouTube videoId={videoId} opts={opts} />;\n};\n\nexport default VideoComponent;\n","import React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { getCampaigns } from '../../../utilities/api';\nimport type { Campaign } from '../../../utilities/api';\nimport illustrated_flatlay_hero from '../images/illustrated_flatlay_hero.png';\nimport CampaignInstructions from './CampaignInstructions';\nimport CampaignListItem from './CampaignListItem';\nimport MegaGamListItem from './MegaGamListItem/MegaGamListItem';\nimport NoActiveCampaignsBox from './NoCampaignsBox';\nimport VideoComponent from './VideoComponent';\n\nimport styles from './styles.module.scss';\n\ninterface Props {\n  menuOpen: boolean;\n}\n\nconst GiftAMealPage = (props: Props) => {\n  const { t } = useTranslation();\n\n  const [activeCampaigns, setActiveCampaigns] = useState<Campaign[]>([]);\n  const [pastCampaigns, setPastCampaigns] = useState<Campaign[]>([]);\n  const [selectedCampaignId, setSelectedCampaignId] = useState<number | null>(\n    null\n  );\n\n  const fetchData = async () => {\n    const campaignResponse = await getCampaigns();\n    const activeMegaGam: Campaign[] = [];\n    const active: Campaign[] = [];\n    const past: Campaign[] = [];\n\n    // Campaigns come back sorted by oldest to newest end date.\n    campaignResponse.data.forEach((campaign: Campaign) => {\n      if (campaign.project_id) {\n        activeMegaGam.push(campaign);\n      } else if (campaign.active && campaign.valid) {\n        active.push(campaign);\n      } else {\n        past.push(campaign);\n      }\n    });\n\n    // We want active Mega GAM campaigns to show up first and then active\n    // campaigns from oldest to newest.\n    setActiveCampaigns(activeMegaGam.concat(active));\n    // Inactive campaigns should show up newest to oldest.\n    setPastCampaigns(past.reverse());\n  };\n\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div\n      className={styles.container}\n      style={{ display: props.menuOpen ? 'none' : 'inherit' }}\n    >\n      <div className={styles.header}>\n        <img\n          src={illustrated_flatlay_hero}\n          className={styles.hero}\n          alt=\"meal overlay illustration\"\n        />\n        <div className={styles.headerText}>\n          <h3 style={{ fontWeight: 'bolder' }}>{t('gamHome.header')}</h3>\n          <p>{t('gamHome.description')}</p>\n        </div>\n        <CampaignInstructions />\n      </div>\n      <br />\n      <button\n        className={styles.backButton}\n        onClick={(e) => {\n          e.preventDefault();\n          window.location.href = '/all';\n        }}\n      >\n        {t('gamHome.backButton')}\n      </button>\n      {activeCampaigns.length ? (\n        <>\n          {activeCampaigns.map((campaign: Campaign) =>\n            campaign.project_id ? (\n              <MegaGamListItem campaign={campaign} key={campaign.id} />\n            ) : (\n              <CampaignListItem\n                campaign={campaign}\n                key={campaign.id}\n                selectedCampaignId={selectedCampaignId}\n                setSelectedCampaignId={setSelectedCampaignId}\n              />\n            )\n          )}\n        </>\n      ) : (\n        <NoActiveCampaignsBox />\n      )}\n\n      <div className={styles.videoContainer}>\n        <VideoComponent videoId=\"3zbqvouILto\"></VideoComponent>\n        <h5 className={styles.videoDescription}>\n          {t('gamHome.videoBox.caption')}\n        </h5>\n      </div>\n\n      <h5 className={styles.campaignHeader}>{t('gamHome.pastSection')}</h5>\n      {pastCampaigns.map((campaign: Campaign) => (\n        <CampaignListItem\n          campaign={campaign}\n          key={campaign.id}\n          selectedCampaignId={selectedCampaignId}\n          setSelectedCampaignId={setSelectedCampaignId}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default GiftAMealPage;\n"],"sourceRoot":""}