{"version":3,"sources":["utilities/api/endpoints.ts","utilities/api/interactionManager.ts","pages/PassportRedemption/Assets/CircleLogo.png","pages/PassportRedemption/Assets/RaffleTicketCombo.png","pages/PassportRedemption/Assets/CrawlInfoIcon.png","pages/PassportRedemption/Assets/RaffleTicket.png","pages/PassportRedemption/Assets/ReceiptIcons/Coin.png","pages/PassportRedemption/Assets/ReceiptIcons/Gold.png","pages/PassportRedemption/Assets/ReceiptIcons/Money.png","pages/PassportRedemption/Assets/citi_bike.png","pages/PassportRedemption/style.tsx","pages/PassportRedemption/SignIn/index.tsx","pages/PassportRedemption/Rewards/index.tsx","pages/PassportRedemption/Redemption/index.tsx","pages/PassportRedemption/Passport/TicketRow.tsx","pages/PassportRedemption/Passport/Faq.tsx","pages/PassportRedemption/Passport/index.tsx","pages/PassportRedemption/Lyft/LyftPromo.tsx","pages/PassportRedemption/Lyft/index.tsx","pages/PassportRedemption/Dashboard.tsx"],"names":["baseUrl","process","sellers","charges","vouchers","campaigns","fees","passportVouchers","contacts","sponsorSellers","getSellers","lang","a","axios","get","params","locale","localeFromLanguage","getSeller","id","getSellerHours","getSellerDeliveryOptions","makeSquarePayment","nonce","sellerId","payment","buyer","isDistribution","campaignId","projectId","metadata","email","name","idempotencyKey","idempotency_key","isSubscribed","is_subscribed","post","is_square","line_items","seller_id","project_id","is_distribution","campaign_id","headers","then","res","catch","err","getVoucher","updateVoucher","amount","put","getMerchantGiftCards","secret","filterGAM","filterGAMString","language","getCampaigns","getPastCampaigns","pageNo","getCampaignsForMerchant","getFee","getDistributor","getFiscalSponsor","getParticipatingMerchant","getParticipatingMerchantTickets","tickets_secret","page","items","printed","associated","getPassportEmailId","getContactInfo","passportId","createPassportEmailId","instagram","updatePassportInstagram","checkForValidTicket","ticket_id","updateTicketContactId","contact_id","getPassportTickets","getParticipatingSeller","getLocationById","locationId","getOneSponsor","rewardId","redeemReward","auth_token","tickets","getLyftReward","redeemToken","token","getProject","light_up_chinatown_id","module","exports","CardContainer","styled","div","props","mainView","TitleRow","active","Title","span","color","SubTitle","isMainTitle","size","bold","align","Button","button","ErrorMessage","CardText","p","letterSpacing","Track","t","useTranslation","push","useHistory","useState","setEmail","emailError","setEmailError","ticketCode","setTicketCode","isTicketValid","setIsTicketValid","instagramHandle","setinstagramHandle","useEffect","findOrCreateUser","viewTickets","data","length","contactId","findTicketCode","code","formattedCode","split","join","toUpperCase","newContactId","SupporterTooltip","withStyles","theme","tooltip","backgroundColor","width","fontSize","typography","pxToRem","border","Tooltip","Container","PassportCard","Logo","src","CircleLogo","alt","InputContainer","className","Column","Label","htmlFor","InputField","type","onChange","e","preventDefault","target","value","onBlur","ModalPaymentConstants","EMAIL_REGEX","test","pattern","source","maxLength","Row","title","Fragment","ToolTipTable","enterTouchDelay","leaveTouchDelay","placement","CrawlInfoIcon","placeholder","disabled","onClick","ExternalLinks","href","LinksContainer","socialMediaLinks","map","social","Icon","url","key","platform","img","label","input","table","Rewards","setCurrentScreenView","useParams","history","receipts","setReceipts","rewards","setRewards","numRewards","Math","floor","fetchRewards","total_value","image_url","console","error","fetchReceipts","availableReceipts","participating_seller","payment_intent","receipt_url","redemption_id","filter","receipt","handleTicketSelection","currentTarget","persist","oldRewards","rew","toString","activeRewards","Header","RaffleTicketCombo","SubText","BasketDetails","log","TicketsContainer","reward","TicketCard","TicketHeader","TicketTopRow","TicketButton","TicketRewardAmount","TicketImage","EnterRaffleContainer","EnterRaffleTicketButton","CancelButton","RowStatuses","PassportRedemptionClaim","access_token","sponsor_seller_id","location","address1","address2","city","state","zip_code","logo_url","reward_detail","selectedReward","setSelectedReward","fetchSponsor","sponsor","location_id","handleRedemption","allTickets","ticketsToRedeem","ticket","slice","status","timeLeft","setTimeLeft","timer","setTimeout","ScreenType","clearTimeout","Shadow","ContentContainer","LogoImage","style","fontWeight","time","sec","pad","val","padStart","formatTime","Footer","window","TicketRow","Inactive","setStatus","stamps","every","stamp","redeemed_at","Redeemed","Active","TableRow","index","RedeemedRowOverlay","RaffleTicket","RedeemRaffleTicketButton","TableIndex","TableStamp","StampColumn","StampRow","filledStamps","ticketInfo","icon","GoldIcon","MoneyIcon","CoinIcon","Stamp","EmptyStamp","createStamps","RedeemedRow","showRedeemRow","tr","td","FaqContent","RewardsLink","Question","FAQFooter","Faq","showFaq","toggleView","foodCrawlFaq","returnObjects","hidden","open","faq","idx","Trans","i18nKey","rel","Passport","setShowFaq","showPopup","setShowPopup","setTickets","hash","ticketIds","promises","forEach","participating_seller_id","seller","stamp_url","Promise","all","passportTickets","localStorage","getItem","HeaderContainer","RedirectionLinks","MAILTO_URL","BodyContainer","pathname","PassportContainer","SubHeader","daysLeft","endDate","DaysEnd","Date","DateNow","distance","getDate","SendEmailContainer","TextContainer","PassportIcon","merchantsVisited","EnterRaffleButton","setItem","SendEmailButtonClose","rows","tempTickets","splice","createTicketRows","TableContainer","Table","row","createRows","AddNewReceipt","LyftCode","show","setShow","useRef","LyftIcon","CitiBikeImg","LyftCodeTitle","LyftCodeSubtitle","text","onCopy","LyftCodeDisplay","ref","Overlay","current","padding","borderRadius","zIndex","opacity","fontFamily","lineHeight","display","alignItems","textAlign","textTransform","height","LyftYesButton","LyftCodeScreen","setCode","PassportRedemption","screen","currentScreenView","includes","Dashboard","Claim","Redemption","Lyft","showCurrentScreen"],"mappings":"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","file":"static/js/13.6dbf6943.chunk.js","sourcesContent":["const baseUrl = process.env.REACT_APP_API_ENDPOINT!;\n\nexport const sellers = baseUrl + 'sellers/';\nexport const charges = baseUrl + 'charges';\nexport const vouchers = baseUrl + 'gift_cards/';\nexport const campaigns = baseUrl + 'campaigns/';\nexport const fees = baseUrl + 'fees/';\nexport const distributors = baseUrl + 'distributors/';\nexport const nonprofits = baseUrl + 'nonprofits/';\nexport const passportVouchers = baseUrl + 'participating_sellers/';\nexport const contacts = baseUrl + 'contacts/';\nexport const tickets = baseUrl + 'tickets/';\nexport const participatingSellers = baseUrl + 'participating_sellers/';\nexport const sponsorSellers = baseUrl + 'sponsor_sellers/';\nexport const locations = baseUrl + 'locations/';\nexport const lyftRewards = 'lyft_rewards/';\nexport const projects = baseUrl + 'projects/';\n","import axios from 'axios';\nimport { CardElement } from '@stripe/react-stripe-js';\nimport { Buyer, PaymentParams, SquareLineItems } from './types';\nimport {\n  charges,\n  sellers,\n  vouchers,\n  campaigns,\n  fees,\n  distributors,\n  passportVouchers,\n  contacts,\n  tickets,\n  participatingSellers,\n  sponsorSellers,\n  locations,\n  lyftRewards,\n  nonprofits,\n  projects,\n} from './endpoints';\n\n// Fix return typing\nexport const getSellers = async (lang?: string): Promise<any> => {\n  return await axios.get(sellers, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\nexport const getSeller = async (id: string, lang?: string): Promise<any> => {\n  return await axios.get(sellers + id, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\nexport const getSellerHours = async (id: string): Promise<any> => {\n  return await axios.get(sellers + id + '/open_hour');\n};\n\nexport const getSellerDeliveryOptions = async (id: string): Promise<any> => {\n  return await axios.get(sellers + id + '/delivery_options');\n};\n\n// TODO(ArtyEmsee): add typing for stripe elements\nexport const makePayment = async (\n  stripe: any,\n  elements: any,\n  payment: PaymentParams,\n  buyer: Buyer\n) => {\n  const { email, name } = buyer;\n\n  // TODO(ArtyEmsee): abstract api call, create global object for headers\n  await axios\n    .post(\n      charges,\n      {\n        is_square: false,\n        line_items: [payment],\n        email: email,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      // TODO(ArtyEmsee): fix response to success\n      if (!stripe || !elements) return;\n      else {\n        const cardElement = elements!.getElement(CardElement);\n        const result = await stripe!.confirmCardPayment(\n          `${res.data.client_secret}`,\n          {\n            payment_method: {\n              card: cardElement!,\n              billing_details: {\n                name: name,\n                email: email,\n              },\n            },\n          }\n        );\n\n        if (result.error) {\n          console.log(result.error.message);\n        } else {\n          if (result.paymentIntent?.status === 'succeeded') {\n            console.log(\n              result.paymentIntent?.status,\n              'The payment has been processed!'\n            );\n          }\n        }\n      }\n    });\n\n  // TODO(ArtyEmsee): fix response to error\n};\n\nexport const makeSquarePayment = async (\n  nonce: string,\n  sellerId: string,\n  payment: SquareLineItems,\n  buyer: Buyer,\n  isDistribution: boolean,\n  campaignId?: string,\n  projectId?: string,\n  metadata?: string | null\n) => {\n  const { email, name } = buyer;\n  const idempotencyKey = buyer.idempotency_key;\n  const isSubscribed = buyer.is_subscribed;\n\n  return await axios\n    .post(\n      charges,\n      {\n        is_square: true,\n        nonce,\n        line_items: payment,\n        email,\n        name,\n        seller_id: sellerId,\n        project_id: projectId,\n        idempotency_key: idempotencyKey,\n        is_subscribed: isSubscribed,\n        is_distribution: isDistribution, // TODO: deprecate this in favor of campaignId\n        campaign_id: campaignId,\n        metadata: metadata,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      return res;\n    })\n    .catch((err) => {\n      throw err;\n    });\n};\n\nexport const getVoucher = async (id: string) =>\n  axios\n    .get(vouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const updateVoucher = async (id: string, amount: number) =>\n  axios\n    .put(vouchers + id, { amount })\n    .then((res) => res)\n    .catch((err) => {\n      throw err;\n    });\n\nexport const getMerchantGiftCards = async (\n  seller_id: string,\n  secret: string,\n  filterGAM: boolean = false\n) => {\n  const filterGAMString = filterGAM ? '?filterGAM=true' : ''; // if the key is present at all, filtering will happen\n  return axios\n    .get(sellers + seller_id + '/gift_cards/' + secret + filterGAMString)\n    .then((res) => res); // don't catch error, throw it up the stack\n};\n\nfunction localeFromLanguage(language?: string) {\n  switch (language) {\n    case 'cn':\n      return 'zh-CN';\n    case 'en':\n    default:\n      return 'en';\n  }\n}\n\nexport const getCampaigns = async (): Promise<any> => {\n  return await axios\n    .get(campaigns)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getPastCampaigns = async (pageNo = 1): Promise<any> => {\n  return await axios\n    .get(`${campaigns}?inactive=true&items=10&page=${pageNo}`)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getCampaignsForMerchant = async (\n  seller_id: string\n): Promise<any> => {\n  return await axios\n    .get(sellers + seller_id + '/campaigns')\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getFees = async () => {\n  return await axios\n    .get(fees)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getFee = async (name: string) => {\n  return await axios\n    .get(fees + name)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getDistributor = async (id: string): Promise<any> => {\n  return await axios\n    .get(distributors + id)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getFiscalSponsor = async (id: number): Promise<any> => {\n  return await axios\n    .get(nonprofits + id)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getAllParticipatingSellers = async (): Promise<any> =>\n  axios\n    .get(passportVouchers)\n    .then((res) => res)\n    .catch((err) => err);\n\n// for passport crawl voucher print outs\nexport const getParticipatingMerchant = async (id: string) =>\n  axios\n    .get(passportVouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getParticipatingMerchantTickets = async (\n  id: string,\n  tickets_secret: string,\n  page: number | null,\n  items: number | null,\n  printed: boolean | null,\n  associated: boolean | null\n) =>\n  axios\n    .get(passportVouchers + id + '/tickets/' + tickets_secret, {\n      params: { page, items, printed, associated },\n    })\n    .then((res) => res)\n    .catch((err) => err);\n\n// validate passport email\nexport const getPassportEmailId = async (email: string) =>\n  axios\n    .get(contacts, {\n      params: { email },\n    })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getContactInfo = async (passportId: string) =>\n  axios\n    .get(contacts + passportId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const createPassportEmailId = async (\n  email: string,\n  instagram: string\n) => {\n  let params = {};\n\n  if (instagram) params = { email, instagram };\n  else params = { email };\n\n  return axios\n    .post(contacts, params)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const updatePassportInstagram = async (\n  id: string,\n  instagram: string\n) => {\n  return axios\n    .put(contacts + id, { instagram })\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const checkForValidTicket = async (ticket_id: string) =>\n  axios\n    .get(tickets + ticket_id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const updateTicketContactId = async (\n  ticket_id: string,\n  contact_id: string\n) =>\n  axios\n    .put(tickets + ticket_id, { contact_id })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getPassportTickets = async (passportId: string) =>\n  axios\n    .get(contacts + passportId + '/tickets')\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getParticipatingSeller = async (sellerId: string) =>\n  axios\n    .get(participatingSellers + sellerId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getGiveawayTicketsForContact = async (contactId: string) =>\n  axios\n    .get(contacts + contactId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const sendRedeemTicketsEmail = async (passportId: string) =>\n  axios\n    .post(contacts + passportId + '/rewards')\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getLocationById = async (locationId: number) =>\n  axios\n    .get(locations + locationId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getAllSponsors = async () =>\n  axios\n    .get(sponsorSellers)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getOneSponsor = async (rewardId: number) =>\n  axios\n    .get(sponsorSellers + rewardId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const redeemReward = async (\n  contact_id: number,\n  auth_token: string,\n  tickets: Array<any>\n) =>\n  axios\n    .put(contacts + contact_id + '/tickets/' + auth_token, { tickets })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const createLyftReward = async (contact_id: number) =>\n  axios\n    .post(contacts + contact_id + '/' + lyftRewards)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getLyftReward = async (contact_id: number) =>\n  axios\n    .get(contacts + contact_id + '/' + lyftRewards)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const redeemToken = async (contact_id: number, token: string) =>\n  axios\n    .post(contacts + contact_id + '/' + lyftRewards + token + '/redeem/')\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getProject = async (project_id: number) =>\n  axios\n    .get(projects + project_id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const light_up_chinatown_id = 1;\n","module.exports = __webpack_public_path__ + \"static/media/CircleLogo.d55d662b.png\";","module.exports = __webpack_public_path__ + \"static/media/RaffleTicketCombo.fde689dd.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAASCAYAAAC9+TVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHqSURBVHgBrVS/L0NRFP7u9avxo3kWrYakJkI0jYhBIioWFhHEYqDxB2CRWPyabLoLJSESSQ0Wix9tLJgaImGrEKlJKUGF69xHeX3eZXGSl/tyz/e+e953vnOBfwhm3ghqbs2Wbx8SQvgEmJcAmgASDCIqBJZSeAn746cxJclKqWeIlkn5IdQRowOm+uLHi+mNrPTLqsszQcsMEdjwe2iMsc4euwOh5HXki2TFWTtARQXM6JLGev0pKHfh7Yl+5C5pTPu6ixy3ofvrfRZ0VrnzWO4ubbqNiKaFAMraWvBweYVcexFIF+x0D+Lm5MwISzw/8gomq6DyguYq5Omp26R+uiTpONzExeYODkbGM3Ak9lQ2Y+iHRTxcXH0DP9eXu/sfOMZEM5dtxC+RQ1W0hub1qs7mli0QzMv/aCfat9b0dZv0kPpYhJb9YSRrIqlLQZkLe/5eFYGMBJdOVGWlLhsN7eaOZIYQUS4Ei6jyspK66VEU11SqOYAlnrLxgPwlK0BxdaXuFU1NEuPICuuzs1zqGebArGU1pIlKD5ohv5wh3fbrZN2uQgd5Dj4z0GR1AwHkEOqj8jWARBTuKiw5JybpG2XbP7s51hc/mknv/bhPVp1e9xtefZToF8xwn1AXyJiR1BMP+BPRDA3fAS2WtmfQGnaeAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/Coin.75f8112e.png\";","module.exports = __webpack_public_path__ + \"static/media/Gold.dff0616d.png\";","module.exports = __webpack_public_path__ + \"static/media/Money.5bd26881.png\";","module.exports = __webpack_public_path__ + \"static/media/citi_bike.df5a5640.png\";","import styled from 'styled-components';\n\ntype Props = {\n  color?: string;\n  bold?: string;\n  align?: string;\n  size?: string;\n  isMainTitle?: boolean;\n};\n\ntype PassportProps = {\n  mainView?: boolean;\n};\n\nconst CardContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  min-width: 367px;\n  margin: 0 auto;\n  background: ${(props: PassportProps) =>\n    props.mainView ? 'rgba(168,25,46,1)' : 'rgba(130,3,21,1)'};\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);\n  border-radius: 20px;\n  box-sizing: border-box;\n  overflow: hidden;\n\n  position: absolute;\n  z-index: ${(props: PassportProps) => (props.mainView ? '10' : '0')};\n  top: ${(props: PassportProps) => (props.mainView ? '50px' : '0')};\n`;\n\nconst ExternalLink = styled.a`\n  font-weight: bold;\n  text-transform: uppercase;\n  color: black;\n  font-size: 12px;\n  margin: 20px;\n  letter-spacing: .15em;\n\n  &.faq {\n      @media (max-width: 365px) {\n          margin-left: 8px;\n          margin-right: 8px;\n  }\n`;\n\nconst TitleRow = styled.div<{\n  active?: Boolean;\n}>`\n  text-align: center;\n  padding: 10px 20px;\n  display: flex;\n  flex-direction: column;\n  border-bottom: 2px solid\n    ${(props) => (props.active ? 'rgb(248,186,23)' : 'transparent')};\n  width: 100%;\n  min-height: 70px;\n`;\n\nconst Title = styled.span`\n  color: ${(props) => (props.color ? props.color : 'black')};\n  font-size: 14px;\n  font-weight: bold;\n  text-align: center;\n  letter-spacing: 0.15em;\n  margin: 5px auto;\n`;\n\nconst MainTitle = styled(Title)`\n  color: ${(props: Props) => (props.isMainTitle ? 'black' : 'grey')};\n`;\n\nconst SubTitle = styled.span`\n  color: ${(props: Props) => (props.color ? props.color : 'black')};\n  font-size: ${(props: Props) => (props.size ? props.size : '12px')};\n  font-weight: ${(props: Props) => (props.bold ? props.bold : '400')};\n  text-align: ${(props: Props) => (props.align ? props.align : 'center')};\n  letter-spacing: 0.15em;\n`;\n\nconst Button = styled.button`\n  margin: 10px auto;\n  outline: none;\n  cursor: pointer;\n\n  &.linkButton {\n    background-color: transparent;\n    border: none;\n    letter-spacing: 0.15em;\n    font-weight: bold;\n    text-transform: uppercase;\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n  padding-top: 5px;\n`;\n\ninterface CardTextProps {\n  bold?: string;\n  size?: string;\n  color?: string;\n  letterSpacing?: string;\n}\n\nconst CardText = styled.p`\n  text-transform: uppercase;\n  text-align: center;\n  letter-spacing: 0.15em;\n  margin: 0;\n  font-weight: ${(props: CardTextProps) => (props.bold ? props.bold : '400')};\n  font-size: ${(props: CardTextProps) => (props.size ? props.size : '12px')};\n  color: ${(props: CardTextProps) => (props.color ? props.color : '12px')};\n  letter-spacing; ${(props: CardTextProps) =>\n    props.letterSpacing ? props.letterSpacing : ''};\n`;\n\nexport {\n  CardContainer,\n  TitleRow,\n  Title,\n  MainTitle,\n  SubTitle,\n  Button,\n  ErrorMessage,\n  ExternalLink,\n  CardText,\n};\n","import Tooltip from '@material-ui/core/Tooltip';\nimport { withStyles, Theme } from '@material-ui/core/styles';\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { Title, SubTitle, Button, ErrorMessage } from '../style';\nimport { socialMediaLinks } from '../../../consts';\nimport {\n  getPassportEmailId,\n  createPassportEmailId,\n  updatePassportInstagram,\n  checkForValidTicket,\n  updateTicketContactId,\n  getPassportTickets,\n} from '../../../utilities/api/interactionManager';\nimport { ModalPaymentConstants } from '../../../utilities/hooks/ModalPaymentContext';\n\nimport CrawlInfoIcon from '../Assets/CrawlInfoIcon.png';\nimport CircleLogo from '../Assets/CircleLogo.png';\n\ninterface Props {\n  setCurrentScreenView: Function;\n}\n\nconst Track = (props: Props) => {\n  const { t } = useTranslation();\n  const { push } = useHistory();\n\n  const [email, setEmail] = useState('');\n  const [emailError, setEmailError] = useState('');\n\n  const [ticketCode, setTicketCode] = useState('');\n  const [isTicketValid, setIsTicketValid] = useState(true);\n\n  const [instagramHandle, setinstagramHandle] = useState('');\n\n  useEffect(() => {\n    push('/lny-passport');\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const findOrCreateUser = async (email, viewTickets) => {\n    const { data } = await getPassportEmailId(email);\n\n    // (to view tickets): sets error message for non-existent users and users with no tickets\n    if (viewTickets && !data) {\n      setEmailError(t('passport.errors.noTickets'));\n      setEmail('');\n      return;\n    } else if (viewTickets && data) {\n      const { data: hasTickets } = await getPassportTickets(data.id);\n      if (hasTickets.length) push(`/lny-passport/${data.id}/tickets`);\n      else setEmailError(t('passport.errors.noTickets'));\n      return;\n    }\n\n    // (to add tickets): searches for existing user or creates new user\n    let contactId = '';\n    if (data) {\n      contactId = data.id;\n      // updates instagram handle for existing users\n      if (instagramHandle) {\n        await updatePassportInstagram(contactId, instagramHandle);\n      }\n    } else {\n      const {\n        data: { id },\n      } = await createPassportEmailId(email, instagramHandle);\n      contactId = id;\n    }\n    await findTicketCode(ticketCode, contactId);\n  };\n\n  const findTicketCode = async (code, contactId) => {\n    let formattedCode = code.split('-').join('');\n    formattedCode = formattedCode.toUpperCase();\n\n    const { data } = await checkForValidTicket(formattedCode);\n    if (data && !data.contact_id) {\n      const { data: newContactId } = await updateTicketContactId(\n        formattedCode,\n        contactId\n      );\n      newContactId && push(`/lny-passport/${newContactId.contact_id}/tickets`);\n    } else {\n      setIsTicketValid(false);\n      setTicketCode('');\n    }\n  };\n\n  // const formatTicketCode = (code) => {\n  //   if (code.length === 3) {\n  //     setTicketCode(code + '-');\n  //   }\n  // };\n\n  const SupporterTooltip = withStyles((theme: Theme) => ({\n    tooltip: {\n      backgroundColor: '#ffffff',\n      color: 'rgba(0, 0, 0, 0.87)',\n      width: '100%',\n      fontSize: theme.typography.pxToRem(14),\n      border: '1px solid #dadde9',\n    },\n  }))(Tooltip);\n\n  return (\n    <Container>\n      <PassportCard>\n        <Logo src={CircleLogo} alt=\"scl-log\" />\n        <InputContainer className=\"trackScreen top\">\n          <Title color=\"#a8192e\">{t('passport.headers.passport')}</Title>\n          <SubTitle>{t('passport.labels.enterTicket')}</SubTitle>\n          <Column />\n          <Column>\n            <Label htmlFor=\"email-input\">{t('passport.labels.email')}</Label>\n            <InputField\n              name=\"email-input\"\n              type=\"email\"\n              onChange={(e) => {\n                e.preventDefault();\n                setEmail(e.target.value);\n                setEmailError('');\n              }}\n              onBlur={(e) => {\n                e.preventDefault();\n                if (!!email && !ModalPaymentConstants.EMAIL_REGEX.test(email)) {\n                  setEmailError(t('passport.errors.validEmail'));\n                }\n              }}\n              value={email}\n              pattern={ModalPaymentConstants.EMAIL_REGEX.source}\n            />\n            {emailError && <ErrorMessage>{emailError}</ErrorMessage>}\n          </Column>\n\n          <Column>\n            <Label htmlFor=\"ticket-code\">\n              {t('passport.labels.ticketCode')}\n            </Label>\n            <InputField\n              name=\"ticket-code\"\n              type=\"text\"\n              onChange={(e) => {\n                setTicketCode(e.target.value);\n                setIsTicketValid(true);\n              }}\n              // onKeyUp={(e) => {\n              //   if (e.key !== 'Backspace' || e.keyCode !== 8) {\n              //     formatTicketCode(e.target['value']);\n              //   }\n              // }}\n              value={ticketCode}\n              maxLength={6}\n            />\n            {!isTicketValid && (\n              <ErrorMessage>{t('passport.errors.validTicket')}</ErrorMessage>\n            )}\n          </Column>\n\n          <Column>\n            <Row className=\"row-no-margin\">\n              <Label htmlFor=\"instagram-handle\">\n                {t('passport.labels.instagramHandle')}{' '}\n                <strong>{t('passport.labels.instagramHandlePrompt')}</strong>\n              </Label>\n              <SupporterTooltip\n                title={\n                  <React.Fragment>\n                    <ToolTipTable>\n                      <tbody>\n                        <tr>\n                          To be entered into our weekly Digital Giveaways, visit\n                          3 merchants and post and tag{' '}\n                          <strong>@sendchinatownlove</strong>\n                          &nbsp;with your food crawl pictures on Instagram.\n                          Enter your Instagram handle so we can track your\n                          entries.\n                        </tr>\n                      </tbody>\n                    </ToolTipTable>\n                  </React.Fragment>\n                }\n                enterTouchDelay={10}\n                leaveTouchDelay={6000}\n                placement=\"left\"\n              >\n                <div>\n                  <img src={CrawlInfoIcon} alt=\"instagram-crawl-info\" />\n                </div>\n              </SupporterTooltip>\n            </Row>\n            <InputField\n              name=\"instagram-handle\"\n              type=\"text\"\n              onChange={(e) => setinstagramHandle(e.target.value)}\n              value={instagramHandle}\n              placeholder=\"@\"\n            />\n            <SubTitle color=\"grey\" size=\"11px\" align=\"left\">\n              {t('passport.labels.optional')}\n            </SubTitle>\n          </Column>\n        </InputContainer>\n\n        <InputContainer className=\"bottom\">\n          <Button\n            value=\"track-screen-button\"\n            className=\"button--red-filled\"\n            disabled={!email || !ticketCode || !isTicketValid}\n            onClick={() => {\n              findOrCreateUser(email, false);\n            }}\n          >\n            {t('passport.placeholders.addTicket')}\n          </Button>\n          {!!email && ModalPaymentConstants.EMAIL_REGEX.test(email) && (\n            <Button\n              className=\"linkButton\"\n              disabled={!email}\n              onClick={() => {\n                findOrCreateUser(email, true);\n              }}\n            >\n              {t('passport.placeholders.viewItem')}\n            </Button>\n          )}\n        </InputContainer>\n      </PassportCard>\n\n      <Row>\n        <ExternalLinks\n          href=\"https://www.sendchinatownlove.com/food-crawl.html\"\n          target=\"_blank\"\n        >\n          {t('passport.headers.learn')}\n        </ExternalLinks>\n        <LinksContainer>\n          {socialMediaLinks.map((social) => (\n            <Icon href={social.url} key={social.platform} target=\"_blank\">\n              <span className={`fa fa-${social.platform}`} />\n            </Icon>\n          ))}\n        </LinksContainer>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Track;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 367px;\n  margin: 0 auto;\n`;\n\nconst PassportCard = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-size: 12px;\n  width: 367px;\n  margin: 50px 0px 0px;\n  z-index: 0;\n  filter: drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.25));\n`;\n\nconst Logo = styled.img`\n  z-index: 10;\n  width: 100px;\n  height: 100px;\n  background-color: white;\n  border-radius: 50%;\n  margin-bottom: -50px;\n`;\n\nexport const InputContainer = styled.div`\n  background-color: white;\n  padding: 25px 20px;\n  box-sizing: border-box;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n\n  &.trackScreen {\n    padding-top: 60px;\n  }\n\n  &.top {\n    border-radius: 20px 20px 0px 0px;\n    border-bottom: 1px dashed #dedede;\n  }\n\n  &.bottom {\n    padding-top: 25px;\n    border-radius: 0px 0px 20px 20px;\n    border-top: 1px dashed #dedede;\n    text-align: center;\n  }\n\n  &.red {\n    color: #a8192e;\n  }\n`;\n\nconst Label = styled.label`\n  font-size: 13px;\n`;\n\nconst Column = styled.div`\n  margin: 15px 0;\n`;\n\nconst InputField = styled.input`\n  width: 100%;\n  height: 45px;\n  border: 1px solid #dadada;\n  margin-top: 8px;\n  padding-left: 1em;\n  border-radius: 5px;\n  outline: none;\n  -webkit-appearance: none;\n  font-size: 16px;\n  color: grey;\n\n  :invalid {\n    border: 1px solid red;\n  }\n`;\n\nconst ToolTipTable = styled.table`\n  width: 100%;\n`;\n\n// FOOTER\nexport const Row = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 15px 0 25px;\n  width: 100%;\n  justify-content: space-between;\n\n  &.row-no-margin {\n    margin: 0 auto;\n  }\n`;\n\nexport const ExternalLinks = styled.a`\n  font-weight: bold;\n  text-transform: uppercase;\n  color: black;\n  font-size: 12px;\n  margin: 20px;\n  cursor: pointer;\n  letter-spacing: 2px;\n`;\n\nconst LinksContainer = styled.div`\n  padding: 0;\n  list-style: none;\n  display: flex;\n  flex-direction: row;\n`;\n\nconst Icon = styled.a`\n  text-decoration: none;\n  color: #a8192e;\n  padding: 0 15px;\n  font-size: 22px;\n`;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { Title, Button } from '../style';\nimport RaffleTicketCombo from '../Assets/RaffleTicketCombo.png';\n\n// import { getPassportReceipts } from '../../../utilities/api/interactionManager';\n\ninterface Props {\n  setCurrentScreenView: Function;\n}\n\nconst Rewards = ({ setCurrentScreenView }: Props) => {\n  const { t } = useTranslation();\n  const { id } = useParams();\n  const history = useHistory();\n\n  const [receipts, setReceipts] = useState<any[]>([]);\n  const [rewards, setRewards] = useState<any[]>([]);\n\n  const numRewards = Math.floor(receipts.length / 3);\n  // const totalAmount = receipts.reduce((acc, curr) => {\n  //   acc += curr.amount;\n  //   return acc;\n  // }, 0);\n\n  const fetchRewards = async () => {\n    try {\n      // TODO: GET /Rewards\n      const allRewards = [\n        {\n          id: 0,\n          total_value: 5000,\n          name: 'Hype Beast Basket',\n          image_url: null,\n          active: false,\n          amount: 0,\n        },\n        {\n          id: 1,\n          total_value: 5200,\n          name: 'Rest and Relax Basket',\n          image_url: null,\n          active: false,\n          amount: 0,\n        },\n      ];\n      setRewards(allRewards);\n    } catch (err) {\n      console.error('passport error: ' + err);\n    }\n  };\n\n  const fetchReceipts = async () => {\n    try {\n      // TODO: GET /contacts/:contact_id/crawl_receipts\n      // filter it so that the receipts must have a null sponsor_seller_id (that are uploaded but not redeeemed)\n      const allReceipts = [\n        {\n          id: 0,\n          participating_seller: 1,\n          payment_intent: null,\n          contact_id: 8,\n          amount: 5000,\n          receipt_url: '',\n          redemption_id: null,\n        },\n        {\n          id: 1,\n          participating_seller: 1,\n          payment_intent: null,\n          contact_id: 8,\n          amount: 5000,\n          receipt_url: '',\n          redemption_id: null,\n        },\n        {\n          id: 2,\n          participating_seller: 1,\n          payment_intent: null,\n          contact_id: 8,\n          amount: 5000,\n          receipt_url: '',\n          redemption_id: null,\n        },\n      ];\n      const availableReceipts = allReceipts.filter(\n        (receipt) => receipt.redemption_id === null\n      );\n      setReceipts(availableReceipts);\n    } catch (err) {\n      console.error('passport error: ' + err);\n    }\n  };\n\n  const viewDetails = (e) => {\n    e.preventDefault();\n    console.log('add details');\n  };\n\n  useEffect(() => {\n    history.push(`/lny-passport/${id}/redeem`);\n    fetchReceipts();\n    fetchRewards();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleCancel = (e) => {\n    e.preventDefault();\n    history.push(`/lny-passport/${id}/tickets`);\n  };\n\n  const handleSubmission = (e) => {\n    e.preventDefault();\n    console.log('submitting to card:' + e.target.value);\n  };\n\n  const handleTicketSelection = (e) => {\n    e.preventDefault();\n    const id = e.currentTarget.name;\n    e.persist();\n\n    setRewards((oldRewards) => {\n      const newRewards = oldRewards.map((rew) => {\n        if (rew.id.toString() === id && !rew.active) {\n          return {\n            ...rew,\n            active: true,\n            amount: rew.amount + 1,\n          };\n        }\n        return rew;\n      });\n\n      return newRewards;\n    });\n  };\n\n  const clearTickets = (e) => {\n    setRewards((oldRewards) => {\n      const newRewards = oldRewards.map((rew) => {\n        if (rew.active) {\n          return {\n            ...rew,\n            active: false,\n            amount: rew.amount - 1,\n          };\n        }\n        return rew;\n      });\n\n      return newRewards;\n    });\n  };\n\n  const activeRewards = rewards.filter((rew) => rew.active === true);\n\n  return (\n    <Container>\n      <Header>\n        <Logo src={RaffleTicketCombo} alt=\"raffle-redemption\" />\n        <Title color=\"black\">\n          {numRewards === 1\n            ? t('passport.headers.oneRaffleTicketAvailable').toUpperCase()\n            : t('passport.headers.raffleTicketAvailable', {\n                amount: numRewards,\n              }).toUpperCase()}\n        </Title>\n        <SubText>{t('passport.labels.selectGiveawayBasket')}</SubText>\n        {activeRewards.length > 0 ? (\n          <BasketDetails className=\"button--filled\" onClick={clearTickets}>\n            {t('passport.placeholders.clearSelection')}\n          </BasketDetails>\n        ) : (\n          <BasketDetails className=\"button--outlined\" onClick={viewDetails}>\n            {t('passport.placeholders.giveawayDetails')}\n          </BasketDetails>\n        )}\n      </Header>\n      <TicketsContainer>\n        {rewards &&\n          rewards.map((reward) => (\n            <TicketCard\n              active={reward.active}\n              name={reward.id}\n              onClick={handleTicketSelection}\n              key={reward.id}\n            >\n              <TicketHeader>\n                <TicketTopRow>\n                  <TicketButton active={reward.active} />\n                  <Title>{reward.name.toUpperCase()}</Title>\n                  <TicketRewardAmount>{reward.amount}</TicketRewardAmount>\n                </TicketTopRow>\n                <SubText>\n                  {`${t('passport.labels.totalValue')}: ${\n                    reward.total_value\n                  }`.toUpperCase()}\n                </SubText>\n              </TicketHeader>\n              <TicketImage src={reward.image_url} alt=\"reward-image-url\" />\n            </TicketCard>\n          ))}\n      </TicketsContainer>\n      {activeRewards.length > 0 ? (\n        <EnterRaffleContainer>\n          <SubText>{t('passport.labels.ticketSelection')}</SubText>\n          <EnterRaffleTicketButton\n            className=\"button--red-filled\"\n            onClick={handleSubmission}\n            value={activeRewards.length}\n          >\n            {t('passport.placeholders.enterRaffle').toUpperCase()}\n          </EnterRaffleTicketButton>\n        </EnterRaffleContainer>\n      ) : (\n        <CancelButton onClick={handleCancel}>\n          {t('passport.placeholders.cancel').toUpperCase()}\n        </CancelButton>\n      )}\n    </Container>\n  );\n};\n\nexport default Rewards;\n\nconst Container = styled.div`\n  width: 100%;\n  margin: 0 auto;\n  font-size: 12px;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n`;\nconst Header = styled.div`\n  width: 100%;\n  margin: 0 auto;\n  margin-top: 30px;\n  position: fixed:\n  z-index: 100;\n  height: 215px;\n\n  top: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\nconst TicketsContainer = styled.div`\n  width: 100%;\n  position: fixed;\n  bottom: 50px;\n  top: 250px;\n  overflow: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\nconst TicketCard = styled.button<{\n  active: Boolean;\n}>`\n  width: 80%;\n  min-width: 200px;\n  margin: 12px auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 10px;\n\n  background: #ffffff;\n  border: 1px solid ${(props) => (props.active ? '#A8192E' : '#FFFFFF')};\n  box-sizing: border-box;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);\n  border-radius: 5px;\n`;\nconst TicketHeader = styled.div`\n  width: 100%;\n  margin: 0 auto;\n  margin-bottom: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\nconst TicketTopRow = styled.div`\n  width: 100%;\n  margin: 0 auto;\n  display: flex;\n  flex: space-between;\n`;\nconst TicketButton = styled.div<{\n  active: Boolean;\n}>`\n  width: 16px;\n  height: 16px;\n  border: 1px solid #c4c4c4;\n  border-radius: 50%;\n  background-color: ${(props) => (props.active ? '#A8192E' : 'transparent')};\n`;\nconst TicketRewardAmount = styled.div`\n  width: 30px;\n  height: 14px;\n  border-radius: 8px;\n  color: white;\n  background: #dd678a;\n`;\nconst TicketImage = styled.img`\n  width: 100%;\n  border: 1px solid #eaeaea;\n  box-sizing: border-box;\n  border-radius: 20px;\n`;\nconst Logo = styled.img`\n  width: 100px;\n  height: 100px;\n`;\nconst SubText = styled(Title)`\n  font-size: 12px;\n  font-weight: normal;\n`;\nconst BasketDetails = styled(Button)`\n  width: 300px;\n  font-size: 12px;\n  font-weight: bold;\n  text-align: center;\n  letter-spacing: 0.15em;\n`;\nconst EnterRaffleContainer = styled.div`\n  z-index: 100;\n  position: fixed;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  justify-self: center;\n  align-self: center;\n  width: 300px;\n`;\nconst EnterRaffleTicketButton = styled(Button)`\n  font-weight: bold;\n`;\nconst CancelButton = styled(Button)`\n  position: fixed;\n  bottom: 0;\n  z-index: 100;\n  color: #a8192e;\n  display: flex;\n  justify-self: center;\n  align-self: center;\n\n  background: transparent;\n  border: none;\n  text-decoration: underline;\n  font-size: 12px;\n  font-weight: bold;\n  text-align: center;\n  letter-spacing: 0.15em;\n`;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { InputContainer } from '../SignIn';\nimport { CardText, Button, SubTitle } from '../style';\nimport CircleLogo from '../Assets/CircleLogo.png';\n\nimport ScreenType from '../ScreenTypes';\n\nimport {\n  getPassportTickets,\n  getOneSponsor,\n  getLocationById,\n  redeemReward,\n} from '../../../utilities/api/interactionManager';\n\ninterface Props {\n  setCurrentScreenView: Function;\n}\n\nconst PassportRedemptionClaim = ({ setCurrentScreenView }: Props) => {\n  const { t } = useTranslation();\n  const { push } = useHistory();\n  const { id, access_token, sponsor_seller_id } = useParams();\n\n  const [selectedReward, setSelectedReward] = useState({\n    id: '',\n    name: '',\n    location: {\n      address1: '',\n      address2: '',\n      city: '',\n      state: '',\n      zip_code: '',\n    },\n    logo_url: '',\n    reward: '',\n    reward_detail: '',\n  });\n\n  const fetchSponsor = async () => {\n    try {\n      const { data: sponsor } = await getOneSponsor(sponsor_seller_id);\n      const { data: location } = await getLocationById(sponsor.location_id);\n      setSelectedReward({\n        ...sponsor,\n        location: location,\n      });\n    } catch (err) {\n      console.error('passport error: ' + err);\n    }\n  };\n\n  const handleRedemption = async () => {\n    try {\n      const { data: allTickets } = await getPassportTickets(id);\n      const ticketsToRedeem = allTickets\n        .filter((ticket) => ticket.sponsor_seller_id === null)\n        .slice(0, 3)\n        .map((ticket) => {\n          return { id: ticket.id, sponsor_seller_id };\n        });\n      const { status } = await redeemReward(id, access_token, ticketsToRedeem);\n      // figure out how to handle invalid redemption with this page\n      if (status !== 200) push(`/lny-passport/${id}/tickets`);\n    } catch (err) {\n      console.error('passport error: ' + err);\n    }\n  };\n\n  useEffect(() => {\n    fetchSponsor();\n    handleRedemption();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const [timeLeft, setTimeLeft] = useState(60 * 5);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setTimeLeft(timeLeft - 1);\n    }, 1000);\n    if (!timeLeft) setCurrentScreenView(ScreenType.Rewards);\n    return () => clearTimeout(timer);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [timeLeft]);\n\n  const formatTime = (time) => {\n    const sec = time % 60;\n    time = (time - sec) / 60;\n    const min = time % 60;\n\n    const pad = (val) => val.toString().padStart(2, '0');\n    return `${pad(min)}:${pad(sec)}`;\n  };\n\n  return (\n    <Container>\n      <Logo src={CircleLogo} alt=\"scl-log\" />\n      <Shadow>\n        <InputContainer className=\"top shadow\">\n          <ContentContainer>\n            <CardText bold=\"700\" size=\"30px\" letterSpacing=\"0.15em;\">\n              {selectedReward.reward}\n            </CardText>\n            <CardText bold=\"700\" size=\"25px\">\n              {selectedReward.reward_detail}\n            </CardText>\n            <br />\n            <LogoImage src={selectedReward.logo_url} alt=\"reward-logo\" />\n            <br />\n            <div>\n              <CardText bold=\"700\" size=\"15px\">\n                {selectedReward.name}\n              </CardText>\n              {selectedReward && selectedReward.location && (\n                <>\n                  <CardText size=\"15px\">\n                    {selectedReward.location.address1}\n                    {selectedReward.location.address2 && ', '}\n                    {selectedReward.location.address2 &&\n                      selectedReward.location.address2}\n                  </CardText>\n                  <CardText size=\"15px\">\n                    {selectedReward.location.city},{' '}\n                    {selectedReward.location.state}{' '}\n                    {selectedReward.location.zip_code}\n                  </CardText>\n                </>\n              )}\n            </div>\n          </ContentContainer>\n        </InputContainer>\n        <InputContainer className=\"bottom shadow\">\n          <ContentContainer>\n            <CardText size=\"15px\" color=\"#a8192e\">\n              {t('passport.labels.offerUser')}\n              <span style={{ fontWeight: 'bold' }}>\n                {' '}\n                {formatTime(timeLeft)}\n              </span>\n            </CardText>\n          </ContentContainer>\n        </InputContainer>\n      </Shadow>\n\n      <Footer>\n        <SubTitle bold=\"700\">{t('passport.labels.pleaseShow')}</SubTitle>\n        <Button\n          value=\"redemption-selected-button\"\n          className=\"button--red-filled\"\n          onClick={(e) => {\n            e.preventDefault();\n            window.location.href = `/lny-passport/${id}/redeem/${access_token}`;\n          }}\n        >\n          {t('passport.placeholders.markUsed')}\n        </Button>\n      </Footer>\n    </Container>\n  );\n};\n\nexport default PassportRedemptionClaim;\n\nconst Container = styled.div`\n  position: relative;\n  width: 375px;\n  hidden: 100vh;\n  margin: 0 auto;\n  padding-top: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-size: 12px;\n`;\n\nconst Logo = styled.img`\n  z-index: 10;\n  width: 100px;\n  height: 100px;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);\n  background-color: white;\n  border-radius: 50%;\n  margin-bottom: 25px;\n`;\n\nconst ContentContainer = styled.div`\n  max-width: 300px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst Shadow = styled.div`\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);\n  border-radius: 20px;\n`;\n\nconst LogoImage = styled.img`\n  width: 260px;\n  border-radius: 20px;\n  border: 1px solid #eaeaea;\n`;\n\nconst Footer = styled.div`\n  margin: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  & > * {\n    padding: 10px;\n  }\n`;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n\nimport RaffleTicket from '../Assets/RaffleTicket.png';\nimport CoinIcon from '../Assets/ReceiptIcons/Coin.png';\nimport GoldIcon from '../Assets/ReceiptIcons/Gold.png';\nimport MoneyIcon from '../Assets/ReceiptIcons/Money.png';\n// import RedEnvIcon from \"../Assets/ReceiptIcons/RedEnv.png\"\n\nimport { Button } from '../style';\n// import { Contact } from '../../../utilities/api/types';\n\n// import { dateFormatter } from '../../../utilities/general/textFormatter';\nimport ScreenType from '../ScreenTypes';\n\ninterface Props {\n  stamps: participatingSellerProps[];\n  index: number;\n  setCurrentScreenView: Function;\n}\n\ntype participatingSellerProps = {\n  created_at: string;\n  id: number;\n  name: string;\n  seller_id: number;\n  stamp_url: string;\n  updated_at: string;\n  redeemed_at: string;\n  sponsor_seller_id: string;\n};\ntype redeemRowProp = {\n  status?: RowStatuses;\n};\n\nenum RowStatuses {\n  Inactive,\n  Active,\n  Redeemed,\n}\n\nconst TicketRow = (props: Props) => {\n  const { t } = useTranslation();\n  const [status, setStatus] = useState<RowStatuses>(RowStatuses.Inactive);\n  // const [redeemedOn, setRedeemedOn] = useState('');\n\n  useEffect(() => {\n    if (props.stamps.length === 3) {\n      if (\n        props.stamps.every(\n          (stamp) => stamp.redeemed_at && stamp.sponsor_seller_id\n        )\n      ) {\n        // const date = props.stamps[0].redeemed_at;\n        // setRedeemedOn(date);\n        setStatus(RowStatuses.Redeemed);\n      } else {\n        setStatus(RowStatuses.Active);\n      }\n    } else {\n      setStatus(RowStatuses.Inactive);\n    }\n  }, [props.stamps]);\n\n  const showRedeemRow = (status) => {\n    switch (status) {\n      case RowStatuses.Redeemed:\n        return;\n      case RowStatuses.Active:\n        return t('passport.placeholders.readyToRedeem').toUpperCase();\n      default:\n        if (props.stamps.length === 0) return;\n        return 3 - props.stamps.length === 1\n          ? t('passport.placeholders.oneLeftToRedeem')\n          : t('passport.placeholders.leftToRedeem', {\n              amount: 3 - props.stamps.length,\n            });\n    }\n  };\n\n  const createStamps = (stamps) => {\n    const filledStamps = stamps.map((ticketInfo) => {\n      const category = props.index % 3;\n      let icon;\n      switch (category) {\n        case 1:\n          icon = GoldIcon;\n          break;\n        case 2:\n          icon = MoneyIcon;\n          break;\n        default:\n          icon = CoinIcon;\n          break;\n      }\n\n      return <Stamp key={ticketInfo.id} src={icon} />;\n    });\n\n    while (filledStamps.length < 3) {\n      filledStamps.push(\n        <EmptyStamp key={'empty stamp' + filledStamps.length} />\n      );\n    }\n\n    return filledStamps;\n  };\n\n  const redeemRaffleTicket = (e) => {\n    e.preventDefault();\n    props.setCurrentScreenView(ScreenType.Rewards);\n  };\n\n  return (\n    <TableRow key={props.index}>\n      {status === RowStatuses.Redeemed && (\n        <RedeemedRowOverlay status={status}>\n          <img src={RaffleTicket} alt=\"RaffleTicket\" />\n          <span>{t('passport.labels.enteredGiveAway').toUpperCase()}</span>\n        </RedeemedRowOverlay>\n      )}\n      {status === RowStatuses.Active && (\n        <RedeemedRowOverlay status={status}>\n          <span>{t('passport.labels.earnedYourTicket').toUpperCase()}</span>\n          <RedeemRaffleTicketButton onClick={redeemRaffleTicket}>\n            {t('passport.placeholders.useTicket').toUpperCase()}\n          </RedeemRaffleTicketButton>\n        </RedeemedRowOverlay>\n      )}\n      <TableIndex> {props.index + 1} </TableIndex>\n      <TableStamp>\n        <StampColumn>\n          <StampRow>{!!props.stamps && createStamps(props.stamps)}</StampRow>\n        </StampColumn>\n        <RedeemedRow>{showRedeemRow(status)}</RedeemedRow>\n      </TableStamp>\n    </TableRow>\n  );\n};\n\nexport default TicketRow;\n\nconst TableRow = styled.tr`\n  width: 100%;\n  height: 90px;\n  display: flex;\n  border: 2px solid rgb(248, 186, 23);\n  border-width: 1px 2px;\n  position: relative;\n  color: rgb(248, 186, 23);\n`;\nconst TableIndex = styled.td`\n  display: flex;\n  width: 40px;\n  height: 90px;\n  text-align: center;\n  align-items: flex-start;\n  justify-content: center;\n  padding-top: 12px;\n  border-right: 2px solid rgb(248, 186, 23);\n  font-weight: bold;\n`;\nconst TableStamp = styled.td`\n  width: 100%;\n  position: relative;\n  padding: 0;\n`;\nconst StampColumn = styled.div`\n  position: relative;\n  width: 100%;\n  height: 65px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\nconst StampRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 auto;\n  width: 80%;\n  height: 100%;\n`;\nconst RedeemedRow = styled.div`\n  border-top: 1px dotted #f8ba17;\n  width: 100%;\n  margin: 0 auto;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  padding: 5px;\n  font-size: 10px;\n  height: 25px;\n  text-transform: uppercase;\n  font-weight: 700;\n`;\nconst RedeemedRowOverlay = styled.div`\n  position: absolute;\n  left: 0;\n  width: 100%;\n  height: 88px;\n  background: rgba(168, 25, 46, 0.8);\n  z-index: 10;\n\n  padding: ${(props: redeemRowProp) =>\n    props.status === RowStatuses.Active ? '0' : '0 5%'};\n  span {\n    color: white;\n    font-weight: bold;\n  }\n  img {\n    width: 65px;\n    margin-right: 16px;\n  }\n\n  display: flex;\n  align-items: center;\n  flex-direction: ${(props: redeemRowProp) =>\n    props.status === RowStatuses.Active ? 'column' : 'row'};\n  justify-content: center;\n`;\nconst Stamp = styled.img`\n  width: 45px;\n`;\nconst EmptyStamp = styled.div`\n  width: 55px;\n`;\nconst RedeemRaffleTicketButton = styled(Button)`\n  padding: 0;\n  height: 35px;\n  width: 300px;\n  margin: 0 auto;\n  margin-top: 10px;\n  align-items: center;\n  text-align: center;\n  z-index: 100;\n  backcroung: white;\n\n  border: 1.5px solid #a8192e;\n  color: #a8192e;\n  box-sizing: border-box;\n  border-radius: 50px;\n\n  font-size: 12px;\n  line-height: 16px;\n  font-weight: bold;\n  text-transform: uppercase;\n  letter-spacing: 0.15em;\n  filter: drop-shadow(0px 4px 2px rgba(0, 0, 0, 0.15));\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Trans, useTranslation } from 'react-i18next';\nimport { CardContainer, TitleRow, Title } from '../style';\n\ntype Props = {\n  showFaq: boolean;\n  toggleView: () => void;\n};\n\nconst Faq = ({ showFaq, toggleView }: Props) => {\n  const goToFoodCrawlInfo = (e) => {\n    window.open('https://www.sendchinatownlove.com/food-crawl.html', '_blank');\n  };\n  const { t } = useTranslation();\n  const foodCrawlFaq = t<object[]>('passport.faq.arrayOfQuestionAnswers', {\n    returnObjects: true,\n  });\n\n  return (\n    <Container mainView={showFaq} onClick={toggleView}>\n      <TitleRow active={showFaq}>\n        <Title\n          color={showFaq ? 'rgb(248,186,23,1)' : 'rgba(255, 255, 255, 0.7)'}\n        >\n          {t('passport.headers.rewards').toUpperCase()}\n        </Title>\n      </TitleRow>\n      {!showFaq && (\n        <>\n          <br />\n          <br />\n        </>\n      )}\n      <FaqContent hidden={!showFaq}>\n        <RewardsLink onClick={goToFoodCrawlInfo}>\n          {t('passport.faq.viewActiveRewards')}\n        </RewardsLink>\n        {foodCrawlFaq.map((faq: any, idx) => (\n          <div key={'foodCrawlFaq' + idx}>\n            <Question>\n              {`${idx + 1}.`}\n              <Trans\n                i18nKey={`passport.faq.arrayOfQuestionAnswers.${idx}.question`}\n              >\n                <strong />\n                <i />\n              </Trans>\n            </Question>\n            <br />\n            <Trans\n              i18nKey={`passport.faq.arrayOfQuestionAnswers.${idx}.answer`}\n            >\n              <strong />\n              <i />\n              <p />\n              <a\n                href=\"https://www.sendchinatownlove.com/\"\n                target=\"_blank\"\n                style={{ color: 'white' }}\n                rel=\"noopener noreferrer\"\n              >\n                https://www.sendchinatownlove.com/\n              </a>\n              <a\n                href=\"https://www.sendchinatownlove.com/food-crawl.html\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                link\n              </a>\n              <>\n                <br />\n                <br />\n              </>\n            </Trans>\n          </div>\n        ))}\n        <br />\n        <FAQFooter>\n          Questions? Email us at\n          <a\n            href=\"hello@sendchinatownlove.com\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            hello@sendchinatownlove.com\n          </a>\n        </FAQFooter>\n      </FaqContent>\n    </Container>\n  );\n};\n\nconst Container = styled(CardContainer)<{\n  mainView: Boolean;\n}>`\n  position: fixed;\n  bottom: 0;\n  top: ${(props) => (props.mainView ? '180px' : '130px')};\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n`;\nconst FaqContent = styled.div`\n  padding: 10px 30px 15px;\n  font-size: 12px;\n  overflow: auto;\n  color: white;\n  height: calc(100vh - 230px);\n`;\n\nconst RewardsLink = styled.span`\n  text-transform: uppercase;\n  color: white;\n  font-weight: 700;\n  letter-spacing: 0.15em;\n  font-size: 14px;\n  text-decoration: underline;\n  cursor: pointer;\n  font-size: 12px;\n`;\n\nconst Question = styled.p`\n  font-weight: bold;\n  margin-bottom: 1px;\n`;\n\nconst FAQFooter = styled.div`\n  a {\n    margin-left: 5px;\n    font-weight: bold;\n    color: white;\n  }\n`;\n\nexport default Faq;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { CardContainer, TitleRow, Title, SubTitle, Button } from '../style';\nimport { MAILTO_URL } from '../../../consts';\nimport {\n  getPassportTickets,\n  getParticipatingSeller,\n  getContactInfo,\n} from '../../../utilities/api/interactionManager';\nimport ScreenType from '../ScreenTypes';\n\nimport TicketRow from './TicketRow';\nimport FAQ from './Faq';\n\nimport CircleLogo from '../Assets/CircleLogo.png';\nimport RaffleTicketCombo from '../Assets/RaffleTicketCombo.png';\n\ninterface Props {\n  setCurrentScreenView: Function;\n}\n\nconst Passport = (props: Props) => {\n  const { t } = useTranslation();\n  const { id } = useParams();\n  const { push, location } = useHistory();\n  const [showFaq, setShowFaq] = useState(false);\n  const [showPopup, setShowPopup] = useState(false);\n  const [tickets, setTickets] = useState<any[]>([]);\n\n  useEffect(() => {\n    push(`/lny-passport/${id}/tickets`);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (location.hash === '#faq') {\n      setShowFaq(true);\n    } else {\n      setShowFaq(false);\n    }\n  }, [location]);\n\n  useEffect(() => {\n    if (id) {\n      getContactInfo(id)\n        .then((res) => {\n          return getPassportTickets(id);\n        })\n        .then((ticketIds) => {\n          let promises: any[] = [];\n          ticketIds.data.forEach((ticket) => {\n            promises.push(\n              getParticipatingSeller(ticket.participating_seller_id).then(\n                (seller) => ({\n                  stamp_url: seller.data.stamp_url,\n                  ...ticket,\n                })\n              )\n            );\n          });\n\n          return Promise.all(promises);\n        })\n        .then((passportTickets) => {\n          if (passportTickets.length > 0) {\n            setTickets(passportTickets);\n          }\n        })\n        .catch((err) => {\n          console.log('passport error: ' + err);\n        });\n    }\n  }, [id]);\n\n  useEffect(() => {\n    if (tickets.length / 3 >= 1)\n      setShowPopup(\n        localStorage.getItem('amountOfRedemptions') !==\n          ((tickets.length % 3) + 1).toString()\n      );\n  }, [tickets]);\n\n  const daysLeft = (endDate) => {\n    const DaysEnd = new Date(endDate);\n    const DateNow = new Date();\n    const distance = DaysEnd.getDate() - DateNow.getDate();\n    if (distance < 0) {\n      return 0;\n    }\n\n    return distance;\n  };\n\n  const createTicketRows = (tickets) => {\n    let rows: any[] = [];\n\n    if (tickets.length > 0) {\n      // make a temp ticket that sorts the tickets by sponsor seller, then redemption date\n      let tempTickets = [...tickets];\n\n      // push the stamps to rows of 3, if there arent 3, then push the left over amount\n      while (tempTickets.length) {\n        rows.push(tempTickets.splice(0, 3));\n      }\n    }\n\n    // if there are less than 6 rows, make 6 rows, other wise make one extra row\n    if (rows.length < 6) {\n      while (rows.length < 6) {\n        rows.push([]);\n      }\n    } else {\n      rows.push([]);\n    }\n\n    return rows;\n  };\n\n  const createRows = (stamps) => {\n    const rows = createTicketRows(stamps);\n    return (\n      <TableContainer>\n        <Table>\n          <tbody>\n            {rows.map((row, index) => (\n              <TicketRow\n                stamps={row}\n                index={index}\n                key={'row' + index}\n                setCurrentScreenView={props.setCurrentScreenView}\n              />\n            ))}\n          </tbody>\n        </Table>\n      </TableContainer>\n    );\n  };\n\n  const addTicket = (e) => {\n    e.preventDefault();\n    props.setCurrentScreenView(ScreenType.Track);\n  };\n\n  const closePopup = (e) => {\n    e.preventDefault();\n    setShowPopup(false);\n    localStorage.setItem(\n      'amountOfRedemptions',\n      ((tickets.length % 3) + 1).toString()\n    );\n  };\n\n  const enterRaffleTicket = (e) => {\n    e.preventDefault();\n    props.setCurrentScreenView(ScreenType.Rewards);\n    localStorage.setItem(\n      'amountOfRedemptions',\n      ((tickets.length % 3) + 1).toString()\n    );\n  };\n\n  return (\n    <Container>\n      <HeaderContainer>\n        <RedirectionLinks\n          href=\"https://www.sendchinatownlove.com/food-crawl.html\"\n          target=\"_blank\"\n        >\n          {t('passport.headers.learn')}\n        </RedirectionLinks>\n        <Logo src={CircleLogo} alt=\"scl-log\" />\n        <RedirectionLinks href={MAILTO_URL}>\n          {t('passport.headers.contact')}\n        </RedirectionLinks>\n      </HeaderContainer>\n      <BodyContainer>\n        <FAQ\n          showFaq={showFaq}\n          toggleView={() => push(location.pathname + '#faq')}\n        />\n        <PassportContainer\n          mainView={!showFaq}\n          onClick={() => push(location.pathname)}\n        >\n          <TitleRow active={!showFaq}>\n            <Title\n              color={showFaq ? 'rgba(255, 255, 255, 0.7)' : 'rgb(248,186,23,1)'}\n            >\n              {t('passport.headers.passport').toUpperCase()}\n            </Title>\n            {showFaq ? (\n              <>\n                <br />\n                <br />\n                <br />\n              </>\n            ) : (\n              <SubHeader color={showFaq ? 'transparent' : 'white'}>\n                {t('passport.labels.daysLeft', {\n                  daysLeft: daysLeft('February 28, 2021'),\n                })}\n              </SubHeader>\n            )}\n          </TitleRow>\n\n          {showPopup && (\n            <SendEmailContainer>\n              <TextContainer>\n                <PassportIcon src={RaffleTicketCombo} />\n                <br />\n                <Title>\n                  {t('passport.headers.raffleTicketEarned').toUpperCase()}\n                </Title>\n                <br />\n                <SubTitle>\n                  {t('passport.labels.merchantsVisited', {\n                    merchantsVisited: 3,\n                  })}\n                  <br />\n                  <br />\n                  {t('passport.labels.thankYou', { stamps: 2 })}\n                </SubTitle>\n              </TextContainer>\n\n              <EnterRaffleButton\n                className=\"button--filled\"\n                onClick={enterRaffleTicket}\n              >\n                {t('passport.placeholders.enterMyRaffle').toUpperCase()}\n              </EnterRaffleButton>\n              <SendEmailButtonClose onClick={closePopup}>\n                {t('passport.placeholders.close')}\n              </SendEmailButtonClose>\n            </SendEmailContainer>\n          )}\n          {!showFaq && createRows(tickets)}\n          {!showFaq && (\n            <AddNewReceipt className=\"button--filled\" onClick={addTicket}>\n              {t('passport.placeholders.addNewReceipt').toUpperCase()}\n            </AddNewReceipt>\n          )}\n        </PassportContainer>\n      </BodyContainer>\n    </Container>\n  );\n};\n\nexport default Passport;\n\nconst Container = styled.div`\n  position: relative;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  width: 375px;\n  letter-spacing: 0.15em;\n  overflow: hidden;\n`;\n\nconst PassportContainer = styled(CardContainer)<{\n  mainView: Boolean;\n}>`\n  position: fixed;\n  bottom: 0;\n  top: ${(props) => (props.mainView ? '180px' : '130px')};\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n`;\nconst SubHeader = styled(SubTitle)`\n  font-style: italic;\n  font-weight: bold;\n`;\nconst HeaderContainer = styled.div`\n  width: 100%;\n  height: 100px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  margin: 12px auto;\n`;\nconst RedirectionLinks = styled.a`\n  text-transform: uppercase;\n  color: black;\n  font-weight: bold;\n  letter-spacing: 0.15em;\n  font-size: 12px;\n`;\nconst Logo = styled.img`\n  width: 100px;\n  height: 100px;\n  filter: drop-shadow(0 0mm 2px #cdcdcd);\n`;\nconst BodyContainer = styled.div`\n  width: 375px;\n  display: flex;\n  justify-content: center;\n\n  position: absolute;\n  top: 155px;\n  bottom: 0;\n`;\nconst TableContainer = styled.div`\n  width: 100%;\n  overflow: auto;\n`;\nconst Table = styled.table`\n  width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0;\n  font-size: 12px;\n`;\nconst AddNewReceipt = styled(Button)`\n  position: fixed;\n  bottom: 0;\n  width: 300px;\n  z-index: 10;\n  font-weight: bold;\n  justify-self: center;\n  align-self: center;\n`;\nconst SendEmailContainer = styled.div`\n  padding: 15px;\n  position: absolute;\n  width: 95%;\n  margin: 0 auto;\n  z-index: 20;\n  top: 15px;\n  bottom: 15px;\n\n  z-index: 100;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n\n  background: #ffffff;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);\n  backdrop-filter: blur(4px);\n  border-radius: 5px;\n`;\nconst TextContainer = styled.div`\n  width: 95%;\n  margin: 0 auto;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst PassportIcon = styled.img`\n  width: 193px;\n  height: 190px;\n`;\nconst SendEmailButtonClose = styled(Button)`\n  text-align: center;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #a8192e;\n\n  background: center;\n  border: none;\n`;\nconst EnterRaffleButton = styled(Button)`\n  font-weight: 700;\n`;\n","import React, { useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Overlay from 'react-bootstrap/Overlay';\n\nimport { TitleRow, SubTitle, Button, CardContainer } from '../style';\nimport CitiBikeImg from '../Assets/citi_bike.png';\n\ninterface PromoProps {\n  yesClickHander: () => void;\n  noClickHander: () => void;\n}\n\nexport const LyftRewardPromo = (props: PromoProps) => {\n  const { t } = useTranslation();\n  return (\n    <LyftPromptContainer height={340}>\n      <LyftIcon src={CitiBikeImg} />\n      <TitleRow>\n        <LyftSubTitle>\n          {t('lyftReward.mainBody1')}\n          <br />\n          <br />\n          {t('lyftReward.mainBody2')}\n          <br />\n          <br />\n          {t('lyftReward.mainBody3')}\n        </LyftSubTitle>\n      </TitleRow>\n      <span>\n        <LyftYesButton\n          className=\"button--red-filled\"\n          onClick={props.yesClickHander}\n        >\n          {t('lyftReward.yesButton')}\n        </LyftYesButton>\n        <LyftNoButton\n          className=\"button--red-outlined\"\n          onClick={props.noClickHander}\n        >\n          {t('lyftReward.noButton')}\n        </LyftNoButton>\n      </span>\n    </LyftPromptContainer>\n  );\n};\n\ninterface ConfirmationProps {\n  isSuccess: boolean;\n  closeClickHander: () => void;\n}\n\nexport const LyftConfirmationPromo = (props: ConfirmationProps) => {\n  const { t } = useTranslation();\n  return (\n    <LyftPromptContainer height={285}>\n      <LyftIcon src={CitiBikeImg} />\n      <TitleRow>\n        <LyftSubTitle>\n          <br />\n          {props.isSuccess\n            ? t('lyftReward.successBody1')\n            : t('lyftReward.failureBody1')}\n          <br />\n          <br />\n          {props.isSuccess\n            ? t('lyftReward.successBody2')\n            : t('lyftReward.failureBody2')}\n        </LyftSubTitle>\n      </TitleRow>\n      <LyftCloseButton\n        className=\"button--red-filled\"\n        onClick={props.closeClickHander}\n      >\n        {t('lyftReward.closeButton')}\n      </LyftCloseButton>\n    </LyftPromptContainer>\n  );\n};\n\ninterface CodeProps {\n  code: string;\n}\n\nexport const LyftCode = (props: CodeProps) => {\n  const { t } = useTranslation();\n  const [show, setShow] = useState(false);\n  const target = useRef(null);\n\n  return (\n    <CardContainer mainView={true}>\n      <br />\n      <br />\n      <LyftIcon src={CitiBikeImg} />\n      <LyftCodeTitle>{t('lyftReward.codeTitle')}</LyftCodeTitle>\n      <LyftCodeSubtitle>{t('lyftReward.codeSubtitle')}</LyftCodeSubtitle>\n      <CopyToClipboard\n        text={props.code}\n        onCopy={(e: any) => {\n          setShow(!show);\n        }}\n      >\n        <LyftCodeDisplay>{props.code}</LyftCodeDisplay>\n      </CopyToClipboard>\n      <div ref={target}></div>\n      <Overlay target={target.current} show={show} placement=\"top\">\n        {(props) => (\n          <Tooltip\n            id=\"copied-tooltip\"\n            onClick={() => setShow(!show)}\n            {...props}\n            style={{\n              backgroundColor: '#a9182e',\n              color: 'white',\n              padding: '21px 78px 21px 78px',\n              borderRadius: 3,\n              zIndex: 10,\n              opacity: 0.8,\n              fontFamily: 'Open Sans',\n              fontWeight: 'bold',\n              fontSize: '15px',\n              lineHeight: '20px',\n              display: 'flex',\n              alignItems: 'center',\n              textAlign: 'center',\n              letterSpacing: '0.05em',\n              textTransform: 'uppercase',\n              ...props.style,\n            }}\n          >\n            {t('lyftReward.codeCopied')}\n          </Tooltip>\n        )}\n      </Overlay>\n      <br />\n      <br />\n    </CardContainer>\n  );\n};\n\nconst LyftPromptContainer = styled.div<{ height: number }>`\n  padding: 10px;\n  position: absolute;\n  width: 340px;\n  margin: 0 auto;\n  height: ${(props) => props.height}px;\n  z-index: 1;\n  top: 70px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  border-radius: 13px;\n  background: #f2eae8;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);\n  backdrop-filter: blur(4px);\n`;\n\nconst LyftIcon = styled.img`\n  margin-top: 10px;\n  width: 200px;\n  height: 94px;\n`;\n\nconst LyftSubTitle = styled(SubTitle)`\n  font-weight: 700;\n`;\n\nconst LyftYesButton = styled(Button)`\n  padding: 0;\n  text-align: center;\n  height: 33px;\n  width: 115px;\n  margin-right: 8px;\n  display: inline-block;\n  min-width: 0;\n`;\n\nconst LyftNoButton = styled(LyftYesButton)`\n  margin-left: 8px;\n  margin-right: 0;\n`;\n\nconst LyftCloseButton = styled(LyftYesButton)`\n  margin: 0;\n`;\n\nconst LyftCodeTitle = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 15px;\n  line-height: 20px;\n  display: flex;\n  align-items: center;\n  text-align: center;\n  letter-spacing: 0.05em;\n  text-transform: uppercase;\n  padding: 0px 30px 0px 30px;\n  margin-top: 30px;\n`;\n\nconst LyftCodeSubtitle = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 15px;\n  line-height: 20px;\n  display: flex;\n  align-items: center;\n  text-align: center;\n  letter-spacing: 0.05em;\n  text-transform: uppercase;\n  padding: 0px 30px 0px 30px;\n  margin-top: 30px;\n`;\n\nconst LyftCodeDisplay = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 30px;\n  line-height: 41px;\n  display: flex;\n  align-items: center;\n  text-align: center;\n  letter-spacing: 0.15em;\n  text-transform: uppercase;\n  color: #a8192e;\n  border: 1px dashed #000000;\n  box-sizing: border-box;\n  padding: 10px 20px 10px 20px;\n  margin-top: 20px;\n`;\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { LyftCode } from './LyftPromo';\nimport { MAILTO_URL } from '../../../consts';\nimport {\n  getLyftReward,\n  redeemToken,\n} from '../../../utilities/api/interactionManager';\n\nimport CircleLogo from '../Assets/CircleLogo.png';\n\nconst LyftCodeScreen = () => {\n  const { contact_id, token } = useParams();\n  const [code, setCode] = useState('');\n\n  useEffect(() => {\n    getLyftReward(contact_id).then((res) => {\n      if (res.status === 200 && res.data) {\n        setCode(res.data.code);\n      } else {\n        redeemToken(contact_id, token).then((res) => {\n          if (res.status === 200 && res.data) {\n            setCode(res.data.code);\n          }\n        });\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <Container>\n      <HeaderContainer>\n        <RedirectionLinks\n          href=\"https://www.sendchinatownlove.com/food-crawl.html\"\n          target=\"_blank\"\n        >\n          Learn More\n        </RedirectionLinks>\n        <Logo src={CircleLogo} alt=\"scl-log\" />\n        <RedirectionLinks href={MAILTO_URL}>contact us</RedirectionLinks>\n      </HeaderContainer>\n      <BodyContainer>{code && <LyftCode code={code}></LyftCode>}</BodyContainer>\n    </Container>\n  );\n};\n\nexport default LyftCodeScreen;\n\nconst Container = styled.div`\n  position: relative;\n  width: 375px;\n  hidden: 100vh;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst HeaderContainer = styled.div`\n  width: 100%;\n  height: 100px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  margin: 12px auto;\n`;\n\nconst RedirectionLinks = styled.a`\n  text-transform: uppercase;\n  color: black;\n  font-weight: bold;\n  letter-spacing: 0.15em;\n  font-size: 12px;\n`;\n\nconst Logo = styled.img`\n  width: 100px;\n  height: 100px;\n  filter: drop-shadow(0 0mm 2px #cdcdcd);\n`;\n\nconst BodyContainer = styled.div`\n  width: 375px;\n  position: relative;\n  display: flex;\n  justify-content: center;\n`;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\n\nimport TrackScreen from './SignIn';\nimport RewardsSelectScreen from './Rewards';\nimport RedemptionClaimScreen from './Redemption';\nimport ScreenType from './ScreenTypes';\nimport PassportScreen from './Passport';\nimport LyftCodeScreen from './Lyft';\n\nimport { useHistory } from 'react-router-dom';\n\ninterface Props {\n  screen: ScreenType;\n}\n\nconst PassportRedemption = (props: Props) => {\n  const { location } = useHistory();\n  const [currentScreenView, setCurrentScreenView] = useState<ScreenType>(\n    props.screen\n  );\n\n  useEffect(() => {\n    if (location.pathname === '/lny-passport') {\n      setCurrentScreenView(ScreenType.Track);\n    } else if (location.pathname.includes('/tickets')) {\n      setCurrentScreenView(ScreenType.Dashboard);\n    } else if (location.pathname.includes('/redeem')) {\n      setCurrentScreenView(ScreenType.Rewards);\n    }\n  }, [location.pathname]);\n\n  const showCurrentScreen = (screen) => {\n    // TODO: Update case #s when all screens are built out\n    // NOTE: not sure if this is the right flow,\n    // but currently set up like this for now for ease of editing\n    switch (screen) {\n      case ScreenType.Rewards:\n        return (\n          <RewardsSelectScreen setCurrentScreenView={setCurrentScreenView} />\n        );\n      case ScreenType.Track:\n        return <TrackScreen setCurrentScreenView={setCurrentScreenView} />;\n      case ScreenType.Dashboard:\n        return <PassportScreen setCurrentScreenView={setCurrentScreenView} />;\n      case ScreenType.Claim:\n        return (\n          <RedemptionClaimScreen setCurrentScreenView={setCurrentScreenView} />\n        );\n      case ScreenType.LyftCode:\n        return <LyftCodeScreen />;\n      default:\n        return <TrackScreen setCurrentScreenView={setCurrentScreenView} />;\n    }\n  };\n\n  return <Container>{showCurrentScreen(currentScreenView)}</Container>;\n};\n\nexport default PassportRedemption;\n\nconst Container = styled.div`\n  background-color: #ffffff;\n  min-height: 100vh;\n  width: 100%;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n`;\n"],"sourceRoot":""}