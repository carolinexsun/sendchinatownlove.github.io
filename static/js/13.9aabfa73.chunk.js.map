{"version":3,"sources":["utilities/api/endpoints.ts","utilities/api/interactionManager.ts","utilities/general/textFormatter.ts","pages/PassportRedemption/CircleLogo.png","pages/PassportRedemption/CrawlInfoIcon.png","pages/PassportRedemption/PassportDashboardBackground.png","pages/PassportRedemption/passportIcon.png","pages/PassportRedemption/citi_bike.png","pages/PassportRedemption/CrawlMap.png","pages/PassportRedemption/style.tsx","pages/PassportRedemption/TrackScreen.tsx","pages/PassportRedemption/RedemptionFooters.tsx","pages/PassportRedemption/RedemptionSelectScreen.tsx","pages/PassportRedemption/RedemptionClaimScreen.tsx","pages/PassportRedemption/GreenCheck.tsx","pages/PassportRedemption/InstagramEnabled.tsx","pages/PassportRedemption/InstagramDisabled.tsx","pages/PassportRedemption/GiveawayPopover.tsx","pages/PassportRedemption/TicketRow.tsx","pages/PassportRedemption/Faq.tsx","pages/PassportRedemption/LyftPromo.tsx","pages/PassportRedemption/Passport.tsx","pages/PassportRedemption/LyftCodeScreen.tsx","pages/PassportRedemption/PassportDashboard.tsx"],"names":["baseUrl","process","sellers","charges","vouchers","campaigns","fees","passportVouchers","contacts","sponsorSellers","getSellers","lang","a","axios","get","params","locale","localeFromLanguage","getSeller","id","getSellerHours","getSellerDeliveryOptions","makeSquarePayment","nonce","sellerId","payment","buyer","isDistribution","campaignId","projectId","metadata","email","name","idempotencyKey","idempotency_key","isSubscribed","is_subscribed","post","is_square","line_items","seller_id","project_id","is_distribution","campaign_id","headers","then","res","catch","err","getVoucher","updateVoucher","amount","put","getMerchantGiftCards","secret","filterGAM","filterGAMString","language","getCampaigns","getPastCampaigns","pageNo","getCampaignsForMerchant","getFee","getDistributor","getFiscalSponsor","getAllParticipatingSellers","getParticipatingMerchant","getParticipatingMerchantTickets","tickets_secret","page","items","printed","associated","getPassportEmailId","getContactInfo","passportId","createPassportEmailId","instagram","updatePassportInstagram","checkForValidTicket","ticket_id","updateTicketContactId","contact_id","getPassportTickets","getParticipatingSeller","getGiveawayTicketsForContact","contactId","sendRedeemTicketsEmail","getLocationById","locationId","getAllSponsors","getOneSponsor","rewardId","redeemReward","auth_token","tickets","createLyftReward","getLyftReward","redeemToken","token","getProject","light_up_chinatown_id","dateFormatter","date","newDate","Date","getMonth","getDate","getUTCFullYear","formatTime","time","slice","length","hours","getHours","minutes","getMinutes","suffix","formatCurrency","cents","decimals","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","module","exports","CardContainer","styled","div","props","mainView","TitleRow","Title","span","color","SubTitle","isMainTitle","size","bold","align","Button","button","ErrorMessage","CardText","p","letterSpacing","Track","t","useTranslation","push","useHistory","useState","setEmail","emailError","setEmailError","ticketCode","setTicketCode","isTicketValid","setIsTicketValid","instagramHandle","setinstagramHandle","findOrCreateUser","viewTickets","data","findTicketCode","code","formattedCode","split","join","toUpperCase","newContactId","SupporterTooltip","withStyles","theme","tooltip","backgroundColor","width","fontSize","typography","pxToRem","border","Tooltip","Container","PassportCard","Logo","src","CircleLogo","alt","InputContainer","className","Column","Label","htmlFor","InputField","type","onChange","e","preventDefault","target","value","onBlur","ModalPaymentConstants","EMAIL_REGEX","test","pattern","source","maxLength","Row","title","Fragment","ToolTipTable","enterTouchDelay","leaveTouchDelay","placement","CrawlInfoIcon","placeholder","disabled","onClick","ExternalLinks","href","LinksContainer","socialMediaLinks","map","social","Icon","url","key","platform","img","label","input","table","NoRewardsFooter","window","location","toLocaleUpperCase","RedeemRewardsFooter","selectedSponsor","access_token","DefaultFooter","allSponsors","PassportSelected","setCurrentScreenView","useParams","setTickets","numRewards","Math","floor","setAllSponsors","reward_cost","setSelectedSponsor","fetchTickets","allTickets","availableTickets","filter","ticket","sponsor_seller_id","console","error","fetchSponsors","Promise","all","sponsor","location_id","allSponsorsWithLocations","useEffect","innerHeight","vh","setVh","addEventListener","Header","numSponsors","Heading","item","SubHeading","RewardsContainer","SingleRewardContainer","selected","checked","reward","SingleRewardInfo","reward_detail","LogoImage","logo_url","address1","Buffer","Footer","PassportRedemptionClaim","address2","city","state","zip_code","selectedReward","setSelectedReward","fetchSponsor","handleRedemption","ticketsToRedeem","status","timeLeft","setTimeLeft","timer","setTimeout","ScreenName","Redemption","clearTimeout","Shadow","ContentContainer","fontWeight","sec","pad","val","toString","padStart","height","viewBox","fill","xmlns","d","mask-type","maskUnits","x","y","fill-rule","clip-rule","mask","RowStatuses","GiveawayPopover","showInfo","setShowInfo","weekly_giveaway_entries","number_of_visits_left","undefined","giveawayData","setData","allSellers","unique_seller_tickets","showInstagram","setGiveawayCount","InstagramButtonEnabled","InstagramEnabled","InstagramButtonDisabled","InstagramDisabled","PopoverContainer","PopoverContent","ToggleClosedButton","Divider","GiveawayTextContainer","InfoSentence","DynamicBoldText","GeneralText","IconWrap","GreenCheck","SubText","CloseButton","InstagramButtonBase","h1","TicketRow","Inactive","setStatus","redeemedOn","setRedeemedOn","stamps","every","stamp","redeemed_at","Redeemed","Active","TableRow","index","TableIndex","TableStamp","StampColumn","SendEmailButton","sendEmail","StampRow","filledStamps","ticketInfo","Stamp","stamp_url","EmptyStamp","createStamps","RedeemedRow","showRedeemRow","tr","td","FaqContent","RewardsLink","Question","Faq","showFaq","toggleView","foodCrawlFaq","returnObjects","hidden","open","faq","idx","question","Trans","i18nKey","rel","LyftRewardPromo","LyftPromptContainer","LyftIcon","CitiBikeImg","LyftSubTitle","LyftYesButton","yesClickHander","LyftNoButton","noClickHander","LyftConfirmationPromo","isSuccess","LyftCloseButton","closeClickHander","LyftCode","show","setShow","useRef","LyftCodeTitle","LyftCodeSubtitle","text","onCopy","LyftCodeDisplay","ref","Overlay","current","padding","borderRadius","zIndex","opacity","fontFamily","lineHeight","display","alignItems","textAlign","textTransform","Passport","setShowFaq","setShowInstagram","showEmailSent","setShowEmailSent","showLyftRewardPromo","setShowLyftRewardPromo","showConfirmation","lyftRewardConfirmation","setLyftRewardConfirmation","hash","contactInfo","is_eligible_for_lyft_reward","ticketIds","promises","forEach","participating_seller_id","seller","passportTickets","log","HeaderContainer","RedirectionLinks","MAILTO_URL","BodyContainer","pathname","PassportContainer","SubHeader","SendEmailContainer","PassportIcon","PassportIconImg","SendEmailButtonClose","rows","tempTickets","splice","createTicketRows","TableContainer","Table","row","createRows","AddNewTicket","PassportDashboardBackground","LyftCodeScreen","setCode","PassportRedemption","screen","currentScreenView","includes","Dashboard","RedemptionSelectScreen","TrackScreen","Claim","RedemptionClaimScreen","showCurrentScreen","CrawlMap"],"mappings":"k3CAAMA,G,OAAUC,sCAEHC,EAAUF,EAAU,WACpBG,EAAUH,EAAU,UACpBI,EAAWJ,EAAU,cACrBK,EAAYL,EAAU,aACtBM,EAAON,EAAU,QAGjBO,EAAmBP,EAAU,yBAC7BQ,EAAWR,EAAU,YAGrBS,EAAiBT,EAAU,mBCS3BU,EAAU,uCAAG,WAAOC,GAAP,SAAAC,EAAA,sEACXC,IAAMC,IAAIZ,EAAS,CAC9Ba,OAAQ,CAAEC,OAAQC,EAAmBN,MAFf,mFAAH,sDAMVO,EAAS,uCAAG,WAAOC,EAAYR,GAAnB,SAAAC,EAAA,sEACVC,IAAMC,IAAIZ,EAAUiB,EAAI,CACnCJ,OAAQ,CAAEC,OAAQC,EAAmBN,MAFhB,mFAAH,wDAMTS,EAAc,uCAAG,WAAOD,GAAP,SAAAP,EAAA,sEACfC,IAAMC,IAAIZ,EAAUiB,EAAK,cADV,mFAAH,sDAIdE,EAAwB,uCAAG,WAAOF,GAAP,SAAAP,EAAA,sEACzBC,IAAMC,IAAIZ,EAAUiB,EAAK,qBADA,mFAAH,sDA0DxBG,EAAiB,uCAAG,WAC/BC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAR+B,qBAAAlB,EAAA,6DAUvBmB,EAAgBL,EAAhBK,MAAOC,EAASN,EAATM,KACTC,EAAiBP,EAAMQ,gBACvBC,EAAeT,EAAMU,cAZI,SAclBvB,IACVwB,KACClC,EACA,CACEmC,WAAW,EACXf,QACAgB,WAAYd,EACZM,QACAC,OACAQ,UAAWhB,EACXiB,WAAYZ,EACZK,gBAAiBD,EACjBG,cAAeD,EACfO,gBAAiBf,EACjBgB,YAAaf,EACbE,SAAUA,GAEZ,CAAEc,QAAS,CAAE,8BAA+B,OAE7CC,KAnBU,+BAAAjC,EAAA,MAmBL,WAAOkC,GAAP,SAAAlC,EAAA,+EACGkC,GADH,2CAnBK,uDAsBVC,OAAM,SAACC,GACN,MAAMA,KArCqB,mFAAH,oEAyCjBC,EAAU,uCAAG,WAAO9B,GAAP,SAAAP,EAAA,+EACxBC,IACGC,IAAIV,EAAWe,GACf0B,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJM,2CAAH,sDAMVE,EAAa,uCAAG,WAAO/B,EAAYgC,GAAnB,SAAAvC,EAAA,+EAC3BC,IACGuC,IAAIhD,EAAWe,EAAI,CAAEgC,WACrBN,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GACN,MAAMA,MALiB,2CAAH,wDAQbK,EAAoB,uCAAG,WAClCb,EACAc,GAFkC,6BAAA1C,EAAA,6DAGlC2C,EAHkC,gCAK5BC,EAAkBD,EAAY,kBAAoB,GALtB,kBAM3B1C,IACJC,IAAIZ,EAAUsC,EAAY,eAAiBc,EAASE,GACpDX,MAAK,SAACC,GAAD,OAASA,MARiB,2CAAH,wDAWjC,SAAS7B,EAAmBwC,GAC1B,OAAQA,GACN,IAAK,KACH,MAAO,QACT,IAAK,KACL,QACE,MAAO,MAIN,IAAMC,EAAY,uCAAG,sBAAA9C,EAAA,sEACbC,IACVC,IAAIT,GACJwC,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,KAJQ,mFAAH,qDAOZW,EAAgB,uCAAG,wCAAA/C,EAAA,6DAAOgD,EAAP,+BAAgB,EAAhB,SACjB/C,IACVC,IADU,UACHT,EADG,wCACsCuD,IAChDf,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,KAJY,mFAAH,qDAOhBa,EAAuB,uCAAG,WACrCrB,GADqC,SAAA5B,EAAA,sEAGxBC,IACVC,IAAIZ,EAAUsC,EAAY,cAC1BK,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,KANmB,mFAAH,sDAgBvBc,EAAM,uCAAG,WAAO9B,GAAP,SAAApB,EAAA,sEACPC,IACVC,IAAIR,EAAO0B,GACXa,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,KAJE,mFAAH,sDAONe,EAAc,uCAAG,WAAO5C,GAAP,SAAAP,EAAA,sEACfC,IACVC,ID5MuBd,kDC4MJmB,GACnB0B,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,KAJU,mFAAH,sDAOdgB,EAAgB,uCAAG,WAAO7C,GAAP,SAAAP,EAAA,sEACjBC,IACVC,IDlNqBd,gDCkNJmB,GACjB0B,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,KAJY,mFAAH,sDAOhBiB,EAA0B,uCAAG,sBAAArD,EAAA,+EACxCC,IACGC,IAAIP,GACJsC,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJsB,2CAAH,qDAO1BkB,EAAwB,uCAAG,WAAO/C,GAAP,SAAAP,EAAA,+EACtCC,IACGC,IAAIP,EAAmBY,GACvB0B,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJoB,2CAAH,sDAMxBmB,EAA+B,uCAAG,WAC7ChD,EACAiD,EACAC,EACAC,EACAC,EACAC,GAN6C,SAAA5D,EAAA,+EAQ7CC,IACGC,IAAIP,EAAmBY,EAAK,YAAciD,EAAgB,CACzDrD,OAAQ,CAAEsD,OAAMC,QAAOC,UAASC,gBAEjC3B,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAb2B,2CAAH,gEAgB/ByB,EAAkB,uCAAG,WAAO1C,GAAP,SAAAnB,EAAA,+EAChCC,IACGC,IAAIN,EAAU,CACbO,OAAQ,CAAEgB,WAEXc,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MANc,2CAAH,sDAQlB0B,EAAc,uCAAG,WAAOC,GAAP,SAAA/D,EAAA,+EAC5BC,IACGC,IAAIN,EAAWmE,GACf9B,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJU,2CAAH,sDAMd4B,EAAqB,uCAAG,WACnC7C,EACA8C,GAFmC,eAAAjE,EAAA,6DAI/BG,EAAS,GAEEA,EAAX8D,EAAoB,CAAE9C,QAAO8C,aACnB,CAAE9C,SAPmB,kBAS5BlB,IACJwB,KAAK7B,EAAUO,GACf8B,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAZiB,2CAAH,wDAerB8B,EAAuB,uCAAG,WACrC3D,EACA0D,GAFqC,SAAAjE,EAAA,+EAI9BC,IACJuC,IAAI5C,EAAWW,EAAI,CAAE0D,cACrBhC,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAPmB,2CAAH,wDAUvB+B,EAAmB,uCAAG,WAAOC,GAAP,SAAApE,EAAA,+EACjCC,IACGC,ID1RkBd,6CC0RJgF,GACdnC,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJe,2CAAH,sDAMnBiC,EAAqB,uCAAG,WACnCD,EACAE,GAFmC,SAAAtE,EAAA,+EAInCC,IACGuC,IDnSkBpD,6CCmSJgF,EAAW,CAAEE,eAC3BrC,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAPiB,2CAAH,wDASrBmC,EAAkB,uCAAG,WAAOR,GAAP,SAAA/D,EAAA,+EAChCC,IACGC,IAAIN,EAAWmE,EAAa,YAC5B9B,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJc,2CAAH,sDAMlBoC,EAAsB,uCAAG,WAAO5D,GAAP,SAAAZ,EAAA,+EACpCC,IACGC,ID9S+Bd,2DC8SJwB,GAC3BqB,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJkB,2CAAH,sDAMtBqC,EAA4B,uCAAG,WAAOC,GAAP,SAAA1E,EAAA,+EAC1CC,IACGC,IAAIN,EAAW8E,GACfzC,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJwB,2CAAH,sDAM5BuC,EAAsB,uCAAG,WAAOZ,GAAP,SAAA/D,EAAA,+EACpCC,IACGwB,KAAK7B,EAAWmE,EAAa,YAC7B9B,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJkB,2CAAH,sDAMtBwC,EAAe,uCAAG,WAAOC,GAAP,SAAA7E,EAAA,+EAC7BC,IACGC,ID9ToBd,+CC8TJyF,GAChB5C,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJW,2CAAH,sDAMf0C,EAAc,uCAAG,sBAAA9E,EAAA,+EAC5BC,IACGC,IAAIL,GACJoC,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJU,2CAAH,qDAMd2C,EAAa,uCAAG,WAAOC,GAAP,SAAAhF,EAAA,+EAC3BC,IACGC,IAAIL,EAAiBmF,GACrB/C,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJS,2CAAH,sDAMb6C,EAAY,uCAAG,WAC1BX,EACAY,EACAC,GAH0B,SAAAnF,EAAA,+EAK1BC,IACGuC,IAAI5C,EAAW0E,EAAa,YAAcY,EAAY,CAAEC,YACxDlD,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MARQ,2CAAH,0DAUZgD,EAAgB,uCAAG,WAAOd,GAAP,SAAAtE,EAAA,+EAC9BC,IACGwB,KAAK7B,EAAW0E,EAAX1E,kBACLqC,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJY,2CAAH,sDAMhBiD,EAAa,uCAAG,WAAOf,GAAP,SAAAtE,EAAA,+EAC3BC,IACGC,IAAIN,EAAW0E,EAAX1E,kBACJqC,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJS,2CAAH,sDAMbkD,EAAW,uCAAG,WAAOhB,EAAoBiB,GAA3B,SAAAvF,EAAA,+EACzBC,IACGwB,KAAK7B,EAAW0E,EAAX1E,iBAA4C2F,EAAQ,YACzDtD,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJO,2CAAH,wDAMXoD,EAAU,uCAAG,WAAO3D,GAAP,SAAA7B,EAAA,+EACxBC,IACGC,ID1WmBd,8CC0WJyC,GACfI,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJM,2CAAH,sDAMVqD,EAAwB,G,iCC9X9B,SAASC,EAAcC,GAC5B,IAAMC,EAAU,IAAIC,KAAKF,GAEzB,MAAM,GAAN,OACEC,EAAQE,WAAa,EADvB,YAEIF,EAAQG,UAFZ,YAEyBH,EAAQI,kBAa5B,SAASC,EAAWC,GAEzB,IAAMP,EAAO,IAAIE,KAAKK,EAAKC,MAAM,EAAGD,EAAKE,OAAS,IAC5CC,EAAK,UACW,IAApBV,EAAKW,WACD,GACAX,EAAKW,WAAa,GAClBX,EAAKW,WAAa,GAClBX,EAAKW,YAELC,EACJZ,EAAKa,aAAe,GAApB,WAA6Bb,EAAKa,cAAlC,UAAsDb,EAAKa,cACvDC,EAAM,UAAMd,EAAKW,YAAc,GAAK,KAAO,MAEjD,MAAM,GAAN,OAAUD,EAAV,YAAmBE,GAAnB,OAA6BE,GAGxB,SAASC,EAAeC,GAAsC,IAAvBC,EAAsB,uDAAH,EAC/D,OAAOC,KAAKC,aAAa,QAAS,CAChCC,MAAO,WACPC,SAAU,MACVC,sBAAuBL,EACvBM,sBAAuBN,IACtBO,OAAOR,EAAQ,KAzCpB,uG,oBCAAS,EAAOC,QAAU,IAA0B,wC,kBCA3CD,EAAOC,QAAU,szB,oBCAjBD,EAAOC,QAAU,IAA0B,yD,oBCA3CD,EAAOC,QAAU,IAA0B,0C,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,sC,0oECc3C,IAAMC,EAAgBC,IAAOC,IAAV,KAeH,SAACC,GAAD,OAA2BA,EAAMC,SAAW,IAAM,UACrD,SAACD,GAAD,OAA2BA,EAAMC,SAAW,KAAO,OACvD,SAACD,GAAD,OAA2BA,EAAMC,SAAW,OAAS,OAkBxDC,GAfeJ,IAAOvH,EAAV,KAeDuH,IAAOC,IAAV,MAORI,EAAQL,IAAOM,KAAV,KACA,SAACJ,GAAD,OAAYA,EAAMK,MAAQL,EAAMK,MAAQ,WAY7CC,GAJYR,YAAOK,EAAPL,CAAH,KACJ,SAACE,GAAD,OAAmBA,EAAMO,YAAc,QAAU,UAG3CT,IAAOM,KAAV,KACH,SAACJ,GAAD,OAAmBA,EAAMK,MAAQL,EAAMK,MAAQ,WAC3C,SAACL,GAAD,OAAmBA,EAAMQ,KAAOR,EAAMQ,KAAO,UAC3C,SAACR,GAAD,OAAmBA,EAAMS,KAAOT,EAAMS,KAAO,SAC9C,SAACT,GAAD,OAAmBA,EAAMU,MAAQV,EAAMU,MAAQ,aAIzDC,EAASb,IAAOc,OAAV,KAcNC,EAAef,IAAOC,IAAV,KAYZe,EAAWhB,IAAOiB,EAAV,KAKG,SAACf,GAAD,OAA2BA,EAAMS,KAAOT,EAAMS,KAAO,SACvD,SAACT,GAAD,OAA2BA,EAAMQ,KAAOR,EAAMQ,KAAO,UACzD,SAACR,GAAD,OAA2BA,EAAMK,MAAQL,EAAMK,MAAQ,UAC9C,SAACL,GAAD,OAChBA,EAAMgB,cAAgBhB,EAAMgB,cAAgB,M,ijFCtFhD,IA4NeC,EA5ND,SAACjB,GAAkB,IACvBkB,EAAMC,cAAND,EACAE,EAASC,cAATD,KAFsB,EAIJE,mBAAS,IAJL,mBAIvB5H,EAJuB,KAIhB6H,EAJgB,OAKMD,mBAAS,IALf,mBAKvBE,EALuB,KAKXC,EALW,OAOMH,mBAAS,IAPf,mBAOvBI,EAPuB,KAOXC,EAPW,OAQYL,oBAAS,GARrB,mBAQvBM,EARuB,KAQRC,EARQ,OAUgBP,mBAAS,IAVzB,mBAUvBQ,EAVuB,KAUNC,EAVM,KAYxBC,EAAgB,uCAAG,WAAOtI,EAAOuI,GAAd,yBAAA1J,EAAA,sEACA6D,YAAmB1C,GADnB,mBACfwI,EADe,EACfA,MAGJD,GAAgBC,EAJG,wBAKrBT,EAAcP,EAAE,8BAChBK,EAAS,IANY,+BAQZU,IAAeC,EARH,kCAScpF,YAAmBoF,EAAKpJ,IATtC,0BASboJ,KACOvD,OAAQyC,EAAK,aAAD,OAAcc,EAAKpJ,GAAnB,aACtB2I,EAAcP,EAAE,8BAXA,8BAgBnBjE,EAAY,IACZiF,EAjBmB,oBAkBrBjF,EAAYiF,EAAKpJ,IAEbgJ,EApBiB,kCAqBbrF,YAAwBQ,EAAW6E,GArBtB,iDA0BXvF,YAAsB7C,EAAOoI,GA1BlB,iBAyBXhJ,EAzBW,EAyBnBoJ,KAAQpJ,GAEVmE,EAAYnE,EA3BS,yBA6BjBqJ,EAAeT,EAAYzE,GA7BV,4CAAH,wDAgChBkF,EAAc,uCAAG,WAAOC,EAAMnF,GAAb,uBAAA1E,EAAA,6DAErB8J,GADIA,EAAgBD,EAAKE,MAAM,KAAKC,KAAK,KACXC,cAFT,SAIE9F,YAAoB2F,GAJtB,qBAIbH,EAJa,EAIbA,OACKA,EAAKrF,WALG,iCAMkBD,YACnCyF,EACApF,GARiB,iBAMLwF,EANK,EAMXP,OAIQd,EAAK,aAAD,OAAcqB,EAAa5F,WAA3B,aAVD,wBAYnBgF,GAAiB,GACjBF,EAAc,IAbK,4CAAH,wDAuBde,EAAmBC,aAAW,SAACC,GAAD,MAAmB,CACrDC,QAAS,CACPC,gBAAiB,UACjBzC,MAAO,sBACP0C,MAAO,OACPC,SAAUJ,EAAMK,WAAWC,QAAQ,IACnCC,OAAQ,wBANaR,CAQrBS,KAEJ,OACE,kBAACC,EAAD,KACE,kBAACC,EAAD,KACE,kBAACC,EAAD,CAAMC,IAAKC,IAAYC,IAAI,YAC3B,kBAACC,GAAD,CAAgBC,UAAU,mBACxB,kBAACzD,EAAD,CAAOE,MAAM,WAAWa,EAAE,8BAC1B,kBAACZ,EAAD,KAAWY,EAAE,gCACb,kBAAC2C,GAAD,MACA,kBAACA,GAAD,KACE,kBAACC,GAAD,CAAOC,QAAQ,eAAe7C,EAAE,0BAChC,kBAAC8C,GAAD,CACErK,KAAK,cACLsK,KAAK,QACLC,SAAU,SAACC,GACTA,EAAEC,iBACF7C,EAAS4C,EAAEE,OAAOC,OAClB7C,EAAc,KAEhB8C,OAAQ,SAACJ,GACPA,EAAEC,iBACI1K,IAAU8K,IAAsBC,YAAYC,KAAKhL,IACrD+H,EAAcP,EAAE,gCAGpBoD,MAAO5K,EACPiL,QAASH,IAAsBC,YAAYG,SAE5CpD,GAAc,kBAACX,EAAD,KAAeW,IAGhC,kBAACqC,GAAD,KACE,kBAACC,GAAD,CAAOC,QAAQ,eACZ7C,EAAE,+BAEL,kBAAC8C,GAAD,CACErK,KAAK,cACLsK,KAAK,OACLC,SAAU,SAACC,GACTxC,EAAcwC,EAAEE,OAAOC,OACvBzC,GAAiB,IAOnByC,MAAO5C,EACPmD,UAAW,KAEXjD,GACA,kBAACf,EAAD,KAAeK,EAAE,iCAIrB,kBAAC2C,GAAD,KACE,kBAACiB,GAAD,CAAKlB,UAAU,iBACb,kBAACE,GAAD,CAAOC,QAAQ,oBACZ7C,EAAE,mCAAoC,IACvC,gCAASA,EAAE,2CAEb,kBAACwB,EAAD,CACEqC,MACE,kBAAC,IAAMC,SAAP,KACE,kBAACC,GAAD,KACE,+BACE,kHAE+B,IAC7B,sDAHF,gHAYRC,gBAAiB,GACjBC,gBAAiB,IACjBC,UAAU,QAEV,6BACE,yBAAK5B,IAAK6B,IAAe3B,IAAI,4BAInC,kBAACM,GAAD,CACErK,KAAK,mBACLsK,KAAK,OACLC,SAAU,SAACC,GAAD,OAAOpC,EAAmBoC,EAAEE,OAAOC,QAC7CA,MAAOxC,EACPwD,YAAY,MAEd,kBAAChF,EAAD,CAAUD,MAAM,OAAOG,KAAK,OAAOE,MAAM,QACtCQ,EAAE,+BAKT,kBAACyC,GAAD,CAAgBC,UAAU,UACxB,kBAACjD,EAAD,CACE2D,MAAM,sBACNV,UAAU,qBACV2B,UAAW7L,IAAUgI,IAAeE,EACpC4D,QAAS,WACPxD,EAAiBtI,GAAO,KAGzBwH,EAAE,sCAEFxH,GAAS8K,IAAsBC,YAAYC,KAAKhL,IACjD,kBAACiH,EAAD,CACEiD,UAAU,aACV2B,UAAW7L,EACX8L,QAAS,WACPxD,EAAiBtI,GAAO,KAGzBwH,EAAE,qCAMX,kBAAC4D,GAAD,KACE,kBAACW,GAAD,CACEC,KAAK,oDACLrB,OAAO,UAENnD,EAAE,2BAEL,kBAACyE,GAAD,KACGC,IAAiBC,KAAI,SAACC,GAAD,OACpB,kBAACC,GAAD,CAAML,KAAMI,EAAOE,IAAKC,IAAKH,EAAOI,SAAU7B,OAAO,UACnD,0BAAMT,UAAS,gBAAWkC,EAAOI,oBAWzC7C,EAAYvD,IAAOC,IAAV,KAOTuD,EAAexD,IAAOC,IAAV,KAWZwD,EAAOzD,IAAOqG,IAAV,KASGxC,GAAiB7D,IAAOC,IAAV,KA8BrB+D,GAAQhE,IAAOsG,MAAV,KAILvC,GAAS/D,IAAOC,IAAV,KAINiE,GAAalE,IAAOuG,MAAV,KAiBVpB,GAAenF,IAAOwG,MAAV,KAKLxB,GAAMhF,IAAOC,IAAV,KAYH0F,GAAgB3F,IAAOvH,EAAV,KAUpBoN,GAAiB7F,IAAOC,IAAV,KAOdgG,GAAOjG,IAAOvH,EAAV,K,QCvWGgO,GAAkB,WAAO,IAC5BrF,EAAMC,cAAND,EAER,OACE,oCACE,kBAACZ,EAAD,CAAUG,KAAK,OAAOS,EAAE,gCAExB,kBAACP,EAAD,CACE2D,MAAM,6BACNV,UAAU,qBACV4B,QAAS,SAACrB,GACRA,EAAEC,iBACFoC,OAAOC,SAASf,KAAO,cAGxBxE,EAAE,uCAAuCwF,uBAYrCC,GAAsB,SAAC3G,GAA+B,IACzDkB,EAAMC,cAAND,EACR,OACE,oCACE,kBAACZ,EAAD,CAAUG,KAAK,OAAf,IAAuBS,EAAE,gCAAzB,KAEA,kBAACP,EAAD,CACE2D,MAAM,6BACNV,UAAU,qBACV2B,UAAWvF,EAAM4G,gBACjBpB,QAAS,SAACrB,GACRA,EAAEC,iBACFoC,OAAOC,SAASf,KAAhB,oBAAoC1F,EAAMlH,GAA1C,mBAAuDkH,EAAM6G,aAA7D,oBAAqF7G,EAAM4G,gBAAgB9N,MAG5GoI,EAAE,mCAAmCsB,iBAWjCsE,GAAgB,SAAC9G,GAAyB,IAC7CkB,EAAMC,cAAND,EACR,OACE,oCACE,kBAACZ,EAAD,CAAUG,KAAK,OAAf,IAAuBS,EAAE,gCAExBlB,EAAM+G,YAAYpI,QAAU,GAC3B,kBAACgC,EAAD,CACEiD,UAAU,aACV4B,QAAS,SAACrB,GACRA,EAAEC,iBACFoC,OAAOC,SAASf,KAAhB,oBAAoC1F,EAAMlH,GAA1C,cAGDoI,EAAE,kCAAkCwF,uB,w2ECjD/C,IAmJeM,GAnJU,SAAC,GAAoC,EAAlCC,qBAAmC,IACrD/F,EAAMC,cAAND,EADoD,EAE/BgG,cAArBpO,EAFoD,EAEpDA,GAAI+N,EAFgD,EAEhDA,aAFgD,EAI9BvF,mBAAgB,IAJc,mBAIrD5D,EAJqD,KAI5CyJ,EAJ4C,KAKtDC,EAAaC,KAAKC,MAAM5J,EAAQiB,OAAS,GALa,EAOtB2C,mBAAgB,IAPM,mBAOrDyF,EAPqD,KAOxCQ,EAPwC,OAQdjG,mBAAS,CACrDxI,GAAI,KACJ0O,YAAa,OAV6C,mBAQrDZ,EARqD,KAQpCa,EARoC,KAatDC,EAAY,uCAAG,gCAAAnP,EAAA,+EAEkBuE,YAAmBhE,GAFrC,gBAEH6O,EAFG,EAETzF,KACF0F,EAAmBD,EAAWE,QAClC,SAACC,GAAD,OAAyC,OAA7BA,EAAOC,qBAErBZ,EAAWS,GANM,gDAQjBI,QAAQC,MAAM,yBARG,yDAAH,qDAYZC,EAAa,uCAAG,gCAAA3P,EAAA,+EAEkB8E,cAFlB,uBAEJ0J,EAFI,EAEV7E,KAFU,SAGqBiG,QAAQC,IAC7CrB,EAAYlB,IAAZ,+BAAAtN,EAAA,MAAgB,WAAO8P,GAAP,iBAAA9P,EAAA,sEACmB4E,YAAgBkL,EAAQC,aAD3C,uBACA7B,EADA,EACNvE,KADM,kCAEFmG,EAFE,CAEO5B,SAAUA,KAFjB,2CAAhB,wDAJgB,OAGZ8B,EAHY,OASlBhB,EAAegB,GATG,kDAWlBP,QAAQC,MAAM,yBAXI,0DAAH,qDAenBO,qBAAU,WACRd,IACAQ,MAGC,IAEH,IA/C4D,EA4DxC5G,mBAA8B,IAArBkF,OAAOiC,aA5DwB,mBA4DrDC,EA5DqD,KA4DjDC,EA5DiD,KAqE5D,OAPAH,qBAAU,WAIRhC,OAAOoC,iBAAiB,UAHxB,WACED,EAA2B,IAArBnC,OAAOiC,mBAMf,kBAAC,GAAD,CAAWC,GAAIA,GACb,kBAACG,GAAD,CAAQC,YAAa/B,EAAYpI,QAC/B,kBAAC,GAAD,CAAM6E,IAAKC,IAAYC,IAAI,YAC3B,kBAACqF,GAAD,KACG7H,EAAE,iCAAkC,CACnCpG,OAAQsM,EACR4B,KAAqB,IAAf5B,GAAoBA,EAAa,EAAI,UAAY,YAG3D,kBAAC6B,GAAD,KACG/H,EAAE,kCAAmC,CACpC8H,KAAqB,IAAf5B,GAAoBA,EAAa,EAAI,UAAY,SACvDlJ,KAAM,cAKZ,kBAACgL,GAAD,KACGnC,EAAYpI,OAAS,GACpBoI,EAAYlB,KAAI,SAACwC,GACf,OACE,kBAACc,GAAD,CACEC,SAAUxC,EAAgB9N,KAAOuP,EAAQvP,GACzCsO,WAAYA,EACZ5B,QAAS,WACY,IAAf4B,IAGAR,EAAgB9N,KAAOuP,EAAQvP,GACjC2O,EAAmB,CACjB3O,GAAIuP,EAAQvP,GACZ0O,YAAaa,EAAQb,cAGvBC,EAAmB,CACjB3O,GAAI,KACJ0O,YAAa,UAKH,IAAfJ,GACC,2BACEnD,KAAK,QACLoF,QAASzC,EAAgB9N,KAAOuP,EAAQvP,GACxCA,GAAIuP,EAAQiB,SAIhB,kBAACC,GAAD,KACE,6BACE,kBAACzI,EAAD,CAAUL,KAAK,MAAMD,KAAK,QACvB6H,EAAQiB,QAEX,kBAACxI,EAAD,CAAUL,KAAK,MAAMD,KAAK,QACvB6H,EAAQmB,gBAGb,kBAACC,GAAD,CAAWjG,IAAK6E,EAAQqB,SAAUhG,IAAI,gBACtC,kBAAC5C,EAAD,CAAUL,KAAK,MAAMD,KAAK,QACvB6H,EAAQ1O,MAEV0O,GAAWA,EAAQ5B,UAClB,kBAAC3F,EAAD,CAAUN,KAAK,QAAQ6H,EAAQ5B,SAASkD,eAMnD5C,EAAYpI,OAAS,GAAK,kBAACiL,GAAD,OAG7B,kBAACC,GAAD,CAAQf,YAAa/B,EAAYpI,QA9FhB,IAAfyI,EAAyB,kBAAC,GAAD,MAClBR,EAAgB9N,GAEvB,kBAAC,GAAD,CACEA,GAAIA,EACJ+N,aAAcA,EACdD,gBAAiBA,IAGX,kBAAC,GAAD,CAAeG,YAAaA,EAAajO,GAAIA,OA4FvDuK,GAAYvD,IAAOC,IAAV,MAIH,SAACC,GAAD,OAAW,IAAMA,EAAM0I,MAO7BG,GAAS/I,IAAOC,IAAV,MASR,SAACC,GAAD,OACAA,EAAM8I,YAAc,EAApB,2PAaI,MAGFvF,GAAOzD,IAAOqG,IAAV,MAWJ4C,GAAUjJ,IAAOM,KAAV,MASP6I,GAAanJ,IAAOM,KAAV,MAOVyJ,GAAS/J,IAAOC,IAAV,MAaR,SAACC,GAAD,OACAA,EAAM8I,YAAc,EAApB,+KAQI,MAGFI,GAAmBpJ,IAAOC,IAAV,MAchBoJ,GAAwBrJ,IAAOc,OAAV,MAMf,SAACZ,GAAD,OACRA,EAAMoJ,SAAW,kBAAoB,uBACzB,SAACpJ,GAAD,OACZA,EAAMoH,WAAa,EAAI,mCAAqC,UAOpD,SAACpH,GAAD,OAAYA,EAAMoH,WAAa,EAAI,UAAY,UAOrDmC,GAAmBzJ,IAAOC,IAAV,MAShB0J,GAAY3J,IAAOqG,IAAV,MAMTyD,GAAS9J,IAAOC,IAAV,M,mrCCnSZ,IA+Ie+J,GA/IiB,SAAC,GAAqC,IAAnC7C,EAAkC,EAAlCA,qBACzB/F,EAAMC,cAAND,EACAE,EAASC,cAATD,KAF2D,EAGnB8F,cAAxCpO,EAH2D,EAG3DA,GAAI+N,EAHuD,EAGvDA,aAAckB,EAHyC,EAGzCA,kBAHyC,EAKvBzG,mBAAS,CACnDxI,GAAI,GACJa,KAAM,GACN8M,SAAU,CACRkD,SAAU,GACVI,SAAU,GACVC,KAAM,GACNC,MAAO,GACPC,SAAU,IAEZR,SAAU,GACVJ,OAAQ,GACRE,cAAe,KAjBkD,mBAK5DW,EAL4D,KAK5CC,EAL4C,KAoB7DC,EAAY,uCAAG,kCAAA9R,EAAA,+EAEe+E,YAAcyK,GAF7B,uBAEHM,EAFG,EAETnG,KAFS,SAGgB/E,YAAgBkL,EAAQC,aAHxC,gBAGH7B,EAHG,EAGTvE,KACRkI,EAAkB,gBACb/B,EADY,CAEf5B,SAAUA,KANK,kDASjBuB,QAAQC,MAAM,yBATG,0DAAH,qDAaZqC,EAAgB,uCAAG,kCAAA/R,EAAA,+EAEcuE,YAAmBhE,GAFjC,uBAEP6O,EAFO,EAEbzF,KACFqI,EAAkB5C,EACrBE,QAAO,SAACC,GAAD,OAAyC,OAA7BA,EAAOC,qBAC1BrJ,MAAM,EAAG,GACTmH,KAAI,SAACiC,GACJ,MAAO,CAAEhP,GAAIgP,EAAOhP,GAAIiP,wBAPP,SASIvK,YAAa1E,EAAI+N,EAAc0D,GATnC,gBAWN,MAXM,EASbC,QAEYpJ,EAAK,aAAD,OAActI,EAAd,aAXH,kDAarBkP,QAAQC,MAAM,yBAbO,0DAAH,qDAiBtBO,qBAAU,WACR6B,IACAC,MAEC,IAtDgE,MAwDnChJ,mBAAS,KAxD0B,mBAwD5DmJ,EAxD4D,KAwDlDC,EAxDkD,KA0DnElC,qBAAU,WACR,IAAMmC,EAAQC,YAAW,WACvBF,EAAYD,EAAW,KACtB,KAEH,OADKA,GAAUxD,EAAqB4D,KAAWC,YACxC,kBAAMC,aAAaJ,MAEzB,CAACF,IAWJ,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAMjH,IAAKC,IAAYC,IAAI,YAC3B,kBAACsH,GAAD,KACE,kBAACrH,GAAD,CAAgBC,UAAU,cACxB,kBAACqH,GAAD,KACE,kBAACnK,EAAD,CAAUL,KAAK,MAAMD,KAAK,OAAOQ,cAAc,WAC5CmJ,EAAeb,QAElB,kBAACxI,EAAD,CAAUL,KAAK,MAAMD,KAAK,QACvB2J,EAAeX,eAElB,6BACA,kBAAC,GAAD,CAAWhG,IAAK2G,EAAeT,SAAUhG,IAAI,gBAC7C,6BACA,6BACE,kBAAC5C,EAAD,CAAUL,KAAK,MAAMD,KAAK,QACvB2J,EAAexQ,MAEjBwQ,GAAkBA,EAAe1D,UAChC,oCACE,kBAAC3F,EAAD,CAAUN,KAAK,QACZ2J,EAAe1D,SAASkD,SACxBQ,EAAe1D,SAASsD,UAAY,KACpCI,EAAe1D,SAASsD,UACvBI,EAAe1D,SAASsD,UAE5B,kBAACjJ,EAAD,CAAUN,KAAK,QACZ2J,EAAe1D,SAASuD,KAD3B,IACkC,IAC/BG,EAAe1D,SAASwD,MAAO,IAC/BE,EAAe1D,SAASyD,cAOrC,kBAACvG,GAAD,CAAgBC,UAAU,iBACxB,kBAACqH,GAAD,KACE,kBAACnK,EAAD,CAAUN,KAAK,OAAOH,MAAM,WACzBa,EAAE,6BACH,0BAAM5B,MAAO,CAAE4L,WAAY,SACxB,IAnDI,SAACzM,GAClB,IAAM0M,EAAM1M,EAAO,GAIb2M,EAAM,SAACC,GAAD,OAASA,EAAIC,WAAWC,SAAS,EAAG,MAChD,MAAM,GAAN,OAAUH,GAJV3M,GAAQA,EAAO0M,GAAO,IACH,IAGnB,YAAsBC,EAAID,IA8Cb3M,CAAWiM,QAOtB,kBAAC,GAAD,KACE,kBAACnK,EAAD,CAAUG,KAAK,OAAOS,EAAE,+BACxB,kBAACP,EAAD,CACE2D,MAAM,6BACNV,UAAU,qBACV4B,QAAS,SAACrB,GACRA,EAAEC,iBACFoC,OAAOC,SAASf,KAAhB,oBAAoC5M,EAApC,mBAAiD+N,KAGlD3F,EAAE,sCASPmC,GAAYvD,IAAOC,IAAV,MAYTwD,GAAOzD,IAAOqG,IAAV,MAUJ8E,GAAmBnL,IAAOC,IAAV,MAQhBiL,GAASlL,IAAOC,IAAV,MAKN0J,GAAY3J,IAAOqG,IAAV,MAMT0D,GAAS/J,IAAOC,IAAV,M,SC9MG,qBACb,yBACEgD,MAAM,KACNyI,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,MAAM,8BAEN,0BACEC,EAAE,6NACFF,KAAK,cCVI,qBACb,yBACE3I,MAAM,KACNyI,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,MAAM,8BAEN,0BACE7S,GAAG,QACH+S,YAAU,QACVC,UAAU,iBACVC,EAAE,IACFC,EAAE,IACFjJ,MAAM,KACNyI,OAAO,MAEP,0BACES,YAAU,UACVC,YAAU,UACVN,EAAE,ssCACFF,KAAK,WAGT,uBAAGS,KAAK,eACN,0BAAMpJ,MAAM,KAAKyI,OAAO,KAAKE,KAAK,WAEpC,0BACEE,EAAE,yOACFF,KAAK,cC7BI,qBACb,yBACE3I,MAAM,KACNyI,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,MAAM,8BAEN,0BACE7S,GAAG,QACH+S,YAAU,QACVC,UAAU,iBACVC,EAAE,IACFC,EAAE,IACFjJ,MAAM,KACNyI,OAAO,MAEP,0BACES,YAAU,UACVC,YAAU,UACVN,EAAE,ssCACFF,KAAK,WAGT,uBAAGS,KAAK,eACN,0BAAMpJ,MAAM,KAAKyI,OAAO,KAAKE,KAAK,e,0xFCJxC,ICIKU,GD6EUC,GAjFS,SAACrM,GAAkB,IACjCkB,EAAMC,cAAND,EADgC,EAERI,oBAAS,GAFD,mBAEjCgL,EAFiC,KAEvBC,EAFuB,OAGRjL,mBAAuB,CACrDkL,wBAAyB,GACzBC,2BAAuBC,IALe,mBAGjCC,EAHiC,KAGnBC,EAHmB,iDAQxC,WAAgC3P,GAAhC,yBAAA1E,EAAA,sEACqCqD,cADrC,uBACgBiR,EADhB,EACU3K,KADV,SAIYlF,YAA6BC,GAJzC,oBAGIiF,KAAQsK,EAHZ,EAGYA,wBAAyBM,EAHrC,EAGqCA,sBAEnCF,EAAQ,CACNJ,0BACAC,sBAAuBI,EAAWlO,OAASmO,IAP/C,6CARwC,sBAyBxC,OANAtE,qBAAU,WACJxI,EAAM+M,eAAiBT,GApBW,oCAqBpCU,CAAiBhN,EAAM/C,aAExB,CAAC+C,EAAM+M,cAAeT,EAAUtM,EAAM/C,YAGvC,oCACG+C,EAAM+M,cACL,kBAACE,GAAD,CAAwBzH,QAAS,kBAAM+G,GAAaD,KAClD,kBAACY,GAAD,OAGF,kBAACC,GAAD,KACE,kBAACC,GAAD,OAGJ,kBAACC,GAAD,KACGrN,EAAM+M,eAAiBT,GACtB,kBAACgB,GAAD,KACE,kBAACC,GAAD,CAAoB/H,QAAS,kBAAM+G,GAAY,KAC7C,kBAACW,GAAD,OAEF,kBAAC,GAAD,KAAQhM,EAAE,mCACV,kBAACsM,GAAD,MACA,kBAACC,GAAD,KACE,kBAACC,GAAD,KACE,kBAACC,GAAD,KACGhB,EAAaH,yBAEhB,kBAACoB,GAAD,KAAc1M,EAAE,oCAGsB,IAAvCyL,EAAaF,sBACZ,kBAACiB,GAAD,KACE,kBAACC,GAAD,KACGhB,EAAaF,uBAEhB,kBAACmB,GAAD,KAAc1M,EAAE,iCAGlB,kBAACwM,GAAD,KACE,kBAACG,GAAD,KACE,kBAACC,GAAD,OAEF,kBAACF,GAAD,KACG1M,EAAE,wCAKX,kBAAC6M,GAAD,KAAU7M,EAAE,4CACZ,kBAAC8M,GAAD,CAAa/J,KAAK,SAASuB,QAAS,kBAAM+G,GAAY,KACnDrL,EAAE,+BAA+BsB,mBAW1C6K,GAAmBvN,IAAOC,IAAV,MAMhBkO,GAAsBnO,IAAOC,IAAV,MAQnBoN,GAA0BrN,YAAOmO,GAAPnO,CAAH,MAIvBmN,GAAyBnN,YAAOmO,GAAPnO,CAAH,MAKtBwN,GAAiBxN,IAAOC,IAAV,MAiBdI,GAAQL,IAAOoO,GAAV,MAWLV,GAAU1N,IAAOC,IAAV,MAQP0N,GAAwB3N,IAAOC,IAAV,MAKrB8N,GAAW/N,IAAOM,KAAV,MAKRuN,GAAkB7N,IAAOM,KAAV,MAUfwN,GAAc9N,IAAOM,KAAV,MAIXsN,GAAe5N,IAAOiB,EAAV,MAUZgN,GAAUjO,IAAOC,IAAV,MAWPwN,GAAqBzN,IAAOC,IAAV,MAMlBiO,GAAclO,IAAOc,OAAV,M,20DC7LZwL,O,uBAAAA,I,mBAAAA,I,wBAAAA,Q,KAML,IA0Ee+B,GA1EG,SAACnO,GAAkB,IAC3BkB,EAAMC,cAAND,EAD0B,EAENI,mBAAsB8K,GAAYgC,UAF5B,mBAE3B5D,EAF2B,KAEnB6D,EAFmB,OAGE/M,mBAAS,IAHX,mBAG3BgN,EAH2B,KAGfC,EAHe,KAKlC/F,qBAAU,WACR,GAA4B,IAAxBxI,EAAMwO,OAAO7P,OACf,GACEqB,EAAMwO,OAAOC,OACX,SAACC,GAAD,OAAWA,EAAMC,aAAeD,EAAM3G,qBAExC,CACA,IAAM7J,EAAO8B,EAAMwO,OAAO,GAAGG,YAC7BJ,EAAcrQ,GACdmQ,EAAUjC,GAAYwC,eAEtBP,EAAUjC,GAAYyC,aAGxBR,EAAUjC,GAAYgC,YAEvB,CAACpO,EAAMwO,SAgCV,OACE,kBAACM,GAAD,CAAU7I,IAAKjG,EAAM+O,MAAOvE,OAAQA,GAClC,kBAACwE,GAAD,SAAchP,EAAM+O,MAAQ,EAA5B,KACA,kBAACE,GAAD,KACE,kBAACC,GAAD,KACG1E,IAAW4B,GAAYyC,QACtB,kBAACM,GAAD,CACEvL,UAAU,qBACV4B,QAASxF,EAAMoP,WAEdlO,EAAE,gCAAgCsB,eAGvC,kBAAC6M,GAAD,OAAarP,EAAMwO,QAzBN,SAACA,GAKpB,IAJA,IAAMc,EAAed,EAAO3I,KAAI,SAAC0J,GAAD,OAC9B,kBAACC,GAAD,CAAOvJ,IAAKsJ,EAAWzW,GAAI0K,IAAK+L,EAAWE,eAGtCH,EAAa3Q,OAAS,GAC3B2Q,EAAalO,KAAK,kBAACsO,GAAD,OAGpB,OAAOJ,EAgB4BK,CAAa3P,EAAMwO,UAElD,kBAACoB,GAAD,CAAapF,OAAQA,GA7CL,SAACA,GACrB,OAAQA,GACN,KAAK4B,GAAYwC,SACf,OAAO1N,EAAE,sCAAuC,CAC9ChD,KAAMD,aAAcqQ,KAExB,KAAKlC,GAAYyC,OACf,OAAO3N,EAAE,uCACX,QACE,GAA4B,IAAxBlB,EAAMwO,OAAO7P,OAAc,OAC/B,OAAO,EAAIqB,EAAMwO,OAAO7P,SAAW,EAC/BuC,EAAE,yCACFA,EAAE,qCAAsC,CACtCpG,OAAQ,EAAIkF,EAAMwO,OAAO7P,UAgCDkR,CAAcrF,OAQ9CsE,GAAWhP,IAAOgQ,GAAV,MAGV,SAAC9P,GACD,OAAQA,EAAMwK,QACZ,KAAK4B,GAAYwC,SACf,MAAM,mFAIR,KAAKxC,GAAYyC,OACf,MAAM,wFAIR,QACE,MAAM,mFAORG,GAAalP,IAAOiQ,GAAV,MAWVd,GAAanP,IAAOiQ,GAAV,MAKVb,GAAcpP,IAAOC,IAAV,MASXsP,GAAWvP,IAAOC,IAAV,MASR6P,GAAc9P,IAAOC,IAAV,MAWb,SAACC,GAAD,OACAA,EAAMwK,SAAW4B,GAAYyC,QAAU,uBAErCW,GAAQ1P,IAAOqG,IAAV,MAGLuJ,GAAa5P,IAAOC,IAAV,MAGVoP,GAAkBrP,YAAOa,EAAPb,CAAH,M,+iBChLrB,IAkDMkQ,GAAalQ,IAAOC,IAAV,MAOVkQ,GAAcnQ,IAAOM,KAAV,MAWX8P,GAAWpQ,IAAOiB,EAAV,MAKCoP,GAzEH,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,WAIdnP,EAAMC,cAAND,EACFoP,EAAepP,EAAY,sCAAuC,CACtEqP,eAAe,IAGjB,OACE,kBAAC1Q,EAAD,CAAeI,SAAUmQ,EAAS5K,QAAS6K,GACzC,kBAACnQ,EAAD,KACE,kBAACC,EAAD,CAAOE,MAAO+P,EAAU,QAAU,QAAlC,wBAEAA,GACA,oCACE,6BACA,8BAGJ,kBAACJ,GAAD,CAAYQ,QAASJ,GACnB,kBAACH,GAAD,CAAazK,QApBO,SAACrB,GACzBqC,OAAOiK,KAAK,oDAAqD,YAoB1DvP,EAAE,mCAEJoP,EAAazK,KAAI,SAAC6K,EAAUC,GAAX,OAChB,yBAAK1K,IAAK,eAAiB0K,GACzB,kBAACT,GAAD,eACMS,EAAM,EADZ,SACmBD,EAAIE,UAEvB,kBAACC,GAAA,EAAD,CACEC,QAAO,8CAAyCH,EAAzC,YAEP,iCACA,4BACA,4BACA,uBACEjL,KAAK,oDACLrB,OAAO,SACP0M,IAAI,uBAHN,gB,yxEC9BP,IAAMC,GAAkB,SAAChR,GAAuB,IAC7CkB,EAAMC,cAAND,EACR,OACE,kBAAC+P,GAAD,CAAqBzF,OAAQ,KAC3B,kBAAC0F,GAAD,CAAU1N,IAAK2N,OACf,kBAACjR,EAAD,KACE,kBAACkR,GAAD,KACGlQ,EAAE,wBACH,6BACA,6BACCA,EAAE,wBACH,6BACA,6BACCA,EAAE,0BAGP,8BACE,kBAACmQ,GAAD,CACEzN,UAAU,qBACV4B,QAASxF,EAAMsR,gBAEdpQ,EAAE,yBAEL,kBAACqQ,GAAD,CACE3N,UAAU,uBACV4B,QAASxF,EAAMwR,eAEdtQ,EAAE,2BAYAuQ,GAAwB,SAACzR,GAA8B,IAC1DkB,EAAMC,cAAND,EACR,OACE,kBAAC+P,GAAD,CAAqBzF,OAAQ,KAC3B,kBAAC0F,GAAD,CAAU1N,IAAK2N,OACf,kBAACjR,EAAD,KACE,kBAACkR,GAAD,KACE,6BACCpR,EAAM0R,UACHxQ,EAAE,2BACFA,EAAE,2BACN,6BACA,6BACClB,EAAM0R,UACHxQ,EAAE,2BACFA,EAAE,6BAGV,kBAACyQ,GAAD,CACE/N,UAAU,qBACV4B,QAASxF,EAAM4R,kBAEd1Q,EAAE,6BAUE2Q,GAAW,SAAC7R,GAAsB,IACrCkB,EAAMC,cAAND,EADoC,EAEpBI,oBAAS,GAFW,mBAErCwQ,EAFqC,KAE/BC,EAF+B,KAGtC1N,EAAS2N,iBAAO,MAEtB,OACE,kBAACnS,EAAD,CAAeI,UAAU,GACvB,6BACA,6BACA,kBAACiR,GAAD,CAAU1N,IAAK2N,OACf,kBAACc,GAAD,KAAgB/Q,EAAE,yBAClB,kBAACgR,GAAD,KAAmBhR,EAAE,4BACrB,kBAAC,KAAD,CACEiR,KAAMnS,EAAMoC,KACZgQ,OAAQ,SAACjO,GACP4N,GAASD,KAGX,kBAACO,GAAD,KAAkBrS,EAAMoC,OAE1B,yBAAKkQ,IAAKjO,IACV,kBAACkO,GAAA,EAAD,CAASlO,OAAQA,EAAOmO,QAASV,KAAMA,EAAM1M,UAAU,QACpD,SAACpF,GAAD,OACC,kBAAC,KAAD,eACElH,GAAG,iBACH0M,QAAS,kBAAMuM,GAASD,KACpB9R,EAHN,CAIEV,MAAK,cACHwD,gBAAiB,UACjBzC,MAAO,QACPoS,QAAS,sBACTC,aAAc,EACdC,OAAQ,GACRC,QAAS,GACTC,WAAY,YACZ3H,WAAY,OACZlI,SAAU,OACV8P,WAAY,OACZC,QAAS,OACTC,WAAY,SACZC,UAAW,SACXjS,cAAe,SACfkS,cAAe,aACZlT,EAAMV,SAGV4B,EAAE,6BAIT,6BACA,+BAKA+P,GAAsBnR,IAAOC,IAAV,MAKb,SAACC,GAAD,OAAWA,EAAMwL,UAavB0F,GAAWpR,IAAOqG,IAAV,MAMRiL,GAAetR,YAAOQ,EAAPR,CAAH,MAIZuR,GAAgBvR,YAAOa,EAAPb,CAAH,MAUbyR,GAAezR,YAAOuR,GAAPvR,CAAH,MAKZ6R,GAAkB7R,YAAOuR,GAAPvR,CAAH,MAIfmS,GAAgBnS,IAAOC,IAAV,MAebmS,GAAmBpS,IAAOC,IAAV,MAehBsS,GAAkBvS,IAAOC,IAAV,M,23EC/LrB,IAgOeoT,GAhOE,SAACnT,GAAkB,IAC1BkB,EAAMC,cAAND,EACApI,EAAOoO,cAAPpO,GAFyB,EAGNuI,cAAnBD,EAHyB,EAGzBA,KAAMqF,EAHmB,EAGnBA,SAHmB,EAIHnF,oBAAS,GAJN,mBAI1B8O,EAJ0B,KAIjBgD,EAJiB,OAKS9R,oBAAS,GALlB,mBAK1ByL,EAL0B,KAKXsG,EALW,OAMS/R,oBAAS,GANlB,mBAM1BgS,EAN0B,KAMXC,EANW,OAOqBjS,oBAAS,GAP9B,mBAO1BkS,EAP0B,KAOLC,EAPK,OAQ2BnS,mBAAS,CACnEoS,kBAAkB,EAClBhC,WAAW,IAVoB,mBAQ1BiC,EAR0B,KAQFC,EARE,OAYHtS,mBAAgB,IAZb,mBAY1B5D,EAZ0B,KAYjByJ,EAZiB,KAcjCqB,qBAAU,WACc,SAAlB/B,EAASoN,KACXT,GAAW,GAEXA,GAAW,KAEZ,CAAC3M,IAEJ+B,qBAAU,WACJ1P,GACFuD,YAAevD,GACZ0B,MAAK,SAACsZ,GAGL,OAFAT,EAAiBS,EAAY5R,KAAK1F,WAClCiX,EAAuBK,EAAY5R,KAAK6R,6BACjCjX,YAAmBhE,MAE3B0B,MAAK,SAACwZ,GACL,IAAIC,EAAkB,GAYtB,OAXAD,EAAU9R,KAAKgS,SAAQ,SAACpM,GACtBmM,EAAS7S,KACPrE,YAAuB+K,EAAOqM,yBAAyB3Z,MACrD,SAAC4Z,GAAD,qBACE3E,UAAW2E,EAAOlS,KAAKuN,WACpB3H,UAMJK,QAAQC,IAAI6L,MAEpBzZ,MAAK,SAAC6Z,GACDA,EAAgB1V,OAAS,GAC3BwI,EAAWkN,MAGd3Z,OAAM,SAACC,GACNqN,QAAQsM,IAAI,mBAAqB3Z,QAGtC,CAAC7B,IAEJ,IAyBMsW,EAAY,WAEZoE,GAAuBG,EAAuBD,kBAGlDxW,YAAuBpE,GAAI0B,MAAK,SAACC,GAC/B8Y,GAAiB,OAgDrB,OACE,kBAAC,GAAD,KACE,kBAACgB,GAAD,KACE,kBAACC,GAAD,CACE9O,KAAK,oDACLrB,OAAO,UAENnD,EAAE,2BAEL,kBAAC,GAAD,CAAMsC,IAAKC,IAAYC,IAAI,YAC3B,kBAAC8Q,GAAD,CAAkB9O,KAAM+O,KACrBvT,EAAE,8BAGP,kBAACwT,GAAD,KACE,kBAAC,GAAD,CACEtE,QAASA,EACTC,WAAY,kBAAMjP,EAAKqF,EAASkO,SAAW,WAE7C,kBAACC,GAAD,CACE3U,UAAWmQ,EACX5K,QAAS,kBAAMpE,EAAKqF,EAASkO,YAE7B,kBAACzU,EAAD,KACE,kBAACC,EAAD,CAAOE,MAAO+P,EAAU,OAAS,SAC9BlP,EAAE,6BAA6BsB,eAEjC4N,EACC,oCACE,6BACA,6BACA,8BAGF,oCACE,kBAACyE,GAAD,CAAWxU,MAAO+P,EAAU,cAAgB,SACzCrD,EACG7L,EAAE,kCACF,0BAKZ,kBAAC,GAAD,CAAiB6L,cAAeA,EAAe9P,UAAWnE,IACzD0a,GACC,kBAAC,GAAD,CACElC,eA1FsB,WAChCmC,GAAuB,GACvB9V,YAAiB7E,GAAI0B,MAAK,SAACC,GACzB,IAAMiX,EAA2B,MAAfjX,EAAI+P,OACtBoJ,EAA0B,CACxBF,kBAAkB,EAClBhC,UAAWA,QAqFLF,cAhFqB,WAC/BiC,GAAuB,MAkFhBE,EAAuBD,kBACtB,kBAAC,GAAD,CACEhC,UAAWiC,EAAuBjC,UAClCE,iBAlF8B,WACxCgC,EAA0B,CAAEF,kBAAkB,EAAOhC,WAAW,OAqFzD4B,GACC,kBAACwB,GAAD,KACE,kBAACC,GAAD,CAAcvR,IAAKwR,OACnB,kBAAC9U,EAAD,KACE,kBAACC,EAAD,KAAQe,EAAE,gCAAgCsB,eAC1C,kBAAClC,EAAD,CAAUG,KAAK,OACZS,EAAE,8BACH,6BACA,6BACCA,EAAE,gCAGP,kBAAC+T,GAAD,CACErR,UAAU,qBACV4B,QAAS,SAACrB,GAAD,OAAOoP,GAAiB,KAEhCrS,EAAE,kCAIPkP,GAtGS,SAAC5B,GAClB,IAAM0G,EAvDiB,SAACxX,GACxB,IAAIwX,EAAc,GAElB,GAAIxX,EAAQiB,OAAS,EAKnB,IAHA,IAAIwW,EAAW,aAAOzX,GAGfyX,EAAYxW,QACjBuW,EAAK9T,KAAK+T,EAAYC,OAAO,EAAG,IAKpC,GAAIF,EAAKvW,OAAS,EAChB,KAAOuW,EAAKvW,OAAS,GACnBuW,EAAK9T,KAAK,SAGZ8T,EAAK9T,KAAK,IAGZ,OAAO8T,EAiCMG,CAAiB7G,GAC9B,OACE,kBAAC8G,GAAD,KACE,kBAACC,GAAD,KACE,+BACGL,EAAKrP,KAAI,SAAC2P,EAAKzG,GAAN,OACR,kBAAC,GAAD,CACEP,OAAQgH,EACRzG,MAAOA,EACP9I,IAAK8I,EACLK,UAAWA,UA2FJqG,CAAW/X,MAG1B0S,GACA,kBAACsF,GAAD,CAAc9R,UAAU,iBAAiB4B,QAtF7B,SAACrB,GACjBA,EAAEC,iBACFhD,EAAK,eAqFEF,EAAE,yCASPmC,GAAYvD,IAAOC,IAAV,MAST6U,GAAoB9U,YAAOD,EAAPC,CAAH,KAEG6V,MAIpBd,GAAY/U,YAAOQ,EAAPR,CAAH,MAITyU,GAAkBzU,IAAOC,IAAV,MAQfyU,GAAmB1U,IAAOvH,EAAV,MAQhBgL,GAAOzD,IAAOqG,IAAV,MAMJuO,GAAgB5U,IAAOC,IAAV,MAObuV,GAAiBxV,IAAOC,IAAV,MAMdwV,GAAQzV,IAAOwG,MAAV,MAOLoP,GAAe5V,YAAOa,EAAPb,CAAH,MAUZgV,GAAqBhV,IAAOC,IAAV,MAkBlBgV,GAAejV,IAAOqG,IAAV,MAKZ8O,GAAuBnV,YAAOa,EAAPb,CAAH,M,m4BC/U1B,IAoCe8V,GApCQ,WAAO,IAAD,EACG1O,cAAtBrK,EADmB,EACnBA,WAAYiB,EADO,EACPA,MADO,EAEHwD,mBAAS,IAFN,mBAEpBc,EAFoB,KAEdyT,EAFc,KAmB3B,OAfArN,qBAAU,WACR5K,YAAcf,GAAYrC,MAAK,SAACC,GACX,MAAfA,EAAI+P,QAAkB/P,EAAIyH,KAC5B2T,EAAQpb,EAAIyH,KAAKE,MAEjBvE,YAAYhB,EAAYiB,GAAOtD,MAAK,SAACC,GAChB,MAAfA,EAAI+P,QAAkB/P,EAAIyH,MAC5B2T,EAAQpb,EAAIyH,KAAKE,cAMxB,IAGD,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEsD,KAAK,oDACLrB,OAAO,UAFT,cAMA,kBAAC,GAAD,CAAMb,IAAKC,IAAYC,IAAI,YAC3B,kBAAC,GAAD,CAAkBgC,KAAM+O,KAAxB,eAEF,kBAAC,GAAD,KAAgBrS,GAAQ,kBAAC,GAAD,CAAUA,KAAMA,OAOxCiB,GAAYvD,IAAOC,IAAV,MASTwU,GAAkBzU,IAAOC,IAAV,MASfyU,GAAmB1U,IAAOvH,EAAV,MAQhBgL,GAAOzD,IAAOqG,IAAV,MAMJuO,GAAgB5U,IAAOC,IAAV,M,kUClEnB,IAyCe+V,GAzCY,SAAC9V,GAAkB,IACpCyG,EAAapF,cAAboF,SADmC,EAEOnF,mBAChDtB,EAAM+V,QAHmC,mBAEpCC,EAFoC,KAEjB/O,EAFiB,KAM3CuB,qBAAU,WACkB,cAAtB/B,EAASkO,SACX1N,EAAqB4D,KAAW5J,OACvBwF,EAASkO,SAASsB,SAAS,aACpChP,EAAqB4D,KAAWqL,aAEjC,CAACzP,EAASkO,WA0Bb,OAAO,kBAAC,GAAD,KAxBmB,SAACoB,GAIzB,OAAQA,GACN,KAAKlL,KAAWC,WACd,OACE,kBAACqL,GAAD,CAAwBlP,qBAAsBA,IAElD,KAAK4D,KAAW5J,MACd,OAAO,kBAACmV,EAAD,CAAanP,qBAAsBA,IAC5C,KAAK4D,KAAWqL,UACd,OAAO,kBAAC,GAAD,CAAgBjP,qBAAsBA,IAC/C,KAAK4D,KAAWwL,MACd,OACE,kBAACC,GAAD,CAAuBrP,qBAAsBA,IAEjD,KAAK4D,KAAWgH,SACd,OAAO,kBAAC,GAAD,MACT,QACE,OAAO,kBAACuE,EAAD,CAAanP,qBAAsBA,KAI7BsP,CAAkBP,KAKjC3S,GAAYvD,IAAOC,IAAV,KAGWyW","file":"static/js/13.9aabfa73.chunk.js","sourcesContent":["const baseUrl = process.env.REACT_APP_API_ENDPOINT!;\n\nexport const sellers = baseUrl + 'sellers/';\nexport const charges = baseUrl + 'charges';\nexport const vouchers = baseUrl + 'gift_cards/';\nexport const campaigns = baseUrl + 'campaigns/';\nexport const fees = baseUrl + 'fees/';\nexport const distributors = baseUrl + 'distributors/';\nexport const nonprofits = baseUrl + 'nonprofits/';\nexport const passportVouchers = baseUrl + 'participating_sellers/';\nexport const contacts = baseUrl + 'contacts/';\nexport const tickets = baseUrl + 'tickets/';\nexport const participatingSellers = baseUrl + 'participating_sellers/';\nexport const sponsorSellers = baseUrl + 'sponsor_sellers/';\nexport const locations = baseUrl + 'locations/';\nexport const lyftRewards = 'lyft_rewards/';\nexport const projects = baseUrl + 'projects/';\n","import axios from 'axios';\nimport { CardElement } from '@stripe/react-stripe-js';\nimport { Buyer, PaymentParams, SquareLineItems } from './types';\nimport {\n  charges,\n  sellers,\n  vouchers,\n  campaigns,\n  fees,\n  distributors,\n  passportVouchers,\n  contacts,\n  tickets,\n  participatingSellers,\n  sponsorSellers,\n  locations,\n  lyftRewards,\n  nonprofits,\n  projects,\n} from './endpoints';\n\n// Fix return typing\nexport const getSellers = async (lang?: string): Promise<any> => {\n  return await axios.get(sellers, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\nexport const getSeller = async (id: string, lang?: string): Promise<any> => {\n  return await axios.get(sellers + id, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\nexport const getSellerHours = async (id: string): Promise<any> => {\n  return await axios.get(sellers + id + '/open_hour');\n};\n\nexport const getSellerDeliveryOptions = async (id: string): Promise<any> => {\n  return await axios.get(sellers + id + '/delivery_options');\n};\n\n// TODO(ArtyEmsee): add typing for stripe elements\nexport const makePayment = async (\n  stripe: any,\n  elements: any,\n  payment: PaymentParams,\n  buyer: Buyer\n) => {\n  const { email, name } = buyer;\n\n  // TODO(ArtyEmsee): abstract api call, create global object for headers\n  await axios\n    .post(\n      charges,\n      {\n        is_square: false,\n        line_items: [payment],\n        email: email,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      // TODO(ArtyEmsee): fix response to success\n      if (!stripe || !elements) return;\n      else {\n        const cardElement = elements!.getElement(CardElement);\n        const result = await stripe!.confirmCardPayment(\n          `${res.data.client_secret}`,\n          {\n            payment_method: {\n              card: cardElement!,\n              billing_details: {\n                name: name,\n                email: email,\n              },\n            },\n          }\n        );\n\n        if (result.error) {\n          console.log(result.error.message);\n        } else {\n          if (result.paymentIntent?.status === 'succeeded') {\n            console.log(\n              result.paymentIntent?.status,\n              'The payment has been processed!'\n            );\n          }\n        }\n      }\n    });\n\n  // TODO(ArtyEmsee): fix response to error\n};\n\nexport const makeSquarePayment = async (\n  nonce: string,\n  sellerId: string,\n  payment: SquareLineItems,\n  buyer: Buyer,\n  isDistribution: boolean,\n  campaignId?: string,\n  projectId?: string,\n  metadata?: string | null\n) => {\n  const { email, name } = buyer;\n  const idempotencyKey = buyer.idempotency_key;\n  const isSubscribed = buyer.is_subscribed;\n\n  return await axios\n    .post(\n      charges,\n      {\n        is_square: true,\n        nonce,\n        line_items: payment,\n        email,\n        name,\n        seller_id: sellerId,\n        project_id: projectId,\n        idempotency_key: idempotencyKey,\n        is_subscribed: isSubscribed,\n        is_distribution: isDistribution, // TODO: deprecate this in favor of campaignId\n        campaign_id: campaignId,\n        metadata: metadata,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      return res;\n    })\n    .catch((err) => {\n      throw err;\n    });\n};\n\nexport const getVoucher = async (id: string) =>\n  axios\n    .get(vouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const updateVoucher = async (id: string, amount: number) =>\n  axios\n    .put(vouchers + id, { amount })\n    .then((res) => res)\n    .catch((err) => {\n      throw err;\n    });\n\nexport const getMerchantGiftCards = async (\n  seller_id: string,\n  secret: string,\n  filterGAM: boolean = false\n) => {\n  const filterGAMString = filterGAM ? '?filterGAM=true' : ''; // if the key is present at all, filtering will happen\n  return axios\n    .get(sellers + seller_id + '/gift_cards/' + secret + filterGAMString)\n    .then((res) => res); // don't catch error, throw it up the stack\n};\n\nfunction localeFromLanguage(language?: string) {\n  switch (language) {\n    case 'cn':\n      return 'zh-CN';\n    case 'en':\n    default:\n      return 'en';\n  }\n}\n\nexport const getCampaigns = async (): Promise<any> => {\n  return await axios\n    .get(campaigns)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getPastCampaigns = async (pageNo = 1): Promise<any> => {\n  return await axios\n    .get(`${campaigns}?inactive=true&items=10&page=${pageNo}`)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getCampaignsForMerchant = async (\n  seller_id: string\n): Promise<any> => {\n  return await axios\n    .get(sellers + seller_id + '/campaigns')\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getFees = async () => {\n  return await axios\n    .get(fees)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getFee = async (name: string) => {\n  return await axios\n    .get(fees + name)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getDistributor = async (id: string): Promise<any> => {\n  return await axios\n    .get(distributors + id)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getFiscalSponsor = async (id: number): Promise<any> => {\n  return await axios\n    .get(nonprofits + id)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getAllParticipatingSellers = async (): Promise<any> =>\n  axios\n    .get(passportVouchers)\n    .then((res) => res)\n    .catch((err) => err);\n\n// for passport crawl voucher print outs\nexport const getParticipatingMerchant = async (id: string) =>\n  axios\n    .get(passportVouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getParticipatingMerchantTickets = async (\n  id: string,\n  tickets_secret: string,\n  page: number | null,\n  items: number | null,\n  printed: boolean | null,\n  associated: boolean | null\n) =>\n  axios\n    .get(passportVouchers + id + '/tickets/' + tickets_secret, {\n      params: { page, items, printed, associated },\n    })\n    .then((res) => res)\n    .catch((err) => err);\n\n// validate passport email\nexport const getPassportEmailId = async (email: string) =>\n  axios\n    .get(contacts, {\n      params: { email },\n    })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getContactInfo = async (passportId: string) =>\n  axios\n    .get(contacts + passportId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const createPassportEmailId = async (\n  email: string,\n  instagram: string\n) => {\n  let params = {};\n\n  if (instagram) params = { email, instagram };\n  else params = { email };\n\n  return axios\n    .post(contacts, params)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const updatePassportInstagram = async (\n  id: string,\n  instagram: string\n) => {\n  return axios\n    .put(contacts + id, { instagram })\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const checkForValidTicket = async (ticket_id: string) =>\n  axios\n    .get(tickets + ticket_id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const updateTicketContactId = async (\n  ticket_id: string,\n  contact_id: string\n) =>\n  axios\n    .put(tickets + ticket_id, { contact_id })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getPassportTickets = async (passportId: string) =>\n  axios\n    .get(contacts + passportId + '/tickets')\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getParticipatingSeller = async (sellerId: string) =>\n  axios\n    .get(participatingSellers + sellerId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getGiveawayTicketsForContact = async (contactId: string) =>\n  axios\n    .get(contacts + contactId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const sendRedeemTicketsEmail = async (passportId: string) =>\n  axios\n    .post(contacts + passportId + '/rewards')\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getLocationById = async (locationId: number) =>\n  axios\n    .get(locations + locationId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getAllSponsors = async () =>\n  axios\n    .get(sponsorSellers)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getOneSponsor = async (rewardId: number) =>\n  axios\n    .get(sponsorSellers + rewardId)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const redeemReward = async (\n  contact_id: number,\n  auth_token: string,\n  tickets: Array<any>\n) =>\n  axios\n    .put(contacts + contact_id + '/tickets/' + auth_token, { tickets })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const createLyftReward = async (contact_id: number) =>\n  axios\n    .post(contacts + contact_id + '/' + lyftRewards)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getLyftReward = async (contact_id: number) =>\n  axios\n    .get(contacts + contact_id + '/' + lyftRewards)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const redeemToken = async (contact_id: number, token: string) =>\n  axios\n    .post(contacts + contact_id + '/' + lyftRewards + token + '/redeem/')\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getProject = async (project_id: number) =>\n  axios\n    .get(projects + project_id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const light_up_chinatown_id = 1;\n","export function dateFormatter(date) {\n  const newDate = new Date(date);\n\n  return `${\n    newDate.getMonth() + 1\n  }/${newDate.getDate()}/${newDate.getUTCFullYear()}`;\n}\n\nexport function makePlural(\n  amount: number,\n  keyword: string,\n  pluralLetters: string\n) {\n  if (amount === 1) return keyword;\n  else if (amount > 1 || amount === 0) return `${keyword}${pluralLetters}`;\n  return '';\n}\n\nexport function formatTime(time) {\n  // NOTE(wilsonj806): excludes the timezone from the date parsing\n  const date = new Date(time.slice(0, time.length - 5));\n  const hours = `${\n    date.getHours() === 0\n      ? 12\n      : date.getHours() > 12\n      ? date.getHours() - 12\n      : date.getHours()\n  }`;\n  const minutes =\n    date.getMinutes() < 10 ? `0${date.getMinutes()}` : `${date.getMinutes()}`;\n  const suffix = `${date.getHours() >= 12 ? 'PM' : 'AM'}`;\n\n  return `${hours}:${minutes}${suffix}`;\n}\n\nexport function formatCurrency(cents: number, decimals: number = 2) {\n  return Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: decimals,\n    maximumFractionDigits: decimals,\n  }).format(cents / 100);\n}\n","module.exports = __webpack_public_path__ + \"static/media/CircleLogo.0fc95748.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAASCAYAAAC9+TVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHqSURBVHgBrVS/L0NRFP7u9avxo3kWrYakJkI0jYhBIioWFhHEYqDxB2CRWPyabLoLJSESSQ0Wix9tLJgaImGrEKlJKUGF69xHeX3eZXGSl/tyz/e+e953vnOBfwhm3ghqbs2Wbx8SQvgEmJcAmgASDCIqBJZSeAn746cxJclKqWeIlkn5IdQRowOm+uLHi+mNrPTLqsszQcsMEdjwe2iMsc4euwOh5HXki2TFWTtARQXM6JLGev0pKHfh7Yl+5C5pTPu6ixy3ofvrfRZ0VrnzWO4ubbqNiKaFAMraWvBweYVcexFIF+x0D+Lm5MwISzw/8gomq6DyguYq5Omp26R+uiTpONzExeYODkbGM3Ak9lQ2Y+iHRTxcXH0DP9eXu/sfOMZEM5dtxC+RQ1W0hub1qs7mli0QzMv/aCfat9b0dZv0kPpYhJb9YSRrIqlLQZkLe/5eFYGMBJdOVGWlLhsN7eaOZIYQUS4Ei6jyspK66VEU11SqOYAlnrLxgPwlK0BxdaXuFU1NEuPICuuzs1zqGebArGU1pIlKD5ohv5wh3fbrZN2uQgd5Dj4z0GR1AwHkEOqj8jWARBTuKiw5JybpG2XbP7s51hc/mknv/bhPVp1e9xtefZToF8xwn1AXyJiR1BMP+BPRDA3fAS2WtmfQGnaeAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/PassportDashboardBackground.fb69d2d4.png\";","module.exports = __webpack_public_path__ + \"static/media/passportIcon.e16097f4.png\";","module.exports = __webpack_public_path__ + \"static/media/citi_bike.df5a5640.png\";","module.exports = __webpack_public_path__ + \"static/media/CrawlMap.79d9382b.png\";","import styled from 'styled-components';\n\ntype Props = {\n  color?: string;\n  bold?: string;\n  align?: string;\n  size?: string;\n  isMainTitle?: boolean;\n};\n\ntype PassportProps = {\n  mainView?: boolean;\n};\n\nconst CardContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 367px;\n  margin: 0 auto;\n  background: #ffffff;\n\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.25);\n  border: 1px solid #dedede;\n  border-radius: 20px;\n  box-sizing: border-box;\n  overflow: hidden;\n\n  position: absolute;\n  // opacity: ${(props: PassportProps) => (props.mainView ? '1' : '0.85')};\n  z-index: ${(props: PassportProps) => (props.mainView ? '10' : '0')};\n  top: ${(props: PassportProps) => (props.mainView ? '50px' : '0')};\n`;\n\nconst ExternalLink = styled.a`\n  font-weight: bold;\n  text-transform: uppercase;\n  color: black;\n  font-size: 12px;\n  margin: 20px;\n  letter-spacing: .15em;\n\n  &.faq {\n      @media (max-width: 365px) {\n          margin-left: 8px;\n          margin-right: 8px;\n  }\n`;\n\nconst TitleRow = styled.div`\n  text-align: center;\n  padding: 10px 20px;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Title = styled.span`\n  color: ${(props) => (props.color ? props.color : 'black')};\n  font-size: 14px;\n  font-weight: bold;\n  text-align: center;\n  letter-spacing: 0.15em;\n  margin: 5px auto;\n`;\n\nconst MainTitle = styled(Title)`\n  color: ${(props: Props) => (props.isMainTitle ? 'black' : 'grey')};\n`;\n\nconst SubTitle = styled.span`\n  color: ${(props: Props) => (props.color ? props.color : 'black')};\n  font-size: ${(props: Props) => (props.size ? props.size : '12px')};\n  font-weight: ${(props: Props) => (props.bold ? props.bold : '400')};\n  text-align: ${(props: Props) => (props.align ? props.align : 'center')};\n  letter-spacing: 0.1em;\n`;\n\nconst Button = styled.button`\n  margin: 10px auto;\n  outline: none;\n  cursor: pointer;\n\n  &.linkButton {\n    background-color: transparent;\n    border: none;\n    letter-spacing: 0.1em;\n    font-weight: bold;\n    text-transform: uppercase;\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n  padding-top: 5px;\n`;\n\ninterface CardTextProps {\n  bold?: string;\n  size?: string;\n  color?: string;\n  letterSpacing?: string;\n}\n\nconst CardText = styled.p`\n  text-transform: uppercase;\n  text-align: center;\n  letter-spacing: 0.1em;\n  margin: 0;\n  font-weight: ${(props: CardTextProps) => (props.bold ? props.bold : '400')};\n  font-size: ${(props: CardTextProps) => (props.size ? props.size : '12px')};\n  color: ${(props: CardTextProps) => (props.color ? props.color : '12px')};\n  letter-spacing; ${(props: CardTextProps) =>\n    props.letterSpacing ? props.letterSpacing : ''};\n`;\n\nexport {\n  CardContainer,\n  TitleRow,\n  Title,\n  MainTitle,\n  SubTitle,\n  Button,\n  ErrorMessage,\n  ExternalLink,\n  CardText,\n};\n","import Tooltip from '@material-ui/core/Tooltip';\nimport { withStyles, Theme } from '@material-ui/core/styles';\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { Title, SubTitle, Button, ErrorMessage } from './style';\nimport { socialMediaLinks } from '../../consts';\nimport {\n  getPassportEmailId,\n  createPassportEmailId,\n  updatePassportInstagram,\n  checkForValidTicket,\n  updateTicketContactId,\n  getPassportTickets,\n} from '../../utilities/api/interactionManager';\nimport { ModalPaymentConstants } from '../../utilities/hooks/ModalPaymentContext';\n\nimport CrawlInfoIcon from './CrawlInfoIcon.png';\nimport CircleLogo from './CircleLogo.png';\n\ninterface Props {\n  setCurrentScreenView: Function;\n}\n\nconst Track = (props: Props) => {\n  const { t } = useTranslation();\n  const { push } = useHistory();\n\n  const [email, setEmail] = useState('');\n  const [emailError, setEmailError] = useState('');\n\n  const [ticketCode, setTicketCode] = useState('');\n  const [isTicketValid, setIsTicketValid] = useState(true);\n\n  const [instagramHandle, setinstagramHandle] = useState('');\n\n  const findOrCreateUser = async (email, viewTickets) => {\n    const { data } = await getPassportEmailId(email);\n\n    // (to view tickets): sets error message for non-existent users and users with no tickets\n    if (viewTickets && !data) {\n      setEmailError(t('passport.errors.noTickets'));\n      setEmail('');\n      return;\n    } else if (viewTickets && data) {\n      const { data: hasTickets } = await getPassportTickets(data.id);\n      if (hasTickets.length) push(`/passport/${data.id}/tickets`);\n      else setEmailError(t('passport.errors.noTickets'));\n      return;\n    }\n\n    // (to add tickets): searches for existing user or creates new user\n    let contactId = '';\n    if (data) {\n      contactId = data.id;\n      // updates instagram handle for existing users\n      if (instagramHandle) {\n        await updatePassportInstagram(contactId, instagramHandle);\n      }\n    } else {\n      const {\n        data: { id },\n      } = await createPassportEmailId(email, instagramHandle);\n      contactId = id;\n    }\n    await findTicketCode(ticketCode, contactId);\n  };\n\n  const findTicketCode = async (code, contactId) => {\n    let formattedCode = code.split('-').join('');\n    formattedCode = formattedCode.toUpperCase();\n\n    const { data } = await checkForValidTicket(formattedCode);\n    if (data && !data.contact_id) {\n      const { data: newContactId } = await updateTicketContactId(\n        formattedCode,\n        contactId\n      );\n      newContactId && push(`/passport/${newContactId.contact_id}/tickets`);\n    } else {\n      setIsTicketValid(false);\n      setTicketCode('');\n    }\n  };\n\n  // const formatTicketCode = (code) => {\n  //   if (code.length === 3) {\n  //     setTicketCode(code + '-');\n  //   }\n  // };\n\n  const SupporterTooltip = withStyles((theme: Theme) => ({\n    tooltip: {\n      backgroundColor: '#ffffff',\n      color: 'rgba(0, 0, 0, 0.87)',\n      width: '100%',\n      fontSize: theme.typography.pxToRem(14),\n      border: '1px solid #dadde9',\n    },\n  }))(Tooltip);\n\n  return (\n    <Container>\n      <PassportCard>\n        <Logo src={CircleLogo} alt=\"scl-log\" />\n        <InputContainer className=\"trackScreen top\">\n          <Title color=\"#a8192e\">{t('passport.headers.passport')}</Title>\n          <SubTitle>{t('passport.labels.enterTicket')}</SubTitle>\n          <Column />\n          <Column>\n            <Label htmlFor=\"email-input\">{t('passport.labels.email')}</Label>\n            <InputField\n              name=\"email-input\"\n              type=\"email\"\n              onChange={(e) => {\n                e.preventDefault();\n                setEmail(e.target.value);\n                setEmailError('');\n              }}\n              onBlur={(e) => {\n                e.preventDefault();\n                if (!!email && !ModalPaymentConstants.EMAIL_REGEX.test(email)) {\n                  setEmailError(t('passport.errors.validEmail'));\n                }\n              }}\n              value={email}\n              pattern={ModalPaymentConstants.EMAIL_REGEX.source}\n            />\n            {emailError && <ErrorMessage>{emailError}</ErrorMessage>}\n          </Column>\n\n          <Column>\n            <Label htmlFor=\"ticket-code\">\n              {t('passport.labels.ticketCode')}\n            </Label>\n            <InputField\n              name=\"ticket-code\"\n              type=\"text\"\n              onChange={(e) => {\n                setTicketCode(e.target.value);\n                setIsTicketValid(true);\n              }}\n              // onKeyUp={(e) => {\n              //   if (e.key !== 'Backspace' || e.keyCode !== 8) {\n              //     formatTicketCode(e.target['value']);\n              //   }\n              // }}\n              value={ticketCode}\n              maxLength={6}\n            />\n            {!isTicketValid && (\n              <ErrorMessage>{t('passport.errors.validTicket')}</ErrorMessage>\n            )}\n          </Column>\n\n          <Column>\n            <Row className=\"row-no-margin\">\n              <Label htmlFor=\"instagram-handle\">\n                {t('passport.labels.instagramHandle')}{' '}\n                <strong>{t('passport.labels.instagramHandlePrompt')}</strong>\n              </Label>\n              <SupporterTooltip\n                title={\n                  <React.Fragment>\n                    <ToolTipTable>\n                      <tbody>\n                        <tr>\n                          To be entered into our weekly Digital Giveaways, visit\n                          3 merchants and post and tag{' '}\n                          <strong>@sendchinatownlove</strong>\n                          &nbsp;with your food crawl pictures on Instagram.\n                          Enter your Instagram handle so we can track your\n                          entries.\n                        </tr>\n                      </tbody>\n                    </ToolTipTable>\n                  </React.Fragment>\n                }\n                enterTouchDelay={10}\n                leaveTouchDelay={6000}\n                placement=\"left\"\n              >\n                <div>\n                  <img src={CrawlInfoIcon} alt=\"instagram-crawl-info\" />\n                </div>\n              </SupporterTooltip>\n            </Row>\n            <InputField\n              name=\"instagram-handle\"\n              type=\"text\"\n              onChange={(e) => setinstagramHandle(e.target.value)}\n              value={instagramHandle}\n              placeholder=\"@\"\n            />\n            <SubTitle color=\"grey\" size=\"11px\" align=\"left\">\n              {t('passport.labels.optional')}\n            </SubTitle>\n          </Column>\n        </InputContainer>\n\n        <InputContainer className=\"bottom\">\n          <Button\n            value=\"track-screen-button\"\n            className=\"button--red-filled\"\n            disabled={!email || !ticketCode || !isTicketValid}\n            onClick={() => {\n              findOrCreateUser(email, false);\n            }}\n          >\n            {t('passport.placeholders.addTicket')}\n          </Button>\n          {!!email && ModalPaymentConstants.EMAIL_REGEX.test(email) && (\n            <Button\n              className=\"linkButton\"\n              disabled={!email}\n              onClick={() => {\n                findOrCreateUser(email, true);\n              }}\n            >\n              {t('passport.placeholders.viewItem')}\n            </Button>\n          )}\n        </InputContainer>\n      </PassportCard>\n\n      <Row>\n        <ExternalLinks\n          href=\"https://www.sendchinatownlove.com/food-crawl.html\"\n          target=\"_blank\"\n        >\n          {t('passport.headers.learn')}\n        </ExternalLinks>\n        <LinksContainer>\n          {socialMediaLinks.map((social) => (\n            <Icon href={social.url} key={social.platform} target=\"_blank\">\n              <span className={`fa fa-${social.platform}`} />\n            </Icon>\n          ))}\n        </LinksContainer>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Track;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 367px;\n  margin: 0 auto;\n`;\n\nconst PassportCard = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-size: 12px;\n  width: 367px;\n  margin: 50px 0px 0px;\n  z-index: 0;\n  filter: drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.25));\n`;\n\nconst Logo = styled.img`\n  z-index: 10;\n  width: 100px;\n  height: 100px;\n  background-color: white;\n  border-radius: 50%;\n  margin-bottom: -50px;\n`;\n\nexport const InputContainer = styled.div`\n  background-color: white;\n  padding: 25px 20px;\n  box-sizing: border-box;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n\n  &.trackScreen {\n    padding-top: 60px;\n  }\n\n  &.top {\n    border-radius: 20px 20px 0px 0px;\n    border-bottom: 1px dashed #dedede;\n  }\n\n  &.bottom {\n    padding-top: 25px;\n    border-radius: 0px 0px 20px 20px;\n    border-top: 1px dashed #dedede;\n    text-align: center;\n  }\n\n  &.red {\n    color: #a8192e;\n  }\n`;\n\nconst Label = styled.label`\n  font-size: 13px;\n`;\n\nconst Column = styled.div`\n  margin: 15px 0;\n`;\n\nconst InputField = styled.input`\n  width: 100%;\n  height: 45px;\n  border: 1px solid #dadada;\n  margin-top: 8px;\n  padding-left: 1em;\n  border-radius: 5px;\n  outline: none;\n  -webkit-appearance: none;\n  font-size: 16px;\n  color: grey;\n\n  :invalid {\n    border: 1px solid red;\n  }\n`;\n\nconst ToolTipTable = styled.table`\n  width: 100%;\n`;\n\n// FOOTER\nexport const Row = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 15px 0 25px;\n  width: 100%;\n  justify-content: space-between;\n\n  &.row-no-margin {\n    margin: 0 auto;\n  }\n`;\n\nexport const ExternalLinks = styled.a`\n  font-weight: bold;\n  text-transform: uppercase;\n  color: black;\n  font-size: 12px;\n  margin: 20px;\n  cursor: pointer;\n  letter-spacing: 2px;\n`;\n\nconst LinksContainer = styled.div`\n  padding: 0;\n  list-style: none;\n  display: flex;\n  flex-direction: row;\n`;\n\nconst Icon = styled.a`\n  text-decoration: none;\n  color: #a8192e;\n  padding: 0 15px;\n  font-size: 22px;\n`;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { SubTitle, Button } from './style';\n\nexport const NoRewardsFooter = () => {\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <SubTitle bold=\"700\">{t('passport.labels.moreTickets')}</SubTitle>\n\n      <Button\n        value=\"redemption-selected-button\"\n        className=\"button--red-filled\"\n        onClick={(e) => {\n          e.preventDefault();\n          window.location.href = '/passport';\n        }}\n      >\n        {t('passport.placeholders.addNewTickets').toLocaleUpperCase()}\n      </Button>\n    </>\n  );\n};\n\ninterface RedeemRewardsProps {\n  id: number;\n  access_token: string;\n  selectedSponsor: null | any;\n}\n\nexport const RedeemRewardsFooter = (props: RedeemRewardsProps) => {\n  const { t } = useTranslation();\n  return (\n    <>\n      <SubTitle bold=\"700\"> {t('passport.labels.whenRedeemed')} </SubTitle>\n\n      <Button\n        value=\"redemption-selected-button\"\n        className=\"button--red-filled\"\n        disabled={!props.selectedSponsor}\n        onClick={(e) => {\n          e.preventDefault();\n          window.location.href = `/passport/${props.id}/redeem/${props.access_token}/sponsor/${props.selectedSponsor.id}`;\n        }}\n      >\n        {t('passport.placeholders.redeemNow').toUpperCase()}\n      </Button>\n    </>\n  );\n};\n\ninterface defaultProps {\n  allSponsors: any[];\n  id: number;\n}\n\nexport const DefaultFooter = (props: defaultProps) => {\n  const { t } = useTranslation();\n  return (\n    <>\n      <SubTitle bold=\"700\"> {t('passport.labels.selectOffer')}</SubTitle>\n\n      {props.allSponsors.length <= 4 && (\n        <Button\n          className=\"linkButton\"\n          onClick={(e) => {\n            e.preventDefault();\n            window.location.href = `/passport/${props.id}/tickets`;\n          }}\n        >\n          {t('passport.placeholders.returnTo').toLocaleUpperCase()}\n        </Button>\n      )}\n    </>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport {\n  NoRewardsFooter,\n  RedeemRewardsFooter,\n  DefaultFooter,\n} from './RedemptionFooters';\nimport { CardText } from './style';\nimport CircleLogo from './CircleLogo.png';\n\nimport {\n  getPassportTickets,\n  getAllSponsors,\n  getLocationById,\n} from '../../utilities/api/interactionManager';\n\ninterface Props {\n  setCurrentScreenView: Function;\n}\n\nconst PassportSelected = ({ setCurrentScreenView }: Props) => {\n  const { t } = useTranslation();\n  const { id, access_token } = useParams();\n\n  const [tickets, setTickets] = useState<any[]>([]);\n  const numRewards = Math.floor(tickets.length / 3);\n\n  const [allSponsors, setAllSponsors] = useState<any[]>([]);\n  const [selectedSponsor, setSelectedSponsor] = useState({\n    id: null,\n    reward_cost: null,\n  });\n\n  const fetchTickets = async () => {\n    try {\n      const { data: allTickets } = await getPassportTickets(id);\n      const availableTickets = allTickets.filter(\n        (ticket) => ticket.sponsor_seller_id === null\n      );\n      setTickets(availableTickets);\n    } catch (err) {\n      console.error('passport error: ' + err);\n    }\n  };\n\n  const fetchSponsors = async () => {\n    try {\n      const { data: allSponsors } = await getAllSponsors();\n      const allSponsorsWithLocations = await Promise.all(\n        allSponsors.map(async (sponsor) => {\n          const { data: location } = await getLocationById(sponsor.location_id);\n          return { ...sponsor, location: location };\n        })\n      );\n      setAllSponsors(allSponsorsWithLocations);\n    } catch (err) {\n      console.error('passport error: ' + err);\n    }\n  };\n\n  useEffect(() => {\n    fetchTickets();\n    fetchSponsors();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleFooter = () => {\n    if (numRewards === 0) return <NoRewardsFooter />;\n    else if (!!selectedSponsor.id)\n      return (\n        <RedeemRewardsFooter\n          id={id}\n          access_token={access_token}\n          selectedSponsor={selectedSponsor}\n        />\n      );\n    else return <DefaultFooter allSponsors={allSponsors} id={id} />;\n  };\n\n  const [vh, setVh] = useState(window.innerHeight * 0.01);\n\n  useEffect(() => {\n    function handleResize() {\n      setVh(window.innerHeight * 0.01);\n    }\n    window.addEventListener('resize', handleResize);\n  });\n\n  return (\n    <Container vh={vh}>\n      <Header numSponsors={allSponsors.length}>\n        <Logo src={CircleLogo} alt=\"scl-log\" />\n        <Heading>\n          {t('passport.labels.itemsAvailable', {\n            amount: numRewards,\n            item: numRewards === 0 || numRewards > 1 ? 'Rewards' : 'Reward',\n          })}\n        </Heading>\n        <SubHeading>\n          {t('passport.labels.itemsExpiration', {\n            item: numRewards === 0 || numRewards > 1 ? 'Rewards' : 'Reward',\n            date: '9/30/20',\n          })}\n        </SubHeading>\n      </Header>\n\n      <RewardsContainer>\n        {allSponsors.length > 0 &&\n          allSponsors.map((sponsor: any) => {\n            return (\n              <SingleRewardContainer\n                selected={selectedSponsor.id === sponsor.id}\n                numRewards={numRewards}\n                onClick={() => {\n                  if (numRewards === 0) {\n                    return;\n                  }\n                  if (selectedSponsor.id !== sponsor.id) {\n                    setSelectedSponsor({\n                      id: sponsor.id,\n                      reward_cost: sponsor.reward_cost,\n                    });\n                  } else {\n                    setSelectedSponsor({\n                      id: null,\n                      reward_cost: null,\n                    });\n                  }\n                }}\n              >\n                {numRewards !== 0 && (\n                  <input\n                    type=\"radio\"\n                    checked={selectedSponsor.id === sponsor.id}\n                    id={sponsor.reward}\n                  />\n                )}\n\n                <SingleRewardInfo>\n                  <div>\n                    <CardText bold=\"700\" size=\"14px\">\n                      {sponsor.reward}\n                    </CardText>\n                    <CardText bold=\"700\" size=\"10px\">\n                      {sponsor.reward_detail}\n                    </CardText>\n                  </div>\n                  <LogoImage src={sponsor.logo_url} alt=\"reward-logo\" />\n                  <CardText bold=\"700\" size=\"10px\">\n                    {sponsor.name}\n                  </CardText>\n                  {sponsor && sponsor.location && (\n                    <CardText size=\"10px\">{sponsor.location.address1}</CardText>\n                  )}\n                </SingleRewardInfo>\n              </SingleRewardContainer>\n            );\n          })}\n        {allSponsors.length > 4 && <Buffer />}\n      </RewardsContainer>\n\n      <Footer numSponsors={allSponsors.length}>{handleFooter()}</Footer>\n    </Container>\n  );\n};\n\nexport default PassportSelected;\n\nconst Container = styled.div<{\n  vh: number;\n}>`\n  width: 375px;\n  height: ${(props) => 100 * props.vh}px;\n  margin: 0 auto;\n  font-size: 12px;\n  display: grid;\n  grid-template-rows: min-content 1fr min-content;\n`;\n\nconst Header = styled.div<{\n  numSponsors: number;\n}>`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  position: relative;\n\n  ${(props) =>\n    props.numSponsors > 4\n      ? `    \n      &::after {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        height: 90%;\n        width: 100%;\n        background-color: white;\n        box-shadow: 0px 25px 27px 22px white;\n      }\n    `\n      : ''}\n`;\n\nconst Logo = styled.img`\n  z-index: 10;\n  width: 70px;\n  height: 70px;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);\n  background-color: white;\n  border-radius: 50%;\n  margin-top: 10px;\n  margin-bottom: 10px;\n`;\n\nconst Heading = styled.span`\n  letter-spacing: 0.15em;\n  text-transform: uppercase;\n  margin-top: 10px;\n  z-index: 2;\n  font-weight: bold;\n  font-size: 13px;\n`;\n\nconst SubHeading = styled.span`\n  letter-spacing: 0.15em;\n  text-transform: uppercase;\n  margin-top: 10px;\n  z-index: 2;\n`;\n\nconst Footer = styled.div<{\n  numSponsors: number;\n}>`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding: 20px;\n\n  & > * {\n    z-index: 2;\n    padding: 10px;\n  }\n\n  ${(props) =>\n    props.numSponsors > 4\n      ? `  \n      height: calc(min-content - 20px);\n      postion: relative;\n      background-color: white;\n      box-shadow: 0px -10px 27px 20px white;\n      z-index: 1;\n    `\n      : ''}\n`;\n\nconst RewardsContainer = styled.div`\n  margin: 0 10px;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  overflow-y: scroll;\n  padding-top: 20px;\n  padding-bottom: 50px;\n\n  ::-webkit-scrollbar {\n    width: 0px;\n    background: transparent;\n  }\n`;\n\nconst SingleRewardContainer = styled.button<{\n  selected: boolean;\n  numRewards: number;\n}>`\n  width: 160px;\n  height: 220px;\n  border: ${(props) =>\n    props.selected ? '1px solid black' : '1px solid #e5e5e5'};\n  box-shadow: ${(props) =>\n    props.numRewards > 0 ? '0px 0px 10px rgba(0, 0, 0, 0.25)' : 'none'};\n  background-color: white;\n  box-sizing: border-box;\n  margin: 8px;\n  padding: 5px;\n  outline: none;\n  border-radius: 5px;\n  cursor: ${(props) => (props.numRewards > 0 ? 'pointer' : 'auto')};\n\n  display: flex;\n  flex-direction: column;\n  place-self: center;\n`;\n\nconst SingleRewardInfo = styled.div`\n  width: 100%;\n  height: calc(220px - 5px - 15px);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n`;\n\nconst LogoImage = styled.img`\n  width: 130px;\n  border-radius: 20px;\n  border: 1px solid #eaeaea;\n`;\n\nconst Buffer = styled.div`\n  height: 50px;\n  grid-column: 1 / span 2;\n`;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { InputContainer } from './TrackScreen';\nimport { CardText, Button, SubTitle } from './style';\nimport CircleLogo from './CircleLogo.png';\n\nimport ScreenName from './ScreenName';\n\nimport {\n  getPassportTickets,\n  getOneSponsor,\n  getLocationById,\n  redeemReward,\n} from '../../utilities/api/interactionManager';\n\ninterface Props {\n  setCurrentScreenView: Function;\n}\n\nconst PassportRedemptionClaim = ({ setCurrentScreenView }: Props) => {\n  const { t } = useTranslation();\n  const { push } = useHistory();\n  const { id, access_token, sponsor_seller_id } = useParams();\n\n  const [selectedReward, setSelectedReward] = useState({\n    id: '',\n    name: '',\n    location: {\n      address1: '',\n      address2: '',\n      city: '',\n      state: '',\n      zip_code: '',\n    },\n    logo_url: '',\n    reward: '',\n    reward_detail: '',\n  });\n\n  const fetchSponsor = async () => {\n    try {\n      const { data: sponsor } = await getOneSponsor(sponsor_seller_id);\n      const { data: location } = await getLocationById(sponsor.location_id);\n      setSelectedReward({\n        ...sponsor,\n        location: location,\n      });\n    } catch (err) {\n      console.error('passport error: ' + err);\n    }\n  };\n\n  const handleRedemption = async () => {\n    try {\n      const { data: allTickets } = await getPassportTickets(id);\n      const ticketsToRedeem = allTickets\n        .filter((ticket) => ticket.sponsor_seller_id === null)\n        .slice(0, 3)\n        .map((ticket) => {\n          return { id: ticket.id, sponsor_seller_id };\n        });\n      const { status } = await redeemReward(id, access_token, ticketsToRedeem);\n      // figure out how to handle invalid redemption with this page\n      if (status !== 200) push(`/passport/${id}/tickets`);\n    } catch (err) {\n      console.error('passport error: ' + err);\n    }\n  };\n\n  useEffect(() => {\n    fetchSponsor();\n    handleRedemption();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const [timeLeft, setTimeLeft] = useState(60 * 5);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setTimeLeft(timeLeft - 1);\n    }, 1000);\n    if (!timeLeft) setCurrentScreenView(ScreenName.Redemption);\n    return () => clearTimeout(timer);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [timeLeft]);\n\n  const formatTime = (time) => {\n    const sec = time % 60;\n    time = (time - sec) / 60;\n    const min = time % 60;\n\n    const pad = (val) => val.toString().padStart(2, '0');\n    return `${pad(min)}:${pad(sec)}`;\n  };\n\n  return (\n    <Container>\n      <Logo src={CircleLogo} alt=\"scl-log\" />\n      <Shadow>\n        <InputContainer className=\"top shadow\">\n          <ContentContainer>\n            <CardText bold=\"700\" size=\"30px\" letterSpacing=\"0.15em;\">\n              {selectedReward.reward}\n            </CardText>\n            <CardText bold=\"700\" size=\"25px\">\n              {selectedReward.reward_detail}\n            </CardText>\n            <br />\n            <LogoImage src={selectedReward.logo_url} alt=\"reward-logo\" />\n            <br />\n            <div>\n              <CardText bold=\"700\" size=\"15px\">\n                {selectedReward.name}\n              </CardText>\n              {selectedReward && selectedReward.location && (\n                <>\n                  <CardText size=\"15px\">\n                    {selectedReward.location.address1}\n                    {selectedReward.location.address2 && ', '}\n                    {selectedReward.location.address2 &&\n                      selectedReward.location.address2}\n                  </CardText>\n                  <CardText size=\"15px\">\n                    {selectedReward.location.city},{' '}\n                    {selectedReward.location.state}{' '}\n                    {selectedReward.location.zip_code}\n                  </CardText>\n                </>\n              )}\n            </div>\n          </ContentContainer>\n        </InputContainer>\n        <InputContainer className=\"bottom shadow\">\n          <ContentContainer>\n            <CardText size=\"15px\" color=\"#a8192e\">\n              {t('passport.labels.offerUser')}\n              <span style={{ fontWeight: 'bold' }}>\n                {' '}\n                {formatTime(timeLeft)}\n              </span>\n            </CardText>\n          </ContentContainer>\n        </InputContainer>\n      </Shadow>\n\n      <Footer>\n        <SubTitle bold=\"700\">{t('passport.labels.pleaseShow')}</SubTitle>\n        <Button\n          value=\"redemption-selected-button\"\n          className=\"button--red-filled\"\n          onClick={(e) => {\n            e.preventDefault();\n            window.location.href = `/passport/${id}/redeem/${access_token}`;\n          }}\n        >\n          {t('passport.placeholders.markUsed')}\n        </Button>\n      </Footer>\n    </Container>\n  );\n};\n\nexport default PassportRedemptionClaim;\n\nconst Container = styled.div`\n  position: relative;\n  width: 375px;\n  hidden: 100vh;\n  margin: 0 auto;\n  padding-top: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-size: 12px;\n`;\n\nconst Logo = styled.img`\n  z-index: 10;\n  width: 100px;\n  height: 100px;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);\n  background-color: white;\n  border-radius: 50%;\n  margin-bottom: 25px;\n`;\n\nconst ContentContainer = styled.div`\n  max-width: 300px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst Shadow = styled.div`\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);\n  border-radius: 20px;\n`;\n\nconst LogoImage = styled.img`\n  width: 260px;\n  border-radius: 20px;\n  border: 1px solid #eaeaea;\n`;\n\nconst Footer = styled.div`\n  margin: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  & > * {\n    padding: 10px;\n  }\n`;\n","import React from 'react';\n\nexport default () => (\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M8 0C3.58193 0 0 3.58178 0 8C0 12.4182 3.58193 16 8 16C12.4186 16 16 12.4182 16 8C16 3.58178 12.4184 0 8 0ZM6.53247 12.1094L3.0099 8.58703L4.18399 7.41294L6.53247 9.76127L11.816 4.47758L12.9901 5.65167L6.53247 12.1094Z\"\n      fill=\"#6AC259\"\n    />\n  </svg>\n);\n","import React from 'react';\n\nexport default () => (\n  <svg\n    width=\"25\"\n    height=\"26\"\n    viewBox=\"0 0 25 26\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <mask\n      id=\"mask0\"\n      mask-type=\"alpha\"\n      maskUnits=\"userSpaceOnUse\"\n      x=\"0\"\n      y=\"0\"\n      width=\"20\"\n      height=\"20\"\n    >\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M10.0045 4.91117C7.17786 4.91117 4.89785 7.19117 4.89785 10.0178C4.89785 12.8445 7.17786 15.1245 10.0045 15.1245C12.8312 15.1245 15.1112 12.8445 15.1112 10.0178C15.1112 7.19117 12.8312 4.91117 10.0045 4.91117ZM10.0043 13.338C8.17763 13.338 6.68429 11.8491 6.68429 10.018C6.68429 8.18686 8.17319 6.69797 10.0043 6.69797C11.8354 6.69797 13.3243 8.18686 13.3243 10.018C13.3243 11.8491 11.831 13.338 10.0043 13.338ZM16.5112 4.7022C16.5112 5.36442 15.9778 5.89331 15.3201 5.89331C14.6578 5.89331 14.129 5.35998 14.129 4.7022C14.129 4.04442 14.6623 3.51109 15.3201 3.51109C15.9778 3.51109 16.5112 4.04442 16.5112 4.7022ZM19.8937 5.9114C19.8182 4.31584 19.4537 2.90251 18.2848 1.73806C17.1204 0.573618 15.7071 0.209174 14.1115 0.129174C12.4671 0.0358402 7.53817 0.0358402 5.89373 0.129174C4.30262 0.204729 2.88928 0.569174 1.72039 1.73362C0.551504 2.89806 0.191504 4.3114 0.111504 5.90695C0.0181706 7.5514 0.0181706 12.4803 0.111504 14.1247C0.187059 15.7203 0.551504 17.1336 1.72039 18.2981C2.88928 19.4625 4.29817 19.827 5.89373 19.907C7.53817 20.0003 12.4671 20.0003 14.1115 19.907C15.7071 19.8314 17.1204 19.467 18.2848 18.2981C19.4493 17.1336 19.8137 15.7203 19.8937 14.1247C19.9871 12.4803 19.9871 7.55584 19.8937 5.9114Z\"\n        fill=\"white\"\n      />\n    </mask>\n    <g mask=\"url(#mask0)\">\n      <rect width=\"20\" height=\"20\" fill=\"black\" />\n    </g>\n    <path\n      d=\"M19 14C15.6864 14 13 16.6863 13 20C13 23.3137 15.6864 26 19 26C22.3139 26 25 23.3137 25 20C25 16.6863 22.3138 14 19 14ZM17.8994 23.0821L15.2574 20.4403L16.138 19.5597L17.8994 21.3209L21.862 17.3582L22.7426 18.2388L17.8994 23.0821Z\"\n      fill=\"#6AC259\"\n    />\n  </svg>\n);\n","import React from 'react';\n\nexport default () => (\n  <svg\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 20 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <mask\n      id=\"mask0\"\n      mask-type=\"alpha\"\n      maskUnits=\"userSpaceOnUse\"\n      x=\"0\"\n      y=\"0\"\n      width=\"20\"\n      height=\"20\"\n    >\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M10.0045 4.91117C7.17786 4.91117 4.89785 7.19117 4.89785 10.0178C4.89785 12.8445 7.17786 15.1245 10.0045 15.1245C12.8312 15.1245 15.1112 12.8445 15.1112 10.0178C15.1112 7.19117 12.8312 4.91117 10.0045 4.91117ZM10.0043 13.338C8.17763 13.338 6.68429 11.8491 6.68429 10.018C6.68429 8.18686 8.17319 6.69797 10.0043 6.69797C11.8354 6.69797 13.3243 8.18686 13.3243 10.018C13.3243 11.8491 11.831 13.338 10.0043 13.338ZM16.5112 4.7022C16.5112 5.36442 15.9778 5.89331 15.3201 5.89331C14.6578 5.89331 14.129 5.35998 14.129 4.7022C14.129 4.04442 14.6623 3.51109 15.3201 3.51109C15.9778 3.51109 16.5112 4.04442 16.5112 4.7022ZM19.8937 5.9114C19.8182 4.31584 19.4537 2.90251 18.2848 1.73806C17.1204 0.573618 15.7071 0.209174 14.1115 0.129174C12.4671 0.0358402 7.53817 0.0358402 5.89373 0.129174C4.30262 0.204729 2.88928 0.569174 1.72039 1.73362C0.551504 2.89806 0.191504 4.3114 0.111504 5.90695C0.0181706 7.5514 0.0181706 12.4803 0.111504 14.1247C0.187059 15.7203 0.551504 17.1336 1.72039 18.2981C2.88928 19.4625 4.29817 19.827 5.89373 19.907C7.53817 20.0003 12.4671 20.0003 14.1115 19.907C15.7071 19.8314 17.1204 19.467 18.2848 18.2981C19.4493 17.1336 19.8137 15.7203 19.8937 14.1247C19.9871 12.4803 19.9871 7.55584 19.8937 5.9114Z\"\n        fill=\"white\"\n      />\n    </mask>\n    <g mask=\"url(#mask0)\">\n      <rect width=\"20\" height=\"20\" fill=\"#9E9E9E\" />\n    </g>\n  </svg>\n);\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n\nimport GreenCheck from './GreenCheck';\nimport InstagramEnabled from './InstagramEnabled';\nimport InstagramDisabled from './InstagramDisabled';\n\nimport {\n  getAllParticipatingSellers,\n  getGiveawayTicketsForContact,\n} from '../../utilities/api/interactionManager';\n\ninterface Props {\n  showInstagram: boolean;\n  contactId: string;\n}\n\ninterface GiveawayData {\n  weekly_giveaway_entries: String;\n  number_of_visits_left: undefined | number;\n}\n\nconst GiveawayPopover = (props: Props) => {\n  const { t } = useTranslation();\n  const [showInfo, setShowInfo] = useState(true);\n  const [giveawayData, setData] = useState<GiveawayData>({\n    weekly_giveaway_entries: '',\n    number_of_visits_left: undefined,\n  });\n\n  async function setGiveawayCount(contactId: string) {\n    const { data: allSellers } = await getAllParticipatingSellers();\n    const {\n      data: { weekly_giveaway_entries, unique_seller_tickets },\n    } = await getGiveawayTicketsForContact(contactId);\n    setData({\n      weekly_giveaway_entries,\n      number_of_visits_left: allSellers.length - unique_seller_tickets,\n    });\n  }\n\n  useEffect(() => {\n    if (props.showInstagram && showInfo) {\n      setGiveawayCount(props.contactId);\n    }\n  }, [props.showInstagram, showInfo, props.contactId]);\n\n  return (\n    <>\n      {props.showInstagram ? (\n        <InstagramButtonEnabled onClick={() => setShowInfo(!showInfo)}>\n          <InstagramEnabled />\n        </InstagramButtonEnabled>\n      ) : (\n        <InstagramButtonDisabled>\n          <InstagramDisabled />\n        </InstagramButtonDisabled>\n      )}\n      <PopoverContainer>\n        {props.showInstagram && showInfo && (\n          <PopoverContent>\n            <ToggleClosedButton onClick={() => setShowInfo(false)}>\n              <InstagramEnabled />\n            </ToggleClosedButton>\n            <Title>{t('passport.labels.instagramAdded')}</Title>\n            <Divider />\n            <GiveawayTextContainer>\n              <InfoSentence>\n                <DynamicBoldText>\n                  {giveawayData.weekly_giveaway_entries}\n                </DynamicBoldText>\n                <GeneralText>{t('passport.labels.weeklyGiveaway')}</GeneralText>\n              </InfoSentence>\n\n              {giveawayData.number_of_visits_left !== 0 ? (\n                <InfoSentence>\n                  <DynamicBoldText>\n                    {giveawayData.number_of_visits_left}\n                  </DynamicBoldText>\n                  <GeneralText>{t('passport.labels.ticketsAway')}</GeneralText>\n                </InfoSentence>\n              ) : (\n                <InfoSentence>\n                  <IconWrap>\n                    <GreenCheck />\n                  </IconWrap>\n                  <GeneralText>\n                    {t('passport.labels.grandPrizeEntered')}\n                  </GeneralText>\n                </InfoSentence>\n              )}\n            </GiveawayTextContainer>\n            <SubText>{t('passport.labels.weeklyGiveawayAnnounced')}</SubText>\n            <CloseButton type=\"button\" onClick={() => setShowInfo(false)}>\n              {t('passport.placeholders.close').toUpperCase()}\n            </CloseButton>\n          </PopoverContent>\n        )}\n      </PopoverContainer>\n    </>\n  );\n};\n\nexport default GiveawayPopover;\n\nconst PopoverContainer = styled.div`\n  position: absolute;\n  right: 0;\n  top: 10px;\n`;\n\nconst InstagramButtonBase = styled.div`\n  position: absolute;\n  text-decoration: none;\n  color: black;\n  padding: 10px 15px;\n  font-size: 22px;\n`;\n\nconst InstagramButtonDisabled = styled(InstagramButtonBase)`\n  right: 9px;\n  top: 7px;\n`;\nconst InstagramButtonEnabled = styled(InstagramButtonBase)`\n  right: 4px;\n  top: 11px;\n`;\n\nconst PopoverContent = styled.div`\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 340px;\n  height: 315px;\n  right: 12.5px;\n  top: -1px;\n  background: #f2eae8;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);\n  backdrop-filter: blur(4px);\n  border-radius: 13px;\n  z-index: 2;\n`;\n\nconst Title = styled.h1`\n  position: absolute;\n  height: 14px;\n  top: 26px;\n  font-style: italic;\n  font-size: 10px;\n  line-height: 14px;\n  display: flex;\n  align-items: center;\n  letter-spacing: 0.15em;\n`;\nconst Divider = styled.div`\n  position: absolute;\n  width: 237px;\n  top: 52px;\n  margin: 0;\n  border-bottom: 1px solid #8e8e8e;\n`;\n\nconst GiveawayTextContainer = styled.div`\n  width: 258px;\n  position: absolute;\n  top: 56px;\n`;\nconst IconWrap = styled.span`\n  margin-right: 6px;\n  height: 38px;\n`;\n\nconst DynamicBoldText = styled.span`\n  font-size: 24px;\n  font-weight: bold;\n  text-align: left;\n  line-height: 34px;\n  margin-right: 6px;\n  height: 38px;\n  display: inline-block;\n`;\n\nconst GeneralText = styled.span`\n  width: 230px;\n`;\n\nconst InfoSentence = styled.p`\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: baseline;\n  font-size: 16px;\n  text-align: left;\n  line-height: 22px;\n  margin-bottom: 22px;\n`;\n\nconst SubText = styled.div`\n  position: absolute;\n  width: 284px;\n  height: 24px;\n  top: 204px;\n  font-size: 10px;\n  line-height: 14px;\n  text-align: center;\n  letter-spacing: 0.05em;\n`;\n\nconst ToggleClosedButton = styled.div`\n  position: absolute;\n  right: 6px;\n  top: 12px;\n`;\n\nconst CloseButton = styled.button`\n  position: absolute;\n  width: 115px;\n  height: 32px;\n  top: 268px;\n  background: #a8192e;\n  border: 0px solid black;\n  border-radius: 50px;\n  color: white;\n  font-size: 11px;\n  font-weight: bold;\n  letter-spacing: 0.15em;\n  line-height: 15px;\n  text-align: center;\n`;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n\nimport { Button } from './style';\nimport { dateFormatter } from '../../utilities/general/textFormatter';\n\ninterface Props {\n  stamps: participatingSellerProps[];\n  index: number;\n  sendEmail: () => void;\n}\n\ntype participatingSellerProps = {\n  created_at: string;\n  id: number;\n  name: string;\n  seller_id: number;\n  stamp_url: string;\n  updated_at: string;\n  redeemed_at: string;\n  sponsor_seller_id: string;\n};\ntype redeemRowProp = {\n  status?: RowStatuses;\n};\n\nenum RowStatuses {\n  Inactive,\n  Active,\n  Redeemed,\n}\n\nconst TicketRow = (props: Props) => {\n  const { t } = useTranslation();\n  const [status, setStatus] = useState<RowStatuses>(RowStatuses.Inactive);\n  const [redeemedOn, setRedeemedOn] = useState('');\n\n  useEffect(() => {\n    if (props.stamps.length === 3) {\n      if (\n        props.stamps.every(\n          (stamp) => stamp.redeemed_at && stamp.sponsor_seller_id\n        )\n      ) {\n        const date = props.stamps[0].redeemed_at;\n        setRedeemedOn(date);\n        setStatus(RowStatuses.Redeemed);\n      } else {\n        setStatus(RowStatuses.Active);\n      }\n    } else {\n      setStatus(RowStatuses.Inactive);\n    }\n  }, [props.stamps]);\n\n  const showRedeemRow = (status) => {\n    switch (status) {\n      case RowStatuses.Redeemed:\n        return t('passport.placeholders.prizeRedeemed', {\n          date: dateFormatter(redeemedOn),\n        });\n      case RowStatuses.Active:\n        return t('passport.placeholders.readyToRedeem');\n      default:\n        if (props.stamps.length === 0) return;\n        return 3 - props.stamps.length === 1\n          ? t('passport.placeholders.oneLeftToRedeem')\n          : t('passport.placeholders.leftToRedeem', {\n              amount: 3 - props.stamps.length,\n            });\n    }\n  };\n\n  const createStamps = (stamps) => {\n    const filledStamps = stamps.map((ticketInfo) => (\n      <Stamp key={ticketInfo.id} src={ticketInfo.stamp_url} />\n    ));\n\n    while (filledStamps.length < 3) {\n      filledStamps.push(<EmptyStamp />);\n    }\n\n    return filledStamps;\n  };\n\n  return (\n    <TableRow key={props.index} status={status}>\n      <TableIndex> {props.index + 1} </TableIndex>\n      <TableStamp>\n        <StampColumn>\n          {status === RowStatuses.Active && (\n            <SendEmailButton\n              className=\"button--red-filled\"\n              onClick={props.sendEmail}\n            >\n              {t('passport.placeholders.redeem').toUpperCase()}\n            </SendEmailButton>\n          )}\n          <StampRow>{!!props.stamps && createStamps(props.stamps)}</StampRow>\n        </StampColumn>\n        <RedeemedRow status={status}>{showRedeemRow(status)}</RedeemedRow>\n      </TableStamp>\n    </TableRow>\n  );\n};\n\nexport default TicketRow;\n\nconst TableRow = styled.tr`\n  height: 90px;\n  border: 2px solid #a5a5a5;\n  ${(props: redeemRowProp) => {\n    switch (props.status) {\n      case RowStatuses.Redeemed:\n        return `\n          opacity: 0.75;\n          background: rgba(0, 0, 0, 0.05);\n        `;\n      case RowStatuses.Active:\n        return `\n          background: rgba(168, 25, 46, 0.05);\n          color: #A8192E;\n        `;\n      default:\n        return `\n          background: rgba(0, 0, 0, 0);\n          color: black;\n        `;\n    }\n  }};\n`;\nconst TableIndex = styled.td`\n  display: flex;\n  width: 40px;\n  height: 90px;\n  text-align: center;\n  align-items: flex-start;\n  justify-content: center;\n  padding-top: 12px;\n  border-right: 2px solid #a5a5a5;\n  font-weight: bold;\n`;\nconst TableStamp = styled.td`\n  width: 100%;\n  position: relative;\n  padding: 0;\n`;\nconst StampColumn = styled.div`\n  position: relative;\n  width: 100%;\n  height: 70px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\nconst StampRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  margin: 0 auto;\n  width: 80%;\n  height: 100%;\n`;\nconst RedeemedRow = styled.div`\n  border-top: 1px dotted #a5a5a5;\n  width: 100%;\n  margin: 0 auto;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  height: 20px;\n  text-transform: uppercase;\n  ${(props: redeemRowProp) =>\n    props.status === RowStatuses.Active && 'font-weight: 700;'};\n`;\nconst Stamp = styled.img`\n  width: 55px;\n`;\nconst EmptyStamp = styled.div`\n  width: 55px;\n`;\nconst SendEmailButton = styled(Button)`\n  padding: 0;\n  height: 25px;\n  width: 300px;\n  top: 65px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n  position: absolute;\n\n  font-weight: bold;\n  font-size: 11px;\n  line-height: 15px;\n  align-items: center;\n  text-align: center;\n  letter-spacing: 0.15em;\n  text-transform: uppercase;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Trans, useTranslation } from 'react-i18next';\nimport { CardContainer, TitleRow, Title } from './style';\n\ntype Props = {\n  showFaq: boolean;\n  toggleView: () => void;\n};\n\nconst Faq = ({ showFaq, toggleView }: Props) => {\n  const goToFoodCrawlInfo = (e) => {\n    window.open('https://www.sendchinatownlove.com/food-crawl.html', '_blank');\n  };\n  const { t } = useTranslation();\n  const foodCrawlFaq = t<object[]>('passport.faq.arrayOfQuestionAnswers', {\n    returnObjects: true,\n  });\n\n  return (\n    <CardContainer mainView={showFaq} onClick={toggleView}>\n      <TitleRow>\n        <Title color={showFaq ? 'black' : 'grey'}>HOW TO WIN REWARDS</Title>\n      </TitleRow>\n      {!showFaq && (\n        <>\n          <br />\n          <br />\n        </>\n      )}\n      <FaqContent hidden={!showFaq}>\n        <RewardsLink onClick={goToFoodCrawlInfo}>\n          {t('passport.faq.viewActiveRewards')}\n        </RewardsLink>\n        {foodCrawlFaq.map((faq: any, idx) => (\n          <div key={'foodCrawlFaq' + idx}>\n            <Question>\n              {`${idx + 1}.`} {faq.question}\n            </Question>\n            <Trans\n              i18nKey={`passport.faq.arrayOfQuestionAnswers.${idx}.answer`}\n            >\n              <strong />\n              <i />\n              <p />\n              <a\n                href=\"https://www.sendchinatownlove.com/food-crawl.html\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                link\n              </a>\n            </Trans>\n          </div>\n        ))}\n      </FaqContent>\n    </CardContainer>\n  );\n};\n\nconst FaqContent = styled.div`\n  padding: 10px 30px 15px;\n  font-size: 12px;\n  overflow: auto;\n  height: calc(100vh - 230px);\n`;\n\nconst RewardsLink = styled.span`\n  text-transform: uppercase;\n  color: black;\n  font-weight: 700;\n  letter-spacing: 0.15em;\n  font-size: 14px;\n  text-decoration: underline;\n  cursor: pointer;\n  font-size: 12px;\n`;\n\nconst Question = styled.p`\n  font-weight: bold;\n  margin-bottom: 1px;\n`;\n\nexport default Faq;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { TitleRow, SubTitle, Button, CardContainer } from './style';\nimport CitiBikeImg from './citi_bike.png';\nimport { useTranslation } from 'react-i18next';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Overlay from 'react-bootstrap/Overlay';\nimport { useState, useRef } from 'react';\n\ninterface PromoProps {\n  yesClickHander: () => void;\n  noClickHander: () => void;\n}\n\nexport const LyftRewardPromo = (props: PromoProps) => {\n  const { t } = useTranslation();\n  return (\n    <LyftPromptContainer height={340}>\n      <LyftIcon src={CitiBikeImg} />\n      <TitleRow>\n        <LyftSubTitle>\n          {t('lyftReward.mainBody1')}\n          <br />\n          <br />\n          {t('lyftReward.mainBody2')}\n          <br />\n          <br />\n          {t('lyftReward.mainBody3')}\n        </LyftSubTitle>\n      </TitleRow>\n      <span>\n        <LyftYesButton\n          className=\"button--red-filled\"\n          onClick={props.yesClickHander}\n        >\n          {t('lyftReward.yesButton')}\n        </LyftYesButton>\n        <LyftNoButton\n          className=\"button--red-outlined\"\n          onClick={props.noClickHander}\n        >\n          {t('lyftReward.noButton')}\n        </LyftNoButton>\n      </span>\n    </LyftPromptContainer>\n  );\n};\n\ninterface ConfirmationProps {\n  isSuccess: boolean;\n  closeClickHander: () => void;\n}\n\nexport const LyftConfirmationPromo = (props: ConfirmationProps) => {\n  const { t } = useTranslation();\n  return (\n    <LyftPromptContainer height={285}>\n      <LyftIcon src={CitiBikeImg} />\n      <TitleRow>\n        <LyftSubTitle>\n          <br />\n          {props.isSuccess\n            ? t('lyftReward.successBody1')\n            : t('lyftReward.failureBody1')}\n          <br />\n          <br />\n          {props.isSuccess\n            ? t('lyftReward.successBody2')\n            : t('lyftReward.failureBody2')}\n        </LyftSubTitle>\n      </TitleRow>\n      <LyftCloseButton\n        className=\"button--red-filled\"\n        onClick={props.closeClickHander}\n      >\n        {t('lyftReward.closeButton')}\n      </LyftCloseButton>\n    </LyftPromptContainer>\n  );\n};\n\ninterface CodeProps {\n  code: string;\n}\n\nexport const LyftCode = (props: CodeProps) => {\n  const { t } = useTranslation();\n  const [show, setShow] = useState(false);\n  const target = useRef(null);\n\n  return (\n    <CardContainer mainView={true}>\n      <br />\n      <br />\n      <LyftIcon src={CitiBikeImg} />\n      <LyftCodeTitle>{t('lyftReward.codeTitle')}</LyftCodeTitle>\n      <LyftCodeSubtitle>{t('lyftReward.codeSubtitle')}</LyftCodeSubtitle>\n      <CopyToClipboard\n        text={props.code}\n        onCopy={(e: any) => {\n          setShow(!show);\n        }}\n      >\n        <LyftCodeDisplay>{props.code}</LyftCodeDisplay>\n      </CopyToClipboard>\n      <div ref={target}></div>\n      <Overlay target={target.current} show={show} placement=\"top\">\n        {(props) => (\n          <Tooltip\n            id=\"copied-tooltip\"\n            onClick={() => setShow(!show)}\n            {...props}\n            style={{\n              backgroundColor: '#a9182e',\n              color: 'white',\n              padding: '21px 78px 21px 78px',\n              borderRadius: 3,\n              zIndex: 10,\n              opacity: 0.8,\n              fontFamily: 'Open Sans',\n              fontWeight: 'bold',\n              fontSize: '15px',\n              lineHeight: '20px',\n              display: 'flex',\n              alignItems: 'center',\n              textAlign: 'center',\n              letterSpacing: '0.05em',\n              textTransform: 'uppercase',\n              ...props.style,\n            }}\n          >\n            {t('lyftReward.codeCopied')}\n          </Tooltip>\n        )}\n      </Overlay>\n      <br />\n      <br />\n    </CardContainer>\n  );\n};\n\nconst LyftPromptContainer = styled.div<{ height: number }>`\n  padding: 10px;\n  position: absolute;\n  width: 340px;\n  margin: 0 auto;\n  height: ${(props) => props.height}px;\n  z-index: 1;\n  top: 70px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  border-radius: 13px;\n  background: #f2eae8;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);\n  backdrop-filter: blur(4px);\n`;\n\nconst LyftIcon = styled.img`\n  margin-top: 10px;\n  width: 200px;\n  height: 94px;\n`;\n\nconst LyftSubTitle = styled(SubTitle)`\n  font-weight: 700;\n`;\n\nconst LyftYesButton = styled(Button)`\n  padding: 0;\n  text-align: center;\n  height: 33px;\n  width: 115px;\n  margin-right: 8px;\n  display: inline-block;\n  min-width: 0;\n`;\n\nconst LyftNoButton = styled(LyftYesButton)`\n  margin-left: 8px;\n  margin-right: 0;\n`;\n\nconst LyftCloseButton = styled(LyftYesButton)`\n  margin: 0;\n`;\n\nconst LyftCodeTitle = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 15px;\n  line-height: 20px;\n  display: flex;\n  align-items: center;\n  text-align: center;\n  letter-spacing: 0.05em;\n  text-transform: uppercase;\n  padding: 0px 30px 0px 30px;\n  margin-top: 30px;\n`;\n\nconst LyftCodeSubtitle = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 15px;\n  line-height: 20px;\n  display: flex;\n  align-items: center;\n  text-align: center;\n  letter-spacing: 0.05em;\n  text-transform: uppercase;\n  padding: 0px 30px 0px 30px;\n  margin-top: 30px;\n`;\n\nconst LyftCodeDisplay = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 30px;\n  line-height: 41px;\n  display: flex;\n  align-items: center;\n  text-align: center;\n  letter-spacing: 0.15em;\n  text-transform: uppercase;\n  color: #a8192e;\n  border: 1px dashed #000000;\n  box-sizing: border-box;\n  padding: 10px 20px 10px 20px;\n  margin-top: 20px;\n`;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { CardContainer, TitleRow, Title, SubTitle, Button } from './style';\nimport { MAILTO_URL } from '../../consts';\nimport {\n  getPassportTickets,\n  getParticipatingSeller,\n  sendRedeemTicketsEmail,\n  getContactInfo,\n  createLyftReward,\n} from '../../utilities/api/interactionManager';\n\nimport GiveawayPopover from './GiveawayPopover';\nimport TicketRow from './TicketRow';\nimport FAQ from './Faq';\n\nimport PassportDashboardBackground from './PassportDashboardBackground.png';\nimport PassportIconImg from './passportIcon.png';\nimport CircleLogo from './CircleLogo.png';\nimport { LyftRewardPromo, LyftConfirmationPromo } from './LyftPromo';\n\ninterface Props {\n  setCurrentScreenView: Function;\n}\n\nconst Passport = (props: Props) => {\n  const { t } = useTranslation();\n  const { id } = useParams();\n  const { push, location } = useHistory();\n  const [showFaq, setShowFaq] = useState(false);\n  const [showInstagram, setShowInstagram] = useState(false);\n  const [showEmailSent, setShowEmailSent] = useState(false);\n  const [showLyftRewardPromo, setShowLyftRewardPromo] = useState(false);\n  const [lyftRewardConfirmation, setLyftRewardConfirmation] = useState({\n    showConfirmation: false,\n    isSuccess: false,\n  });\n  const [tickets, setTickets] = useState<any[]>([]);\n\n  useEffect(() => {\n    if (location.hash === '#faq') {\n      setShowFaq(true);\n    } else {\n      setShowFaq(false);\n    }\n  }, [location]);\n\n  useEffect(() => {\n    if (id) {\n      getContactInfo(id)\n        .then((contactInfo) => {\n          setShowInstagram(contactInfo.data.instagram);\n          setShowLyftRewardPromo(contactInfo.data.is_eligible_for_lyft_reward);\n          return getPassportTickets(id);\n        })\n        .then((ticketIds) => {\n          let promises: any[] = [];\n          ticketIds.data.forEach((ticket) => {\n            promises.push(\n              getParticipatingSeller(ticket.participating_seller_id).then(\n                (seller) => ({\n                  stamp_url: seller.data.stamp_url,\n                  ...ticket,\n                })\n              )\n            );\n          });\n\n          return Promise.all(promises);\n        })\n        .then((passportTickets) => {\n          if (passportTickets.length > 0) {\n            setTickets(passportTickets);\n          }\n        })\n        .catch((err) => {\n          console.log('passport error: ' + err);\n        });\n    }\n  }, [id]);\n\n  const createTicketRows = (tickets) => {\n    let rows: any[] = [];\n\n    if (tickets.length > 0) {\n      // make a temp ticket that sorts the tickets by sponsor seller, then redemption date\n      let tempTickets = [...tickets];\n\n      // push the stamps to rows of 3, if there arent 3, then push the left over amount\n      while (tempTickets.length) {\n        rows.push(tempTickets.splice(0, 3));\n      }\n    }\n\n    // if there are less than 6 rows, make 6 rows, other wise make one extra row\n    if (rows.length < 6) {\n      while (rows.length < 6) {\n        rows.push([]);\n      }\n    } else {\n      rows.push([]);\n    }\n\n    return rows;\n  };\n\n  const sendEmail = () => {\n    // Disable the email modal if the Lyft reward modal is showing\n    if (showLyftRewardPromo || lyftRewardConfirmation.showConfirmation) {\n      return;\n    }\n    sendRedeemTicketsEmail(id).then((res) => {\n      setShowEmailSent(true);\n    });\n  };\n\n  const lyftRewardYesClickHandler = () => {\n    setShowLyftRewardPromo(false);\n    createLyftReward(id).then((res) => {\n      const isSuccess = res.status === 200;\n      setLyftRewardConfirmation({\n        showConfirmation: true,\n        isSuccess: isSuccess,\n      });\n    });\n  };\n\n  const lyftRewardNoClickHandler = () => {\n    setShowLyftRewardPromo(false);\n  };\n\n  const lyftConfirmationCloseClickHandler = () => {\n    setLyftRewardConfirmation({ showConfirmation: false, isSuccess: false });\n  };\n\n  const createRows = (stamps) => {\n    const rows = createTicketRows(stamps);\n    return (\n      <TableContainer>\n        <Table>\n          <tbody>\n            {rows.map((row, index) => (\n              <TicketRow\n                stamps={row}\n                index={index}\n                key={index}\n                sendEmail={sendEmail}\n              />\n            ))}\n          </tbody>\n        </Table>\n      </TableContainer>\n    );\n  };\n\n  const addTicket = (e) => {\n    e.preventDefault();\n    push('/passport');\n  };\n\n  return (\n    <Container>\n      <HeaderContainer>\n        <RedirectionLinks\n          href=\"https://www.sendchinatownlove.com/food-crawl.html\"\n          target=\"_blank\"\n        >\n          {t('passport.headers.learn')}\n        </RedirectionLinks>\n        <Logo src={CircleLogo} alt=\"scl-log\" />\n        <RedirectionLinks href={MAILTO_URL}>\n          {t('passport.headers.contact')}\n        </RedirectionLinks>\n      </HeaderContainer>\n      <BodyContainer>\n        <FAQ\n          showFaq={showFaq}\n          toggleView={() => push(location.pathname + '#faq')}\n        />\n        <PassportContainer\n          mainView={!showFaq}\n          onClick={() => push(location.pathname)}\n        >\n          <TitleRow>\n            <Title color={showFaq ? 'grey' : 'black'}>\n              {t('passport.headers.passport').toUpperCase()}\n            </Title>\n            {showFaq ? (\n              <>\n                <br />\n                <br />\n                <br />\n              </>\n            ) : (\n              <>\n                <SubHeader color={showFaq ? 'transparent' : 'black'}>\n                  {showInstagram\n                    ? t('passport.labels.instagramAdded')\n                    : '9/1/2020 - 9/30/2020'}\n                </SubHeader>\n              </>\n            )}\n          </TitleRow>\n          <GiveawayPopover showInstagram={showInstagram} contactId={id} />\n          {showLyftRewardPromo && (\n            <LyftRewardPromo\n              yesClickHander={lyftRewardYesClickHandler}\n              noClickHander={lyftRewardNoClickHandler}\n            ></LyftRewardPromo>\n          )}\n          {lyftRewardConfirmation.showConfirmation && (\n            <LyftConfirmationPromo\n              isSuccess={lyftRewardConfirmation.isSuccess}\n              closeClickHander={lyftConfirmationCloseClickHandler}\n            ></LyftConfirmationPromo>\n          )}\n\n          {showEmailSent && (\n            <SendEmailContainer>\n              <PassportIcon src={PassportIconImg} />\n              <TitleRow>\n                <Title>{t('passport.headers.rewardEmail').toUpperCase()}</Title>\n                <SubTitle bold=\"700\">\n                  {t('passport.labels.checkInbox')}\n                  <br />\n                  <br />\n                  {t('passport.labels.linkExpire')}\n                </SubTitle>\n              </TitleRow>\n              <SendEmailButtonClose\n                className=\"button--red-filled\"\n                onClick={(e) => setShowEmailSent(false)}\n              >\n                {t('passport.placeholders.close')}\n              </SendEmailButtonClose>\n            </SendEmailContainer>\n          )}\n          {!showFaq && createRows(tickets)}\n        </PassportContainer>\n      </BodyContainer>\n      {!showFaq && (\n        <AddNewTicket className=\"button--filled\" onClick={addTicket}>\n          {t('passport.placeholders.addNewTicket')}\n        </AddNewTicket>\n      )}\n    </Container>\n  );\n};\n\nexport default Passport;\n\nconst Container = styled.div`\n  position: relative;\n  width: 375px;\n  hidden: 100vh;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst PassportContainer = styled(CardContainer)`\n  background-size: 400px;\n  background-image: url(${PassportDashboardBackground});\n  max-height: 650px;\n`;\n\nconst SubHeader = styled(SubTitle)`\n  font-style: italic;\n`;\n\nconst HeaderContainer = styled.div`\n  width: 100%;\n  height: 100px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  margin: 12px auto;\n`;\nconst RedirectionLinks = styled.a`\n  text-transform: uppercase;\n  color: black;\n  font-weight: bold;\n  letter-spacing: 0.15em;\n  font-size: 12px;\n`;\n\nconst Logo = styled.img`\n  width: 100px;\n  height: 100px;\n  filter: drop-shadow(0 0mm 2px #cdcdcd);\n`;\n\nconst BodyContainer = styled.div`\n  width: 375px;\n  position: relative;\n  display: flex;\n  justify-content: center;\n`;\n\nconst TableContainer = styled.div`\n  width: 100%;\n  overflow: auto;\n  height: calc(100vh - 300px);\n`;\n\nconst Table = styled.table`\n  width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0;\n  font-size: 12px;\n`;\n\nconst AddNewTicket = styled(Button)`\n  position: fixed;\n  margin-left: -150px;\n  bottom: 0;\n  left: 50%;\n  width: 300px;\n  z-index: 100;\n  font-weight: bold;\n`;\n\nconst SendEmailContainer = styled.div`\n  padding: 10px;\n  position: absolute;\n  width: 340px;\n  margin: 0 auto;\n  height: 260px;\n  z-index: 20;\n  top: 70px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n\n  background: #f2eae8;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);\n  backdrop-filter: blur(4px);\n`;\n\nconst PassportIcon = styled.img`\n  width: 59px;\n  height: 76px;\n`;\n\nconst SendEmailButtonClose = styled(Button)`\n  padding: 0;\n  text-align: center;\n  height: 32px;\n  width: 115px;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-transform: uppercase;\n`;\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { LyftCode } from './LyftPromo';\nimport { MAILTO_URL } from '../../consts';\nimport {\n  getLyftReward,\n  redeemToken,\n} from '../../utilities/api/interactionManager';\n\nimport CircleLogo from './CircleLogo.png';\n\nconst LyftCodeScreen = () => {\n  const { contact_id, token } = useParams();\n  const [code, setCode] = useState('');\n\n  useEffect(() => {\n    getLyftReward(contact_id).then((res) => {\n      if (res.status === 200 && res.data) {\n        setCode(res.data.code);\n      } else {\n        redeemToken(contact_id, token).then((res) => {\n          if (res.status === 200 && res.data) {\n            setCode(res.data.code);\n          }\n        });\n      }\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <Container>\n      <HeaderContainer>\n        <RedirectionLinks\n          href=\"https://www.sendchinatownlove.com/food-crawl.html\"\n          target=\"_blank\"\n        >\n          Learn More\n        </RedirectionLinks>\n        <Logo src={CircleLogo} alt=\"scl-log\" />\n        <RedirectionLinks href={MAILTO_URL}>contact us</RedirectionLinks>\n      </HeaderContainer>\n      <BodyContainer>{code && <LyftCode code={code}></LyftCode>}</BodyContainer>\n    </Container>\n  );\n};\n\nexport default LyftCodeScreen;\n\nconst Container = styled.div`\n  position: relative;\n  width: 375px;\n  hidden: 100vh;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst HeaderContainer = styled.div`\n  width: 100%;\n  height: 100px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  margin: 12px auto;\n`;\n\nconst RedirectionLinks = styled.a`\n  text-transform: uppercase;\n  color: black;\n  font-weight: bold;\n  letter-spacing: 0.15em;\n  font-size: 12px;\n`;\n\nconst Logo = styled.img`\n  width: 100px;\n  height: 100px;\n  filter: drop-shadow(0 0mm 2px #cdcdcd);\n`;\n\nconst BodyContainer = styled.div`\n  width: 375px;\n  position: relative;\n  display: flex;\n  justify-content: center;\n`;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\n\nimport TrackScreen from './TrackScreen';\nimport RedemptionSelectScreen from './RedemptionSelectScreen';\nimport RedemptionClaimScreen from './RedemptionClaimScreen';\n\nimport ScreenName from './ScreenName';\nimport PassportScreen from './Passport';\nimport LyftCodeScreen from './LyftCodeScreen';\nimport CrawlMap from './CrawlMap.png';\nimport { useHistory } from 'react-router-dom';\n\ninterface Props {\n  screen: ScreenName;\n}\n\nconst PassportRedemption = (props: Props) => {\n  const { location } = useHistory();\n  const [currentScreenView, setCurrentScreenView] = useState<ScreenName>(\n    props.screen\n  );\n\n  useEffect(() => {\n    if (location.pathname === '/passport') {\n      setCurrentScreenView(ScreenName.Track);\n    } else if (location.pathname.includes('/tickets')) {\n      setCurrentScreenView(ScreenName.Dashboard);\n    }\n  }, [location.pathname]);\n\n  const showCurrentScreen = (screen) => {\n    // TODO: Update case #s when all screens are built out\n    // NOTE: not sure if this is the right flow,\n    // but currently set up like this for now for ease of editing\n    switch (screen) {\n      case ScreenName.Redemption:\n        return (\n          <RedemptionSelectScreen setCurrentScreenView={setCurrentScreenView} />\n        );\n      case ScreenName.Track:\n        return <TrackScreen setCurrentScreenView={setCurrentScreenView} />;\n      case ScreenName.Dashboard:\n        return <PassportScreen setCurrentScreenView={setCurrentScreenView} />;\n      case ScreenName.Claim:\n        return (\n          <RedemptionClaimScreen setCurrentScreenView={setCurrentScreenView} />\n        );\n      case ScreenName.LyftCode:\n        return <LyftCodeScreen />;\n      default:\n        return <TrackScreen setCurrentScreenView={setCurrentScreenView} />;\n    }\n  };\n\n  return <Container>{showCurrentScreen(currentScreenView)}</Container>;\n};\n\nexport default PassportRedemption;\n\nconst Container = styled.div`\n  background-color: #e5e5e5;\n  min-height: 100vh;\n  background-image: url(${CrawlMap});\n  width: 100%;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  @media (max-width: 475px) {\n    background-size: 500px;\n  }\n`;\n"],"sourceRoot":""}